(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function A(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=A(r);fetch(r.href,s)}})();function nv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wQ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var A=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};A.prototype=e.prototype}else A={};return Object.defineProperty(A,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(A,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),A}var rv={exports:{}},ou={},sv={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ha=Symbol.for("react.element"),BQ=Symbol.for("react.portal"),mQ=Symbol.for("react.fragment"),yQ=Symbol.for("react.strict_mode"),vQ=Symbol.for("react.profiler"),CQ=Symbol.for("react.provider"),EQ=Symbol.for("react.context"),_Q=Symbol.for("react.forward_ref"),FQ=Symbol.for("react.suspense"),QQ=Symbol.for("react.memo"),UQ=Symbol.for("react.lazy"),Qw=Symbol.iterator;function IQ(t){return t===null||typeof t!="object"?null:(t=Qw&&t[Qw]||t["@@iterator"],typeof t=="function"?t:null)}var iv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ov=Object.assign,av={};function _i(t,e,A){this.props=t,this.context=e,this.refs=av,this.updater=A||iv}_i.prototype.isReactComponent={};_i.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lv(){}lv.prototype=_i.prototype;function ip(t,e,A){this.props=t,this.context=e,this.refs=av,this.updater=A||iv}var op=ip.prototype=new lv;op.constructor=ip;ov(op,_i.prototype);op.isPureReactComponent=!0;var Uw=Array.isArray,cv=Object.prototype.hasOwnProperty,ap={current:null},uv={key:!0,ref:!0,__self:!0,__source:!0};function dv(t,e,A){var n,r={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)cv.call(e,n)&&!uv.hasOwnProperty(n)&&(r[n]=e[n]);var o=arguments.length-2;if(o===1)r.children=A;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)r[n]===void 0&&(r[n]=o[n]);return{$$typeof:ha,type:t,key:s,ref:i,props:r,_owner:ap.current}}function xQ(t,e){return{$$typeof:ha,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ha}function SQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(A){return e[A]})}var Iw=/\/+/g;function od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SQ(""+t.key):e.toString(36)}function Dl(t,e,A,n,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case ha:case BQ:i=!0}}if(i)return i=t,r=r(i),t=n===""?"."+od(i,0):n,Uw(r)?(A="",t!=null&&(A=t.replace(Iw,"$&/")+"/"),Dl(r,e,A,"",function(l){return l})):r!=null&&(lp(r)&&(r=xQ(r,A+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(Iw,"$&/")+"/")+t)),e.push(r)),1;if(i=0,n=n===""?".":n+":",Uw(t))for(var o=0;o<t.length;o++){s=t[o];var a=n+od(s,o);i+=Dl(s,e,A,a,r)}else if(a=IQ(t),typeof a=="function")for(t=a.call(t),o=0;!(s=t.next()).done;)s=s.value,a=n+od(s,o++),i+=Dl(s,e,A,a,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Ha(t,e,A){if(t==null)return t;var n=[],r=0;return Dl(t,n,"","",function(s){return e.call(A,s,r++)}),n}function bQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(A){(t._status===0||t._status===-1)&&(t._status=1,t._result=A)},function(A){(t._status===0||t._status===-1)&&(t._status=2,t._result=A)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},Nl={transition:null},TQ={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Nl,ReactCurrentOwner:ap};function fv(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Ha,forEach:function(t,e,A){Ha(t,function(){e.apply(this,arguments)},A)},count:function(t){var e=0;return Ha(t,function(){e++}),e},toArray:function(t){return Ha(t,function(e){return e})||[]},only:function(t){if(!lp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=_i;ye.Fragment=mQ;ye.Profiler=vQ;ye.PureComponent=ip;ye.StrictMode=yQ;ye.Suspense=FQ;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TQ;ye.act=fv;ye.cloneElement=function(t,e,A){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ov({},t.props),r=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=ap.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(a in e)cv.call(e,a)&&!uv.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&o!==void 0?o[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=A;else if(1<a){o=Array(a);for(var l=0;l<a;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:ha,type:t.type,key:r,ref:s,props:n,_owner:i}};ye.createContext=function(t){return t={$$typeof:EQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CQ,_context:t},t.Consumer=t};ye.createElement=dv;ye.createFactory=function(t){var e=dv.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:_Q,render:t}};ye.isValidElement=lp;ye.lazy=function(t){return{$$typeof:UQ,_payload:{_status:-1,_result:t},_init:bQ}};ye.memo=function(t,e){return{$$typeof:QQ,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Nl.transition;Nl.transition={};try{t()}finally{Nl.transition=e}};ye.unstable_act=fv;ye.useCallback=function(t,e){return Xt.current.useCallback(t,e)};ye.useContext=function(t){return Xt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Xt.current.useEffect(t,e)};ye.useId=function(){return Xt.current.useId()};ye.useImperativeHandle=function(t,e,A){return Xt.current.useImperativeHandle(t,e,A)};ye.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Xt.current.useMemo(t,e)};ye.useReducer=function(t,e,A){return Xt.current.useReducer(t,e,A)};ye.useRef=function(t){return Xt.current.useRef(t)};ye.useState=function(t){return Xt.current.useState(t)};ye.useSyncExternalStore=function(t,e,A){return Xt.current.useSyncExternalStore(t,e,A)};ye.useTransition=function(){return Xt.current.useTransition()};ye.version="18.3.1";sv.exports=ye;var x=sv.exports;const Lo=nv(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DQ=x,NQ=Symbol.for("react.element"),HQ=Symbol.for("react.fragment"),kQ=Object.prototype.hasOwnProperty,LQ=DQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RQ={key:!0,ref:!0,__self:!0,__source:!0};function hv(t,e,A){var n,r={},s=null,i=null;A!==void 0&&(s=""+A),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)kQ.call(e,n)&&!RQ.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:NQ,type:t,key:s,ref:i,props:r,_owner:LQ.current}}ou.Fragment=HQ;ou.jsx=hv;ou.jsxs=hv;rv.exports=ou;var f=rv.exports,mf={},pv={exports:{}},gA={},gv={exports:{}},wv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,V){var G=k.length;k.push(V);e:for(;0<G;){var te=G-1>>>1,ae=k[te];if(0<r(ae,V))k[te]=V,k[G]=ae,G=te;else break e}}function A(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var V=k[0],G=k.pop();if(G!==V){k[0]=G;e:for(var te=0,ae=k.length,$e=ae>>>1;te<$e;){var ee=2*(te+1)-1,Oe=k[ee],Ue=ee+1,Ie=k[Ue];if(0>r(Oe,G))Ue<ae&&0>r(Ie,Oe)?(k[te]=Ie,k[Ue]=G,te=Ue):(k[te]=Oe,k[ee]=G,te=ee);else if(Ue<ae&&0>r(Ie,G))k[te]=Ie,k[Ue]=G,te=Ue;else break e}}return V}function r(k,V){var G=k.sortIndex-V.sortIndex;return G!==0?G:k.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var a=[],l=[],d=1,c=null,u=3,p=!1,w=!1,m=!1,I=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(k){for(var V=A(l);V!==null;){if(V.callback===null)n(l);else if(V.startTime<=k)n(l),V.sortIndex=V.expirationTime,e(a,V);else break;V=A(l)}}function v(k){if(m=!1,g(k),!w)if(A(a)!==null)w=!0,j(E);else{var V=A(l);V!==null&&oe(v,V.startTime-k)}}function E(k,V){w=!1,m&&(m=!1,B(F),F=-1),p=!0;var G=u;try{for(g(V),c=A(a);c!==null&&(!(c.expirationTime>V)||k&&!P());){var te=c.callback;if(typeof te=="function"){c.callback=null,u=c.priorityLevel;var ae=te(c.expirationTime<=V);V=t.unstable_now(),typeof ae=="function"?c.callback=ae:c===A(a)&&n(a),g(V)}else n(a);c=A(a)}if(c!==null)var $e=!0;else{var ee=A(l);ee!==null&&oe(v,ee.startTime-V),$e=!1}return $e}finally{c=null,u=G,p=!1}}var y=!1,Q=null,F=-1,N=5,D=-1;function P(){return!(t.unstable_now()-D<N)}function Z(){if(Q!==null){var k=t.unstable_now();D=k;var V=!0;try{V=Q(!0,k)}finally{V?X():(y=!1,Q=null)}}else y=!1}var X;if(typeof h=="function")X=function(){h(Z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,M=q.port2;q.port1.onmessage=Z,X=function(){M.postMessage(null)}}else X=function(){I(Z,0)};function j(k){Q=k,y||(y=!0,X())}function oe(k,V){F=I(function(){k(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,j(E))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return A(a)},t.unstable_next=function(k){switch(u){case 1:case 2:case 3:var V=3;break;default:V=u}var G=u;u=V;try{return k()}finally{u=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,V){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var G=u;u=k;try{return V()}finally{u=G}},t.unstable_scheduleCallback=function(k,V,G){var te=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,k){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=G+ae,k={id:d++,callback:V,priorityLevel:k,startTime:G,expirationTime:ae,sortIndex:-1},G>te?(k.sortIndex=G,e(l,k),A(a)===null&&k===A(l)&&(m?(B(F),F=-1):m=!0,oe(v,G-te))):(k.sortIndex=ae,e(a,k),w||p||(w=!0,j(E))),k},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(k){var V=u;return function(){var G=u;u=V;try{return k.apply(this,arguments)}finally{u=G}}}})(wv);gv.exports=wv;var PQ=gv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OQ=x,pA=PQ;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,A=1;A<arguments.length;A++)e+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bv=new Set,Ro={};function ps(t,e){ai(t,e),ai(t+"Capture",e)}function ai(t,e){for(Ro[t]=e,t=0;t<e.length;t++)Bv.add(e[t])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=Object.prototype.hasOwnProperty,MQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xw={},Sw={};function KQ(t){return yf.call(Sw,t)?!0:yf.call(xw,t)?!1:MQ.test(t)?Sw[t]=!0:(xw[t]=!0,!1)}function VQ(t,e,A,n){if(A!==null&&A.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:A!==null?!A.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GQ(t,e,A,n){if(e===null||typeof e>"u"||VQ(t,e,A,n))return!0;if(n)return!1;if(A!==null)switch(A.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,A,n,r,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=A,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var cp=/[\-:]([a-z])/g;function up(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cp,up);It[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cp,up);It[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cp,up);It[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function dp(t,e,A,n){var r=It.hasOwnProperty(e)?It[e]:null;(r!==null?r.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GQ(e,A,r,n)&&(A=null),n||r===null?KQ(e)&&(A===null?t.removeAttribute(e):t.setAttribute(e,""+A)):r.mustUseProperty?t[r.propertyName]=A===null?r.type===3?!1:"":A:(e=r.attributeName,n=r.attributeNamespace,A===null?t.removeAttribute(e):(r=r.type,A=r===3||r===4&&A===!0?"":""+A,n?t.setAttributeNS(n,e,A):t.setAttribute(e,A))))}var Kn=OQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ka=Symbol.for("react.element"),Ns=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),vf=Symbol.for("react.profiler"),mv=Symbol.for("react.provider"),yv=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),Cf=Symbol.for("react.suspense"),Ef=Symbol.for("react.suspense_list"),pp=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),vv=Symbol.for("react.offscreen"),bw=Symbol.iterator;function Oi(t){return t===null||typeof t!="object"?null:(t=bw&&t[bw]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,ad;function ro(t){if(ad===void 0)try{throw Error()}catch(A){var e=A.stack.trim().match(/\n( *(at )?)/);ad=e&&e[1]||""}return`
`+ad+t}var ld=!1;function cd(t,e){if(!t||ld)return"";ld=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var r=l.stack.split(`
`),s=n.stack.split(`
`),i=r.length-1,o=s.length-1;1<=i&&0<=o&&r[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||r[i]!==s[o]){var a=`
`+r[i].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=i&&0<=o);break}}}finally{ld=!1,Error.prepareStackTrace=A}return(t=t?t.displayName||t.name:"")?ro(t):""}function jQ(t){switch(t.tag){case 5:return ro(t.type);case 16:return ro("Lazy");case 13:return ro("Suspense");case 19:return ro("SuspenseList");case 0:case 2:case 15:return t=cd(t.type,!1),t;case 11:return t=cd(t.type.render,!1),t;case 1:return t=cd(t.type,!0),t;default:return""}}function _f(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hs:return"Fragment";case Ns:return"Portal";case vf:return"Profiler";case fp:return"StrictMode";case Cf:return"Suspense";case Ef:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yv:return(t.displayName||"Context")+".Consumer";case mv:return(t._context.displayName||"Context")+".Provider";case hp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pp:return e=t.displayName||null,e!==null?e:_f(t.type)||"Memo";case Jn:e=t._payload,t=t._init;try{return _f(t(e))}catch{}}return null}function zQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _f(e);case 8:return e===fp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WQ(t){var e=Cv(t)?"checked":"value",A=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var r=A.get,s=A.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:A.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function La(t){t._valueTracker||(t._valueTracker=WQ(t))}function Ev(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var A=e.getValue(),n="";return t&&(n=Cv(t)?t.checked?"true":"false":t.value),t=n,t!==A?(e.setValue(t),!0):!1}function ec(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ff(t,e){var A=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??t._wrapperState.initialChecked})}function Tw(t,e){var A=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;A=Fr(e.value!=null?e.value:A),t._wrapperState={initialChecked:n,initialValue:A,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _v(t,e){e=e.checked,e!=null&&dp(t,"checked",e,!1)}function Qf(t,e){_v(t,e);var A=Fr(e.value),n=e.type;if(A!=null)n==="number"?(A===0&&t.value===""||t.value!=A)&&(t.value=""+A):t.value!==""+A&&(t.value=""+A);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uf(t,e.type,A):e.hasOwnProperty("defaultValue")&&Uf(t,e.type,Fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dw(t,e,A){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,A||e===t.value||(t.value=e),t.defaultValue=e}A=t.name,A!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,A!==""&&(t.name=A)}function Uf(t,e,A){(e!=="number"||ec(t.ownerDocument)!==t)&&(A==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+A&&(t.defaultValue=""+A))}var so=Array.isArray;function Ys(t,e,A,n){if(t=t.options,e){e={};for(var r=0;r<A.length;r++)e["$"+A[r]]=!0;for(A=0;A<t.length;A++)r=e.hasOwnProperty("$"+t[A].value),t[A].selected!==r&&(t[A].selected=r),r&&n&&(t[A].defaultSelected=!0)}else{for(A=""+Fr(A),e=null,r=0;r<t.length;r++){if(t[r].value===A){t[r].selected=!0,n&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function If(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nw(t,e){var A=e.value;if(A==null){if(A=e.children,e=e.defaultValue,A!=null){if(e!=null)throw Error(L(92));if(so(A)){if(1<A.length)throw Error(L(93));A=A[0]}e=A}e==null&&(e=""),A=e}t._wrapperState={initialValue:Fr(A)}}function Fv(t,e){var A=Fr(e.value),n=Fr(e.defaultValue);A!=null&&(A=""+A,A!==t.value&&(t.value=A),e.defaultValue==null&&t.defaultValue!==A&&(t.defaultValue=A)),n!=null&&(t.defaultValue=""+n)}function Hw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ra,Uv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,A,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,A,n,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ra=Ra||document.createElement("div"),Ra.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ra.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Po(t,e){if(e){var A=t.firstChild;if(A&&A===t.lastChild&&A.nodeType===3){A.nodeValue=e;return}}t.textContent=e}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XQ=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(t){XQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),go[e]=go[t]})});function Iv(t,e,A){return e==null||typeof e=="boolean"||e===""?"":A||typeof e!="number"||e===0||go.hasOwnProperty(t)&&go[t]?(""+e).trim():e+"px"}function xv(t,e){t=t.style;for(var A in e)if(e.hasOwnProperty(A)){var n=A.indexOf("--")===0,r=Iv(A,e[A],n);A==="float"&&(A="cssFloat"),n?t.setProperty(A,r):t[A]=r}}var YQ=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sf(t,e){if(e){if(YQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=null;function gp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Df=null,$s=null,Js=null;function kw(t){if(t=wa(t)){if(typeof Df!="function")throw Error(L(280));var e=t.stateNode;e&&(e=du(e),Df(t.stateNode,t.type,e))}}function Sv(t){$s?Js?Js.push(t):Js=[t]:$s=t}function bv(){if($s){var t=$s,e=Js;if(Js=$s=null,kw(t),e)for(t=0;t<e.length;t++)kw(e[t])}}function Tv(t,e){return t(e)}function Dv(){}var ud=!1;function Nv(t,e,A){if(ud)return t(e,A);ud=!0;try{return Tv(t,e,A)}finally{ud=!1,($s!==null||Js!==null)&&(Dv(),bv())}}function Oo(t,e){var A=t.stateNode;if(A===null)return null;var n=du(A);if(n===null)return null;A=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(A&&typeof A!="function")throw Error(L(231,e,typeof A));return A}var Nf=!1;if(Dn)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{Nf=!1}function $Q(t,e,A,n,r,s,i,o,a){var l=Array.prototype.slice.call(arguments,3);try{e.apply(A,l)}catch(d){this.onError(d)}}var wo=!1,tc=null,Ac=!1,Hf=null,JQ={onError:function(t){wo=!0,tc=t}};function ZQ(t,e,A,n,r,s,i,o,a){wo=!1,tc=null,$Q.apply(JQ,arguments)}function qQ(t,e,A,n,r,s,i,o,a){if(ZQ.apply(this,arguments),wo){if(wo){var l=tc;wo=!1,tc=null}else throw Error(L(198));Ac||(Ac=!0,Hf=l)}}function gs(t){var e=t,A=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(A=e.return),t=e.return;while(t)}return e.tag===3?A:null}function Hv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lw(t){if(gs(t)!==t)throw Error(L(188))}function eU(t){var e=t.alternate;if(!e){if(e=gs(t),e===null)throw Error(L(188));return e!==t?null:t}for(var A=t,n=e;;){var r=A.return;if(r===null)break;var s=r.alternate;if(s===null){if(n=r.return,n!==null){A=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===A)return Lw(r),t;if(s===n)return Lw(r),e;s=s.sibling}throw Error(L(188))}if(A.return!==n.return)A=r,n=s;else{for(var i=!1,o=r.child;o;){if(o===A){i=!0,A=r,n=s;break}if(o===n){i=!0,n=r,A=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===A){i=!0,A=s,n=r;break}if(o===n){i=!0,n=s,A=r;break}o=o.sibling}if(!i)throw Error(L(189))}}if(A.alternate!==n)throw Error(L(190))}if(A.tag!==3)throw Error(L(188));return A.stateNode.current===A?t:e}function kv(t){return t=eU(t),t!==null?Lv(t):null}function Lv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lv(t);if(e!==null)return e;t=t.sibling}return null}var Rv=pA.unstable_scheduleCallback,Rw=pA.unstable_cancelCallback,tU=pA.unstable_shouldYield,AU=pA.unstable_requestPaint,it=pA.unstable_now,nU=pA.unstable_getCurrentPriorityLevel,wp=pA.unstable_ImmediatePriority,Pv=pA.unstable_UserBlockingPriority,nc=pA.unstable_NormalPriority,rU=pA.unstable_LowPriority,Ov=pA.unstable_IdlePriority,au=null,an=null;function sU(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(au,t,void 0,(t.current.flags&128)===128)}catch{}}var jA=Math.clz32?Math.clz32:aU,iU=Math.log,oU=Math.LN2;function aU(t){return t>>>=0,t===0?32:31-(iU(t)/oU|0)|0}var Pa=64,Oa=4194304;function io(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rc(t,e){var A=t.pendingLanes;if(A===0)return 0;var n=0,r=t.suspendedLanes,s=t.pingedLanes,i=A&268435455;if(i!==0){var o=i&~r;o!==0?n=io(o):(s&=i,s!==0&&(n=io(s)))}else i=A&~r,i!==0?n=io(i):s!==0&&(n=io(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&r)&&(r=n&-n,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(n&4&&(n|=A&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)A=31-jA(e),r=1<<A,n|=t[A],e&=~r;return n}function lU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cU(t,e){for(var A=t.suspendedLanes,n=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-jA(s),o=1<<i,a=r[i];a===-1?(!(o&A)||o&n)&&(r[i]=lU(o,e)):a<=e&&(t.expiredLanes|=o),s&=~o}}function kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mv(){var t=Pa;return Pa<<=1,!(Pa&4194240)&&(Pa=64),t}function dd(t){for(var e=[],A=0;31>A;A++)e.push(t);return e}function pa(t,e,A){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jA(e),t[e]=A}function uU(t,e){var A=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<A;){var r=31-jA(A),s=1<<r;e[r]=0,n[r]=-1,t[r]=-1,A&=~s}}function Bp(t,e){var A=t.entangledLanes|=e;for(t=t.entanglements;A;){var n=31-jA(A),r=1<<n;r&e|t[n]&e&&(t[n]|=e),A&=~r}}var ke=0;function Kv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vv,mp,Gv,jv,zv,Lf=!1,Ma=[],ur=null,dr=null,fr=null,Mo=new Map,Ko=new Map,er=[],dU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pw(t,e){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Mo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(e.pointerId)}}function Ki(t,e,A,n,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:A,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},e!==null&&(e=wa(e),e!==null&&mp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function fU(t,e,A,n,r){switch(e){case"focusin":return ur=Ki(ur,t,e,A,n,r),!0;case"dragenter":return dr=Ki(dr,t,e,A,n,r),!0;case"mouseover":return fr=Ki(fr,t,e,A,n,r),!0;case"pointerover":var s=r.pointerId;return Mo.set(s,Ki(Mo.get(s)||null,t,e,A,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Ko.set(s,Ki(Ko.get(s)||null,t,e,A,n,r)),!0}return!1}function Wv(t){var e=jr(t.target);if(e!==null){var A=gs(e);if(A!==null){if(e=A.tag,e===13){if(e=Hv(A),e!==null){t.blockedOn=e,zv(t.priority,function(){Gv(A)});return}}else if(e===3&&A.stateNode.current.memoizedState.isDehydrated){t.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var A=Rf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(A===null){A=t.nativeEvent;var n=new A.constructor(A.type,A);Tf=n,A.target.dispatchEvent(n),Tf=null}else return e=wa(A),e!==null&&mp(e),t.blockedOn=A,!1;e.shift()}return!0}function Ow(t,e,A){Hl(t)&&A.delete(e)}function hU(){Lf=!1,ur!==null&&Hl(ur)&&(ur=null),dr!==null&&Hl(dr)&&(dr=null),fr!==null&&Hl(fr)&&(fr=null),Mo.forEach(Ow),Ko.forEach(Ow)}function Vi(t,e){t.blockedOn===e&&(t.blockedOn=null,Lf||(Lf=!0,pA.unstable_scheduleCallback(pA.unstable_NormalPriority,hU)))}function Vo(t){function e(r){return Vi(r,t)}if(0<Ma.length){Vi(Ma[0],t);for(var A=1;A<Ma.length;A++){var n=Ma[A];n.blockedOn===t&&(n.blockedOn=null)}}for(ur!==null&&Vi(ur,t),dr!==null&&Vi(dr,t),fr!==null&&Vi(fr,t),Mo.forEach(e),Ko.forEach(e),A=0;A<er.length;A++)n=er[A],n.blockedOn===t&&(n.blockedOn=null);for(;0<er.length&&(A=er[0],A.blockedOn===null);)Wv(A),A.blockedOn===null&&er.shift()}var Zs=Kn.ReactCurrentBatchConfig,sc=!0;function pU(t,e,A,n){var r=ke,s=Zs.transition;Zs.transition=null;try{ke=1,yp(t,e,A,n)}finally{ke=r,Zs.transition=s}}function gU(t,e,A,n){var r=ke,s=Zs.transition;Zs.transition=null;try{ke=4,yp(t,e,A,n)}finally{ke=r,Zs.transition=s}}function yp(t,e,A,n){if(sc){var r=Rf(t,e,A,n);if(r===null)Cd(t,e,n,ic,A),Pw(t,n);else if(fU(r,t,e,A,n))n.stopPropagation();else if(Pw(t,n),e&4&&-1<dU.indexOf(t)){for(;r!==null;){var s=wa(r);if(s!==null&&Vv(s),s=Rf(t,e,A,n),s===null&&Cd(t,e,n,ic,A),s===r)break;r=s}r!==null&&n.stopPropagation()}else Cd(t,e,n,null,A)}}var ic=null;function Rf(t,e,A,n){if(ic=null,t=gp(n),t=jr(t),t!==null)if(e=gs(t),e===null)t=null;else if(A=e.tag,A===13){if(t=Hv(e),t!==null)return t;t=null}else if(A===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ic=t,null}function Xv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nU()){case wp:return 1;case Pv:return 4;case nc:case rU:return 16;case Ov:return 536870912;default:return 16}default:return 16}}var sr=null,vp=null,kl=null;function Yv(){if(kl)return kl;var t,e=vp,A=e.length,n,r="value"in sr?sr.value:sr.textContent,s=r.length;for(t=0;t<A&&e[t]===r[t];t++);var i=A-t;for(n=1;n<=i&&e[A-n]===r[s-n];n++);return kl=r.slice(t,1<n?1-n:void 0)}function Ll(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ka(){return!0}function Mw(){return!1}function wA(t){function e(A,n,r,s,i){this._reactName=A,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(A=t[o],this[o]=A?A(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ka:Mw,this.isPropagationStopped=Mw,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),e}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cp=wA(Fi),ga=qe({},Fi,{view:0,detail:0}),wU=wA(ga),fd,hd,Gi,lu=qe({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ep,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(fd=t.screenX-Gi.screenX,hd=t.screenY-Gi.screenY):hd=fd=0,Gi=t),fd)},movementY:function(t){return"movementY"in t?t.movementY:hd}}),Kw=wA(lu),BU=qe({},lu,{dataTransfer:0}),mU=wA(BU),yU=qe({},ga,{relatedTarget:0}),pd=wA(yU),vU=qe({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),CU=wA(vU),EU=qe({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_U=wA(EU),FU=qe({},Fi,{data:0}),Vw=wA(FU),QU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IU[t])?!!e[t]:!1}function Ep(){return xU}var SU=qe({},ga,{key:function(t){if(t.key){var e=QU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ep,charCode:function(t){return t.type==="keypress"?Ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bU=wA(SU),TU=qe({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gw=wA(TU),DU=qe({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ep}),NU=wA(DU),HU=qe({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kU=wA(HU),LU=qe({},lu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RU=wA(LU),PU=[9,13,27,32],_p=Dn&&"CompositionEvent"in window,Bo=null;Dn&&"documentMode"in document&&(Bo=document.documentMode);var OU=Dn&&"TextEvent"in window&&!Bo,$v=Dn&&(!_p||Bo&&8<Bo&&11>=Bo),jw=" ",zw=!1;function Jv(t,e){switch(t){case"keyup":return PU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ks=!1;function MU(t,e){switch(t){case"compositionend":return Zv(e);case"keypress":return e.which!==32?null:(zw=!0,jw);case"textInput":return t=e.data,t===jw&&zw?null:t;default:return null}}function KU(t,e){if(ks)return t==="compositionend"||!_p&&Jv(t,e)?(t=Yv(),kl=vp=sr=null,ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $v&&e.locale!=="ko"?null:e.data;default:return null}}var VU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ww(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VU[t.type]:e==="textarea"}function qv(t,e,A,n){Sv(n),e=oc(e,"onChange"),0<e.length&&(A=new Cp("onChange","change",null,A,n),t.push({event:A,listeners:e}))}var mo=null,Go=null;function GU(t){c0(t,0)}function cu(t){var e=Ps(t);if(Ev(e))return t}function jU(t,e){if(t==="change")return e}var e0=!1;if(Dn){var gd;if(Dn){var wd="oninput"in document;if(!wd){var Xw=document.createElement("div");Xw.setAttribute("oninput","return;"),wd=typeof Xw.oninput=="function"}gd=wd}else gd=!1;e0=gd&&(!document.documentMode||9<document.documentMode)}function Yw(){mo&&(mo.detachEvent("onpropertychange",t0),Go=mo=null)}function t0(t){if(t.propertyName==="value"&&cu(Go)){var e=[];qv(e,Go,t,gp(t)),Nv(GU,e)}}function zU(t,e,A){t==="focusin"?(Yw(),mo=e,Go=A,mo.attachEvent("onpropertychange",t0)):t==="focusout"&&Yw()}function WU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cu(Go)}function XU(t,e){if(t==="click")return cu(e)}function YU(t,e){if(t==="input"||t==="change")return cu(e)}function $U(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var YA=typeof Object.is=="function"?Object.is:$U;function jo(t,e){if(YA(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var A=Object.keys(t),n=Object.keys(e);if(A.length!==n.length)return!1;for(n=0;n<A.length;n++){var r=A[n];if(!yf.call(e,r)||!YA(t[r],e[r]))return!1}return!0}function $w(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jw(t,e){var A=$w(t);t=0;for(var n;A;){if(A.nodeType===3){if(n=t+A.textContent.length,t<=e&&n>=e)return{node:A,offset:e-t};t=n}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=$w(A)}}function A0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?A0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function n0(){for(var t=window,e=ec();e instanceof t.HTMLIFrameElement;){try{var A=typeof e.contentWindow.location.href=="string"}catch{A=!1}if(A)t=e.contentWindow;else break;e=ec(t.document)}return e}function Fp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JU(t){var e=n0(),A=t.focusedElem,n=t.selectionRange;if(e!==A&&A&&A.ownerDocument&&A0(A.ownerDocument.documentElement,A)){if(n!==null&&Fp(A)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in A)A.selectionStart=e,A.selectionEnd=Math.min(t,A.value.length);else if(t=(e=A.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=A.textContent.length,s=Math.min(n.start,r);n=n.end===void 0?s:Math.min(n.end,r),!t.extend&&s>n&&(r=n,n=s,s=r),r=Jw(A,s);var i=Jw(A,n);r&&i&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=A;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<e.length;A++)t=e[A],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZU=Dn&&"documentMode"in document&&11>=document.documentMode,Ls=null,Pf=null,yo=null,Of=!1;function Zw(t,e,A){var n=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;Of||Ls==null||Ls!==ec(n)||(n=Ls,"selectionStart"in n&&Fp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yo&&jo(yo,n)||(yo=n,n=oc(Pf,"onSelect"),0<n.length&&(e=new Cp("onSelect","select",null,e,A),t.push({event:e,listeners:n}),e.target=Ls)))}function Va(t,e){var A={};return A[t.toLowerCase()]=e.toLowerCase(),A["Webkit"+t]="webkit"+e,A["Moz"+t]="moz"+e,A}var Rs={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},Bd={},r0={};Dn&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function uu(t){if(Bd[t])return Bd[t];if(!Rs[t])return t;var e=Rs[t],A;for(A in e)if(e.hasOwnProperty(A)&&A in r0)return Bd[t]=e[A];return t}var s0=uu("animationend"),i0=uu("animationiteration"),o0=uu("animationstart"),a0=uu("transitionend"),l0=new Map,qw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(t,e){l0.set(t,e),ps(e,[t])}for(var md=0;md<qw.length;md++){var yd=qw[md],qU=yd.toLowerCase(),eI=yd[0].toUpperCase()+yd.slice(1);Sr(qU,"on"+eI)}Sr(s0,"onAnimationEnd");Sr(i0,"onAnimationIteration");Sr(o0,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(a0,"onTransitionEnd");ai("onMouseEnter",["mouseout","mouseover"]);ai("onMouseLeave",["mouseout","mouseover"]);ai("onPointerEnter",["pointerout","pointerover"]);ai("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tI=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function eB(t,e,A){var n=t.type||"unknown-event";t.currentTarget=A,qQ(n,e,void 0,t),t.currentTarget=null}function c0(t,e){e=(e&4)!==0;for(var A=0;A<t.length;A++){var n=t[A],r=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var o=n[i],a=o.instance,l=o.currentTarget;if(o=o.listener,a!==s&&r.isPropagationStopped())break e;eB(r,o,l),s=a}else for(i=0;i<n.length;i++){if(o=n[i],a=o.instance,l=o.currentTarget,o=o.listener,a!==s&&r.isPropagationStopped())break e;eB(r,o,l),s=a}}}if(Ac)throw t=Hf,Ac=!1,Hf=null,t}function ze(t,e){var A=e[jf];A===void 0&&(A=e[jf]=new Set);var n=t+"__bubble";A.has(n)||(u0(e,t,2,!1),A.add(n))}function vd(t,e,A){var n=0;e&&(n|=4),u0(A,t,n,e)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function zo(t){if(!t[Ga]){t[Ga]=!0,Bv.forEach(function(A){A!=="selectionchange"&&(tI.has(A)||vd(A,!1,t),vd(A,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ga]||(e[Ga]=!0,vd("selectionchange",!1,e))}}function u0(t,e,A,n){switch(Xv(e)){case 1:var r=pU;break;case 4:r=gU;break;default:r=yp}A=r.bind(null,e,A,t),r=void 0,!Nf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?t.addEventListener(e,A,{capture:!0,passive:r}):t.addEventListener(e,A,!0):r!==void 0?t.addEventListener(e,A,{passive:r}):t.addEventListener(e,A,!1)}function Cd(t,e,A,n,r){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(i===4)for(i=n.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===r||a.nodeType===8&&a.parentNode===r))return;i=i.return}for(;o!==null;){if(i=jr(o),i===null)return;if(a=i.tag,a===5||a===6){n=s=i;continue e}o=o.parentNode}}n=n.return}Nv(function(){var l=s,d=gp(A),c=[];e:{var u=l0.get(t);if(u!==void 0){var p=Cp,w=t;switch(t){case"keypress":if(Ll(A)===0)break e;case"keydown":case"keyup":p=bU;break;case"focusin":w="focus",p=pd;break;case"focusout":w="blur",p=pd;break;case"beforeblur":case"afterblur":p=pd;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Kw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=NU;break;case s0:case i0:case o0:p=CU;break;case a0:p=kU;break;case"scroll":p=wU;break;case"wheel":p=RU;break;case"copy":case"cut":case"paste":p=_U;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Gw}var m=(e&4)!==0,I=!m&&t==="scroll",B=m?u!==null?u+"Capture":null:u;m=[];for(var h=l,g;h!==null;){g=h;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,B!==null&&(v=Oo(h,B),v!=null&&m.push(Wo(h,v,g)))),I)break;h=h.return}0<m.length&&(u=new p(u,w,null,A,d),c.push({event:u,listeners:m}))}}if(!(e&7)){e:{if(u=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",u&&A!==Tf&&(w=A.relatedTarget||A.fromElement)&&(jr(w)||w[Nn]))break e;if((p||u)&&(u=d.window===d?d:(u=d.ownerDocument)?u.defaultView||u.parentWindow:window,p?(w=A.relatedTarget||A.toElement,p=l,w=w?jr(w):null,w!==null&&(I=gs(w),w!==I||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=l),p!==w)){if(m=Kw,v="onMouseLeave",B="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(m=Gw,v="onPointerLeave",B="onPointerEnter",h="pointer"),I=p==null?u:Ps(p),g=w==null?u:Ps(w),u=new m(v,h+"leave",p,A,d),u.target=I,u.relatedTarget=g,v=null,jr(d)===l&&(m=new m(B,h+"enter",w,A,d),m.target=g,m.relatedTarget=I,v=m),I=v,p&&w)t:{for(m=p,B=w,h=0,g=m;g;g=Cs(g))h++;for(g=0,v=B;v;v=Cs(v))g++;for(;0<h-g;)m=Cs(m),h--;for(;0<g-h;)B=Cs(B),g--;for(;h--;){if(m===B||B!==null&&m===B.alternate)break t;m=Cs(m),B=Cs(B)}m=null}else m=null;p!==null&&tB(c,u,p,m,!1),w!==null&&I!==null&&tB(c,I,w,m,!0)}}e:{if(u=l?Ps(l):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var E=jU;else if(Ww(u))if(e0)E=YU;else{E=WU;var y=zU}else(p=u.nodeName)&&p.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(E=XU);if(E&&(E=E(t,l))){qv(c,E,A,d);break e}y&&y(t,u,l),t==="focusout"&&(y=u._wrapperState)&&y.controlled&&u.type==="number"&&Uf(u,"number",u.value)}switch(y=l?Ps(l):window,t){case"focusin":(Ww(y)||y.contentEditable==="true")&&(Ls=y,Pf=l,yo=null);break;case"focusout":yo=Pf=Ls=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Zw(c,A,d);break;case"selectionchange":if(ZU)break;case"keydown":case"keyup":Zw(c,A,d)}var Q;if(_p)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else ks?Jv(t,A)&&(F="onCompositionEnd"):t==="keydown"&&A.keyCode===229&&(F="onCompositionStart");F&&($v&&A.locale!=="ko"&&(ks||F!=="onCompositionStart"?F==="onCompositionEnd"&&ks&&(Q=Yv()):(sr=d,vp="value"in sr?sr.value:sr.textContent,ks=!0)),y=oc(l,F),0<y.length&&(F=new Vw(F,t,null,A,d),c.push({event:F,listeners:y}),Q?F.data=Q:(Q=Zv(A),Q!==null&&(F.data=Q)))),(Q=OU?MU(t,A):KU(t,A))&&(l=oc(l,"onBeforeInput"),0<l.length&&(d=new Vw("onBeforeInput","beforeinput",null,A,d),c.push({event:d,listeners:l}),d.data=Q))}c0(c,e)})}function Wo(t,e,A){return{instance:t,listener:e,currentTarget:A}}function oc(t,e){for(var A=e+"Capture",n=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Oo(t,A),s!=null&&n.unshift(Wo(t,s,r)),s=Oo(t,e),s!=null&&n.push(Wo(t,s,r))),t=t.return}return n}function Cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tB(t,e,A,n,r){for(var s=e._reactName,i=[];A!==null&&A!==n;){var o=A,a=o.alternate,l=o.stateNode;if(a!==null&&a===n)break;o.tag===5&&l!==null&&(o=l,r?(a=Oo(A,s),a!=null&&i.unshift(Wo(A,a,o))):r||(a=Oo(A,s),a!=null&&i.push(Wo(A,a,o)))),A=A.return}i.length!==0&&t.push({event:e,listeners:i})}var AI=/\r\n?/g,nI=/\u0000|\uFFFD/g;function AB(t){return(typeof t=="string"?t:""+t).replace(AI,`
`).replace(nI,"")}function ja(t,e,A){if(e=AB(e),AB(t)!==e&&A)throw Error(L(425))}function ac(){}var Mf=null,Kf=null;function Vf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,rI=typeof clearTimeout=="function"?clearTimeout:void 0,nB=typeof Promise=="function"?Promise:void 0,sI=typeof queueMicrotask=="function"?queueMicrotask:typeof nB<"u"?function(t){return nB.resolve(null).then(t).catch(iI)}:Gf;function iI(t){setTimeout(function(){throw t})}function Ed(t,e){var A=e,n=0;do{var r=A.nextSibling;if(t.removeChild(A),r&&r.nodeType===8)if(A=r.data,A==="/$"){if(n===0){t.removeChild(r),Vo(e);return}n--}else A!=="$"&&A!=="$?"&&A!=="$!"||n++;A=r}while(A);Vo(e)}function hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rB(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var A=t.data;if(A==="$"||A==="$!"||A==="$?"){if(e===0)return t;e--}else A==="/$"&&e++}t=t.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),sn="__reactFiber$"+Qi,Xo="__reactProps$"+Qi,Nn="__reactContainer$"+Qi,jf="__reactEvents$"+Qi,oI="__reactListeners$"+Qi,aI="__reactHandles$"+Qi;function jr(t){var e=t[sn];if(e)return e;for(var A=t.parentNode;A;){if(e=A[Nn]||A[sn]){if(A=e.alternate,e.child!==null||A!==null&&A.child!==null)for(t=rB(t);t!==null;){if(A=t[sn])return A;t=rB(t)}return e}t=A,A=t.parentNode}return null}function wa(t){return t=t[sn]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function du(t){return t[Xo]||null}var zf=[],Os=-1;function br(t){return{current:t}}function We(t){0>Os||(t.current=zf[Os],zf[Os]=null,Os--)}function je(t,e){Os++,zf[Os]=t.current,t.current=e}var Qr={},kt=br(Qr),nA=br(!1),ns=Qr;function li(t,e){var A=t.type.contextTypes;if(!A)return Qr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in A)r[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function rA(t){return t=t.childContextTypes,t!=null}function lc(){We(nA),We(kt)}function sB(t,e,A){if(kt.current!==Qr)throw Error(L(168));je(kt,e),je(nA,A)}function d0(t,e,A){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return A;n=n.getChildContext();for(var r in n)if(!(r in e))throw Error(L(108,zQ(t)||"Unknown",r));return qe({},A,n)}function cc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qr,ns=kt.current,je(kt,t),je(nA,nA.current),!0}function iB(t,e,A){var n=t.stateNode;if(!n)throw Error(L(169));A?(t=d0(t,e,ns),n.__reactInternalMemoizedMergedChildContext=t,We(nA),We(kt),je(kt,t)):We(nA),je(nA,A)}var _n=null,fu=!1,_d=!1;function f0(t){_n===null?_n=[t]:_n.push(t)}function lI(t){fu=!0,f0(t)}function Tr(){if(!_d&&_n!==null){_d=!0;var t=0,e=ke;try{var A=_n;for(ke=1;t<A.length;t++){var n=A[t];do n=n(!0);while(n!==null)}_n=null,fu=!1}catch(r){throw _n!==null&&(_n=_n.slice(t+1)),Rv(wp,Tr),r}finally{ke=e,_d=!1}}return null}var Ms=[],Ks=0,uc=null,dc=0,CA=[],EA=0,rs=null,Fn=1,Qn="";function Or(t,e){Ms[Ks++]=dc,Ms[Ks++]=uc,uc=t,dc=e}function h0(t,e,A){CA[EA++]=Fn,CA[EA++]=Qn,CA[EA++]=rs,rs=t;var n=Fn;t=Qn;var r=32-jA(n)-1;n&=~(1<<r),A+=1;var s=32-jA(e)+r;if(30<s){var i=r-r%5;s=(n&(1<<i)-1).toString(32),n>>=i,r-=i,Fn=1<<32-jA(e)+r|A<<r|n,Qn=s+t}else Fn=1<<s|A<<r|n,Qn=t}function Qp(t){t.return!==null&&(Or(t,1),h0(t,1,0))}function Up(t){for(;t===uc;)uc=Ms[--Ks],Ms[Ks]=null,dc=Ms[--Ks],Ms[Ks]=null;for(;t===rs;)rs=CA[--EA],CA[EA]=null,Qn=CA[--EA],CA[EA]=null,Fn=CA[--EA],CA[EA]=null}var fA=null,dA=null,Ye=!1,OA=null;function p0(t,e){var A=FA(5,null,null,0);A.elementType="DELETED",A.stateNode=e,A.return=t,e=t.deletions,e===null?(t.deletions=[A],t.flags|=16):e.push(A)}function oB(t,e){switch(t.tag){case 5:var A=t.type;return e=e.nodeType!==1||A.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fA=t,dA=hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fA=t,dA=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(A=rs!==null?{id:Fn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:A,retryLane:1073741824},A=FA(18,null,null,0),A.stateNode=e,A.return=t,t.child=A,fA=t,dA=null,!0):!1;default:return!1}}function Wf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xf(t){if(Ye){var e=dA;if(e){var A=e;if(!oB(t,e)){if(Wf(t))throw Error(L(418));e=hr(A.nextSibling);var n=fA;e&&oB(t,e)?p0(n,A):(t.flags=t.flags&-4097|2,Ye=!1,fA=t)}}else{if(Wf(t))throw Error(L(418));t.flags=t.flags&-4097|2,Ye=!1,fA=t}}}function aB(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fA=t}function za(t){if(t!==fA)return!1;if(!Ye)return aB(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vf(t.type,t.memoizedProps)),e&&(e=dA)){if(Wf(t))throw g0(),Error(L(418));for(;e;)p0(t,e),e=hr(e.nextSibling)}if(aB(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var A=t.data;if(A==="/$"){if(e===0){dA=hr(t.nextSibling);break e}e--}else A!=="$"&&A!=="$!"&&A!=="$?"||e++}t=t.nextSibling}dA=null}}else dA=fA?hr(t.stateNode.nextSibling):null;return!0}function g0(){for(var t=dA;t;)t=hr(t.nextSibling)}function ci(){dA=fA=null,Ye=!1}function Ip(t){OA===null?OA=[t]:OA.push(t)}var cI=Kn.ReactCurrentBatchConfig;function ji(t,e,A){if(t=A.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(L(309));var n=A.stateNode}if(!n)throw Error(L(147,t));var r=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var o=r.refs;i===null?delete o[s]:o[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!A._owner)throw Error(L(290,t))}return t}function Wa(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lB(t){var e=t._init;return e(t._payload)}function w0(t){function e(B,h){if(t){var g=B.deletions;g===null?(B.deletions=[h],B.flags|=16):g.push(h)}}function A(B,h){if(!t)return null;for(;h!==null;)e(B,h),h=h.sibling;return null}function n(B,h){for(B=new Map;h!==null;)h.key!==null?B.set(h.key,h):B.set(h.index,h),h=h.sibling;return B}function r(B,h){return B=Br(B,h),B.index=0,B.sibling=null,B}function s(B,h,g){return B.index=g,t?(g=B.alternate,g!==null?(g=g.index,g<h?(B.flags|=2,h):g):(B.flags|=2,h)):(B.flags|=1048576,h)}function i(B){return t&&B.alternate===null&&(B.flags|=2),B}function o(B,h,g,v){return h===null||h.tag!==6?(h=bd(g,B.mode,v),h.return=B,h):(h=r(h,g),h.return=B,h)}function a(B,h,g,v){var E=g.type;return E===Hs?d(B,h,g.props.children,v,g.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Jn&&lB(E)===h.type)?(v=r(h,g.props),v.ref=ji(B,h,g),v.return=B,v):(v=Gl(g.type,g.key,g.props,null,B.mode,v),v.ref=ji(B,h,g),v.return=B,v)}function l(B,h,g,v){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Td(g,B.mode,v),h.return=B,h):(h=r(h,g.children||[]),h.return=B,h)}function d(B,h,g,v,E){return h===null||h.tag!==7?(h=Zr(g,B.mode,v,E),h.return=B,h):(h=r(h,g),h.return=B,h)}function c(B,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=bd(""+h,B.mode,g),h.return=B,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ka:return g=Gl(h.type,h.key,h.props,null,B.mode,g),g.ref=ji(B,null,h),g.return=B,g;case Ns:return h=Td(h,B.mode,g),h.return=B,h;case Jn:var v=h._init;return c(B,v(h._payload),g)}if(so(h)||Oi(h))return h=Zr(h,B.mode,g,null),h.return=B,h;Wa(B,h)}return null}function u(B,h,g,v){var E=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:o(B,h,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ka:return g.key===E?a(B,h,g,v):null;case Ns:return g.key===E?l(B,h,g,v):null;case Jn:return E=g._init,u(B,h,E(g._payload),v)}if(so(g)||Oi(g))return E!==null?null:d(B,h,g,v,null);Wa(B,g)}return null}function p(B,h,g,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return B=B.get(g)||null,o(h,B,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ka:return B=B.get(v.key===null?g:v.key)||null,a(h,B,v,E);case Ns:return B=B.get(v.key===null?g:v.key)||null,l(h,B,v,E);case Jn:var y=v._init;return p(B,h,g,y(v._payload),E)}if(so(v)||Oi(v))return B=B.get(g)||null,d(h,B,v,E,null);Wa(h,v)}return null}function w(B,h,g,v){for(var E=null,y=null,Q=h,F=h=0,N=null;Q!==null&&F<g.length;F++){Q.index>F?(N=Q,Q=null):N=Q.sibling;var D=u(B,Q,g[F],v);if(D===null){Q===null&&(Q=N);break}t&&Q&&D.alternate===null&&e(B,Q),h=s(D,h,F),y===null?E=D:y.sibling=D,y=D,Q=N}if(F===g.length)return A(B,Q),Ye&&Or(B,F),E;if(Q===null){for(;F<g.length;F++)Q=c(B,g[F],v),Q!==null&&(h=s(Q,h,F),y===null?E=Q:y.sibling=Q,y=Q);return Ye&&Or(B,F),E}for(Q=n(B,Q);F<g.length;F++)N=p(Q,B,F,g[F],v),N!==null&&(t&&N.alternate!==null&&Q.delete(N.key===null?F:N.key),h=s(N,h,F),y===null?E=N:y.sibling=N,y=N);return t&&Q.forEach(function(P){return e(B,P)}),Ye&&Or(B,F),E}function m(B,h,g,v){var E=Oi(g);if(typeof E!="function")throw Error(L(150));if(g=E.call(g),g==null)throw Error(L(151));for(var y=E=null,Q=h,F=h=0,N=null,D=g.next();Q!==null&&!D.done;F++,D=g.next()){Q.index>F?(N=Q,Q=null):N=Q.sibling;var P=u(B,Q,D.value,v);if(P===null){Q===null&&(Q=N);break}t&&Q&&P.alternate===null&&e(B,Q),h=s(P,h,F),y===null?E=P:y.sibling=P,y=P,Q=N}if(D.done)return A(B,Q),Ye&&Or(B,F),E;if(Q===null){for(;!D.done;F++,D=g.next())D=c(B,D.value,v),D!==null&&(h=s(D,h,F),y===null?E=D:y.sibling=D,y=D);return Ye&&Or(B,F),E}for(Q=n(B,Q);!D.done;F++,D=g.next())D=p(Q,B,F,D.value,v),D!==null&&(t&&D.alternate!==null&&Q.delete(D.key===null?F:D.key),h=s(D,h,F),y===null?E=D:y.sibling=D,y=D);return t&&Q.forEach(function(Z){return e(B,Z)}),Ye&&Or(B,F),E}function I(B,h,g,v){if(typeof g=="object"&&g!==null&&g.type===Hs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ka:e:{for(var E=g.key,y=h;y!==null;){if(y.key===E){if(E=g.type,E===Hs){if(y.tag===7){A(B,y.sibling),h=r(y,g.props.children),h.return=B,B=h;break e}}else if(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Jn&&lB(E)===y.type){A(B,y.sibling),h=r(y,g.props),h.ref=ji(B,y,g),h.return=B,B=h;break e}A(B,y);break}else e(B,y);y=y.sibling}g.type===Hs?(h=Zr(g.props.children,B.mode,v,g.key),h.return=B,B=h):(v=Gl(g.type,g.key,g.props,null,B.mode,v),v.ref=ji(B,h,g),v.return=B,B=v)}return i(B);case Ns:e:{for(y=g.key;h!==null;){if(h.key===y)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){A(B,h.sibling),h=r(h,g.children||[]),h.return=B,B=h;break e}else{A(B,h);break}else e(B,h);h=h.sibling}h=Td(g,B.mode,v),h.return=B,B=h}return i(B);case Jn:return y=g._init,I(B,h,y(g._payload),v)}if(so(g))return w(B,h,g,v);if(Oi(g))return m(B,h,g,v);Wa(B,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(A(B,h.sibling),h=r(h,g),h.return=B,B=h):(A(B,h),h=bd(g,B.mode,v),h.return=B,B=h),i(B)):A(B,h)}return I}var ui=w0(!0),B0=w0(!1),fc=br(null),hc=null,Vs=null,xp=null;function Sp(){xp=Vs=hc=null}function bp(t){var e=fc.current;We(fc),t._currentValue=e}function Yf(t,e,A){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===A)break;t=t.return}}function qs(t,e){hc=t,xp=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(eA=!0),t.firstContext=null)}function bA(t){var e=t._currentValue;if(xp!==t)if(t={context:t,memoizedValue:e,next:null},Vs===null){if(hc===null)throw Error(L(308));Vs=t,hc.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return e}var zr=null;function Tp(t){zr===null?zr=[t]:zr.push(t)}function m0(t,e,A,n){var r=e.interleaved;return r===null?(A.next=A,Tp(e)):(A.next=r.next,r.next=A),e.interleaved=A,Hn(t,n)}function Hn(t,e){t.lanes|=e;var A=t.alternate;for(A!==null&&(A.lanes|=e),A=t,t=t.return;t!==null;)t.childLanes|=e,A=t.alternate,A!==null&&(A.childLanes|=e),A=t,t=t.return;return A.tag===3?A.stateNode:null}var Zn=!1;function Dp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e,A){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Qe&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,Hn(t,A)}return r=n.interleaved,r===null?(e.next=e,Tp(n)):(e.next=r.next,r.next=e),n.interleaved=e,Hn(t,A)}function Rl(t,e,A){if(e=e.updateQueue,e!==null&&(e=e.shared,(A&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,A|=n,e.lanes=A,Bp(t,A)}}function cB(t,e){var A=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,A===n)){var r=null,s=null;if(A=A.firstBaseUpdate,A!==null){do{var i={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};s===null?r=s=i:s=s.next=i,A=A.next}while(A!==null);s===null?r=s=e:s=s.next=e}else r=s=e;A={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=A;return}t=A.lastBaseUpdate,t===null?A.firstBaseUpdate=e:t.next=e,A.lastBaseUpdate=e}function pc(t,e,A,n){var r=t.updateQueue;Zn=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var a=o,l=a.next;a.next=null,i===null?s=l:i.next=l,i=a;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=a))}if(s!==null){var c=r.baseState;i=0,d=l=a=null,o=s;do{var u=o.lane,p=o.eventTime;if((n&u)===u){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,m=o;switch(u=e,p=A,m.tag){case 1:if(w=m.payload,typeof w=="function"){c=w.call(p,c,u);break e}c=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=m.payload,u=typeof w=="function"?w.call(p,c,u):w,u==null)break e;c=qe({},c,u);break e;case 2:Zn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,u=r.effects,u===null?r.effects=[o]:u.push(o))}else p={eventTime:p,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(l=d=p,a=c):d=d.next=p,i|=u;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;u=o,o=u.next,u.next=null,r.lastBaseUpdate=u,r.shared.pending=null}}while(!0);if(d===null&&(a=c),r.baseState=a,r.firstBaseUpdate=l,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do i|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);is|=i,t.lanes=i,t.memoizedState=c}}function uB(t,e,A){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(r!==null){if(n.callback=null,n=A,typeof r!="function")throw Error(L(191,r));r.call(n)}}}var Ba={},ln=br(Ba),Yo=br(Ba),$o=br(Ba);function Wr(t){if(t===Ba)throw Error(L(174));return t}function Np(t,e){switch(je($o,e),je(Yo,t),je(ln,Ba),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xf(e,t)}We(ln),je(ln,e)}function di(){We(ln),We(Yo),We($o)}function v0(t){Wr($o.current);var e=Wr(ln.current),A=xf(e,t.type);e!==A&&(je(Yo,t),je(ln,A))}function Hp(t){Yo.current===t&&(We(ln),We(Yo))}var Je=br(0);function gc(t){for(var e=t;e!==null;){if(e.tag===13){var A=e.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fd=[];function kp(){for(var t=0;t<Fd.length;t++)Fd[t]._workInProgressVersionPrimary=null;Fd.length=0}var Pl=Kn.ReactCurrentDispatcher,Qd=Kn.ReactCurrentBatchConfig,ss=0,Ze=null,ft=null,Bt=null,wc=!1,vo=!1,Jo=0,uI=0;function St(){throw Error(L(321))}function Lp(t,e){if(e===null)return!1;for(var A=0;A<e.length&&A<t.length;A++)if(!YA(t[A],e[A]))return!1;return!0}function Rp(t,e,A,n,r,s){if(ss=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pl.current=t===null||t.memoizedState===null?pI:gI,t=A(n,r),vo){s=0;do{if(vo=!1,Jo=0,25<=s)throw Error(L(301));s+=1,Bt=ft=null,e.updateQueue=null,Pl.current=wI,t=A(n,r)}while(vo)}if(Pl.current=Bc,e=ft!==null&&ft.next!==null,ss=0,Bt=ft=Ze=null,wc=!1,e)throw Error(L(300));return t}function Pp(){var t=Jo!==0;return Jo=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ze.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function TA(){if(ft===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=Bt===null?Ze.memoizedState:Bt.next;if(e!==null)Bt=e,ft=t;else{if(t===null)throw Error(L(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Bt===null?Ze.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Zo(t,e){return typeof e=="function"?e(t):e}function Ud(t){var e=TA(),A=e.queue;if(A===null)throw Error(L(311));A.lastRenderedReducer=t;var n=ft,r=n.baseQueue,s=A.pending;if(s!==null){if(r!==null){var i=r.next;r.next=s.next,s.next=i}n.baseQueue=r=s,A.pending=null}if(r!==null){s=r.next,n=n.baseState;var o=i=null,a=null,l=s;do{var d=l.lane;if((ss&d)===d)a!==null&&(a=a.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var c={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};a===null?(o=a=c,i=n):a=a.next=c,Ze.lanes|=d,is|=d}l=l.next}while(l!==null&&l!==s);a===null?i=n:a.next=o,YA(n,e.memoizedState)||(eA=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=a,A.lastRenderedState=n}if(t=A.interleaved,t!==null){r=t;do s=r.lane,Ze.lanes|=s,is|=s,r=r.next;while(r!==t)}else r===null&&(A.lanes=0);return[e.memoizedState,A.dispatch]}function Id(t){var e=TA(),A=e.queue;if(A===null)throw Error(L(311));A.lastRenderedReducer=t;var n=A.dispatch,r=A.pending,s=e.memoizedState;if(r!==null){A.pending=null;var i=r=r.next;do s=t(s,i.action),i=i.next;while(i!==r);YA(s,e.memoizedState)||(eA=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),A.lastRenderedState=s}return[s,n]}function C0(){}function E0(t,e){var A=Ze,n=TA(),r=e(),s=!YA(n.memoizedState,r);if(s&&(n.memoizedState=r,eA=!0),n=n.queue,Op(Q0.bind(null,A,n,t),[t]),n.getSnapshot!==e||s||Bt!==null&&Bt.memoizedState.tag&1){if(A.flags|=2048,qo(9,F0.bind(null,A,n,r,e),void 0,null),Ct===null)throw Error(L(349));ss&30||_0(A,e,r)}return r}function _0(t,e,A){t.flags|=16384,t={getSnapshot:e,value:A},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(A=e.stores,A===null?e.stores=[t]:A.push(t))}function F0(t,e,A,n){e.value=A,e.getSnapshot=n,U0(e)&&I0(t)}function Q0(t,e,A){return A(function(){U0(e)&&I0(t)})}function U0(t){var e=t.getSnapshot;t=t.value;try{var A=e();return!YA(t,A)}catch{return!0}}function I0(t){var e=Hn(t,1);e!==null&&zA(e,t,1,-1)}function dB(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},e.queue=t,t=t.dispatch=hI.bind(null,Ze,t),[e.memoizedState,t]}function qo(t,e,A,n){return t={tag:t,create:e,destroy:A,deps:n,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(A=e.lastEffect,A===null?e.lastEffect=t.next=t:(n=A.next,A.next=t,t.next=n,e.lastEffect=t)),t}function x0(){return TA().memoizedState}function Ol(t,e,A,n){var r=nn();Ze.flags|=t,r.memoizedState=qo(1|e,A,void 0,n===void 0?null:n)}function hu(t,e,A,n){var r=TA();n=n===void 0?null:n;var s=void 0;if(ft!==null){var i=ft.memoizedState;if(s=i.destroy,n!==null&&Lp(n,i.deps)){r.memoizedState=qo(e,A,s,n);return}}Ze.flags|=t,r.memoizedState=qo(1|e,A,s,n)}function fB(t,e){return Ol(8390656,8,t,e)}function Op(t,e){return hu(2048,8,t,e)}function S0(t,e){return hu(4,2,t,e)}function b0(t,e){return hu(4,4,t,e)}function T0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D0(t,e,A){return A=A!=null?A.concat([t]):null,hu(4,4,T0.bind(null,e,t),A)}function Mp(){}function N0(t,e){var A=TA();e=e===void 0?null:e;var n=A.memoizedState;return n!==null&&e!==null&&Lp(e,n[1])?n[0]:(A.memoizedState=[t,e],t)}function H0(t,e){var A=TA();e=e===void 0?null:e;var n=A.memoizedState;return n!==null&&e!==null&&Lp(e,n[1])?n[0]:(t=t(),A.memoizedState=[t,e],t)}function k0(t,e,A){return ss&21?(YA(A,e)||(A=Mv(),Ze.lanes|=A,is|=A,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,eA=!0),t.memoizedState=A)}function dI(t,e){var A=ke;ke=A!==0&&4>A?A:4,t(!0);var n=Qd.transition;Qd.transition={};try{t(!1),e()}finally{ke=A,Qd.transition=n}}function L0(){return TA().memoizedState}function fI(t,e,A){var n=wr(t);if(A={lane:n,action:A,hasEagerState:!1,eagerState:null,next:null},R0(t))P0(e,A);else if(A=m0(t,e,A,n),A!==null){var r=jt();zA(A,t,n,r),O0(A,e,n)}}function hI(t,e,A){var n=wr(t),r={lane:n,action:A,hasEagerState:!1,eagerState:null,next:null};if(R0(t))P0(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,o=s(i,A);if(r.hasEagerState=!0,r.eagerState=o,YA(o,i)){var a=e.interleaved;a===null?(r.next=r,Tp(e)):(r.next=a.next,a.next=r),e.interleaved=r;return}}catch{}finally{}A=m0(t,e,r,n),A!==null&&(r=jt(),zA(A,t,n,r),O0(A,e,n))}}function R0(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function P0(t,e){vo=wc=!0;var A=t.pending;A===null?e.next=e:(e.next=A.next,A.next=e),t.pending=e}function O0(t,e,A){if(A&4194240){var n=e.lanes;n&=t.pendingLanes,A|=n,e.lanes=A,Bp(t,A)}}var Bc={readContext:bA,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},pI={readContext:bA,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:bA,useEffect:fB,useImperativeHandle:function(t,e,A){return A=A!=null?A.concat([t]):null,Ol(4194308,4,T0.bind(null,e,t),A)},useLayoutEffect:function(t,e){return Ol(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ol(4,2,t,e)},useMemo:function(t,e){var A=nn();return e=e===void 0?null:e,t=t(),A.memoizedState=[t,e],t},useReducer:function(t,e,A){var n=nn();return e=A!==void 0?A(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=fI.bind(null,Ze,t),[n.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:dB,useDebugValue:Mp,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=dB(!1),e=t[0];return t=dI.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,A){var n=Ze,r=nn();if(Ye){if(A===void 0)throw Error(L(407));A=A()}else{if(A=e(),Ct===null)throw Error(L(349));ss&30||_0(n,e,A)}r.memoizedState=A;var s={value:A,getSnapshot:e};return r.queue=s,fB(Q0.bind(null,n,s,t),[t]),n.flags|=2048,qo(9,F0.bind(null,n,s,A,e),void 0,null),A},useId:function(){var t=nn(),e=Ct.identifierPrefix;if(Ye){var A=Qn,n=Fn;A=(n&~(1<<32-jA(n)-1)).toString(32)+A,e=":"+e+"R"+A,A=Jo++,0<A&&(e+="H"+A.toString(32)),e+=":"}else A=uI++,e=":"+e+"r"+A.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gI={readContext:bA,useCallback:N0,useContext:bA,useEffect:Op,useImperativeHandle:D0,useInsertionEffect:S0,useLayoutEffect:b0,useMemo:H0,useReducer:Ud,useRef:x0,useState:function(){return Ud(Zo)},useDebugValue:Mp,useDeferredValue:function(t){var e=TA();return k0(e,ft.memoizedState,t)},useTransition:function(){var t=Ud(Zo)[0],e=TA().memoizedState;return[t,e]},useMutableSource:C0,useSyncExternalStore:E0,useId:L0,unstable_isNewReconciler:!1},wI={readContext:bA,useCallback:N0,useContext:bA,useEffect:Op,useImperativeHandle:D0,useInsertionEffect:S0,useLayoutEffect:b0,useMemo:H0,useReducer:Id,useRef:x0,useState:function(){return Id(Zo)},useDebugValue:Mp,useDeferredValue:function(t){var e=TA();return ft===null?e.memoizedState=t:k0(e,ft.memoizedState,t)},useTransition:function(){var t=Id(Zo)[0],e=TA().memoizedState;return[t,e]},useMutableSource:C0,useSyncExternalStore:E0,useId:L0,unstable_isNewReconciler:!1};function RA(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var A in t)e[A]===void 0&&(e[A]=t[A]);return e}return e}function $f(t,e,A,n){e=t.memoizedState,A=A(n,e),A=A==null?e:qe({},e,A),t.memoizedState=A,t.lanes===0&&(t.updateQueue.baseState=A)}var pu={isMounted:function(t){return(t=t._reactInternals)?gs(t)===t:!1},enqueueSetState:function(t,e,A){t=t._reactInternals;var n=jt(),r=wr(t),s=Sn(n,r);s.payload=e,A!=null&&(s.callback=A),e=pr(t,s,r),e!==null&&(zA(e,t,r,n),Rl(e,t,r))},enqueueReplaceState:function(t,e,A){t=t._reactInternals;var n=jt(),r=wr(t),s=Sn(n,r);s.tag=1,s.payload=e,A!=null&&(s.callback=A),e=pr(t,s,r),e!==null&&(zA(e,t,r,n),Rl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var A=jt(),n=wr(t),r=Sn(A,n);r.tag=2,e!=null&&(r.callback=e),e=pr(t,r,n),e!==null&&(zA(e,t,n,A),Rl(e,t,n))}};function hB(t,e,A,n,r,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!jo(A,n)||!jo(r,s):!0}function M0(t,e,A){var n=!1,r=Qr,s=e.contextType;return typeof s=="object"&&s!==null?s=bA(s):(r=rA(e)?ns:kt.current,n=e.contextTypes,s=(n=n!=null)?li(t,r):Qr),e=new e(A,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function pB(t,e,A,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(A,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(A,n),e.state!==t&&pu.enqueueReplaceState(e,e.state,null)}function Jf(t,e,A,n){var r=t.stateNode;r.props=A,r.state=t.memoizedState,r.refs={},Dp(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=bA(s):(s=rA(e)?ns:kt.current,r.context=li(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($f(t,e,s,A),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&pu.enqueueReplaceState(r,r.state,null),pc(t,A,r,n),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function fi(t,e){try{var A="",n=e;do A+=jQ(n),n=n.return;while(n);var r=A}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function xd(t,e,A){return{value:t,source:null,stack:A??null,digest:e??null}}function Zf(t,e){try{console.error(e.value)}catch(A){setTimeout(function(){throw A})}}var BI=typeof WeakMap=="function"?WeakMap:Map;function K0(t,e,A){A=Sn(-1,A),A.tag=3,A.payload={element:null};var n=e.value;return A.callback=function(){yc||(yc=!0,ah=n),Zf(t,e)},A}function V0(t,e,A){A=Sn(-1,A),A.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;A.payload=function(){return n(r)},A.callback=function(){Zf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(A.callback=function(){Zf(t,e),typeof n!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),A}function gB(t,e,A){var n=t.pingCache;if(n===null){n=t.pingCache=new BI;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(A)||(r.add(A),t=TI.bind(null,t,e,A),e.then(t,t))}function wB(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function BB(t,e,A,n,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(e=Sn(-1,1),e.tag=2,pr(A,e,1))),A.lanes|=1),t)}var mI=Kn.ReactCurrentOwner,eA=!1;function Gt(t,e,A,n){e.child=t===null?B0(e,null,A,n):ui(e,t.child,A,n)}function mB(t,e,A,n,r){A=A.render;var s=e.ref;return qs(e,r),n=Rp(t,e,A,n,s,r),A=Pp(),t!==null&&!eA?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,kn(t,e,r)):(Ye&&A&&Qp(e),e.flags|=1,Gt(t,e,n,r),e.child)}function yB(t,e,A,n,r){if(t===null){var s=A.type;return typeof s=="function"&&!Yp(s)&&s.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(e.tag=15,e.type=s,G0(t,e,s,n,r)):(t=Gl(A.type,null,n,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var i=s.memoizedProps;if(A=A.compare,A=A!==null?A:jo,A(i,n)&&t.ref===e.ref)return kn(t,e,r)}return e.flags|=1,t=Br(s,n),t.ref=e.ref,t.return=e,e.child=t}function G0(t,e,A,n,r){if(t!==null){var s=t.memoizedProps;if(jo(s,n)&&t.ref===e.ref)if(eA=!1,e.pendingProps=n=s,(t.lanes&r)!==0)t.flags&131072&&(eA=!0);else return e.lanes=t.lanes,kn(t,e,r)}return qf(t,e,A,n,r)}function j0(t,e,A){var n=e.pendingProps,r=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(js,uA),uA|=A;else{if(!(A&1073741824))return t=s!==null?s.baseLanes|A:A,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(js,uA),uA|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:A,je(js,uA),uA|=n}else s!==null?(n=s.baseLanes|A,e.memoizedState=null):n=A,je(js,uA),uA|=n;return Gt(t,e,r,A),e.child}function z0(t,e){var A=e.ref;(t===null&&A!==null||t!==null&&t.ref!==A)&&(e.flags|=512,e.flags|=2097152)}function qf(t,e,A,n,r){var s=rA(A)?ns:kt.current;return s=li(e,s),qs(e,r),A=Rp(t,e,A,n,s,r),n=Pp(),t!==null&&!eA?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,kn(t,e,r)):(Ye&&n&&Qp(e),e.flags|=1,Gt(t,e,A,r),e.child)}function vB(t,e,A,n,r){if(rA(A)){var s=!0;cc(e)}else s=!1;if(qs(e,r),e.stateNode===null)Ml(t,e),M0(e,A,n),Jf(e,A,n,r),n=!0;else if(t===null){var i=e.stateNode,o=e.memoizedProps;i.props=o;var a=i.context,l=A.contextType;typeof l=="object"&&l!==null?l=bA(l):(l=rA(A)?ns:kt.current,l=li(e,l));var d=A.getDerivedStateFromProps,c=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";c||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||a!==l)&&pB(e,i,n,l),Zn=!1;var u=e.memoizedState;i.state=u,pc(e,n,i,r),a=e.memoizedState,o!==n||u!==a||nA.current||Zn?(typeof d=="function"&&($f(e,A,d,n),a=e.memoizedState),(o=Zn||hB(e,A,o,n,u,a,l))?(c||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),i.props=n,i.state=a,i.context=l,n=o):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,y0(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:RA(e.type,o),i.props=l,c=e.pendingProps,u=i.context,a=A.contextType,typeof a=="object"&&a!==null?a=bA(a):(a=rA(A)?ns:kt.current,a=li(e,a));var p=A.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==c||u!==a)&&pB(e,i,n,a),Zn=!1,u=e.memoizedState,i.state=u,pc(e,n,i,r);var w=e.memoizedState;o!==c||u!==w||nA.current||Zn?(typeof p=="function"&&($f(e,A,p,n),w=e.memoizedState),(l=Zn||hB(e,A,l,n,u,w,a)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,a)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),i.props=n,i.state=w,i.context=a,n=l):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),n=!1)}return eh(t,e,A,n,s,r)}function eh(t,e,A,n,r,s){z0(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return r&&iB(e,A,!1),kn(t,e,s);n=e.stateNode,mI.current=e;var o=i&&typeof A.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=ui(e,t.child,null,s),e.child=ui(e,null,o,s)):Gt(t,e,o,s),e.memoizedState=n.state,r&&iB(e,A,!0),e.child}function W0(t){var e=t.stateNode;e.pendingContext?sB(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sB(t,e.context,!1),Np(t,e.containerInfo)}function CB(t,e,A,n,r){return ci(),Ip(r),e.flags|=256,Gt(t,e,A,n),e.child}var th={dehydrated:null,treeContext:null,retryLane:0};function Ah(t){return{baseLanes:t,cachePool:null,transitions:null}}function X0(t,e,A){var n=e.pendingProps,r=Je.current,s=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),je(Je,r&1),t===null)return Xf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Bu(i,n,0,null),t=Zr(t,n,A,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ah(A),e.memoizedState=th,t):Kp(e,i));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return yI(t,e,i,n,o,r,A);if(s){s=n.fallback,i=e.mode,r=t.child,o=r.sibling;var a={mode:"hidden",children:n.children};return!(i&1)&&e.child!==r?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Br(r,a),n.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=Br(o,s):(s=Zr(s,i,A,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?Ah(A):{baseLanes:i.baseLanes|A,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~A,e.memoizedState=th,n}return s=t.child,t=s.sibling,n=Br(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=A),n.return=e,n.sibling=null,t!==null&&(A=e.deletions,A===null?(e.deletions=[t],e.flags|=16):A.push(t)),e.child=n,e.memoizedState=null,n}function Kp(t,e){return e=Bu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xa(t,e,A,n){return n!==null&&Ip(n),ui(e,t.child,null,A),t=Kp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yI(t,e,A,n,r,s,i){if(A)return e.flags&256?(e.flags&=-257,n=xd(Error(L(422))),Xa(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,r=e.mode,n=Bu({mode:"visible",children:n.children},r,0,null),s=Zr(s,r,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ui(e,t.child,null,i),e.child.memoizedState=Ah(i),e.memoizedState=th,s);if(!(e.mode&1))return Xa(t,e,i,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(L(419)),n=xd(s,n,void 0),Xa(t,e,i,n)}if(o=(i&t.childLanes)!==0,eA||o){if(n=Ct,n!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|i)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Hn(t,r),zA(n,t,r,-1))}return Xp(),n=xd(Error(L(421))),Xa(t,e,i,n)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=DI.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,dA=hr(r.nextSibling),fA=e,Ye=!0,OA=null,t!==null&&(CA[EA++]=Fn,CA[EA++]=Qn,CA[EA++]=rs,Fn=t.id,Qn=t.overflow,rs=e),e=Kp(e,n.children),e.flags|=4096,e)}function EB(t,e,A){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Yf(t.return,e,A)}function Sd(t,e,A,n,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:A,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=A,s.tailMode=r)}function Y0(t,e,A){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Gt(t,e,n.children,A),n=Je.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&EB(t,A,e);else if(t.tag===19)EB(t,A,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(je(Je,n),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(A=e.child,r=null;A!==null;)t=A.alternate,t!==null&&gc(t)===null&&(r=A),A=A.sibling;A=r,A===null?(r=e.child,e.child=null):(r=A.sibling,A.sibling=null),Sd(e,!1,r,A,s);break;case"backwards":for(A=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&gc(t)===null){e.child=r;break}t=r.sibling,r.sibling=A,A=r,r=t}Sd(e,!0,A,null,s);break;case"together":Sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ml(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kn(t,e,A){if(t!==null&&(e.dependencies=t.dependencies),is|=e.lanes,!(A&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,A=Br(t,t.pendingProps),e.child=A,A.return=e;t.sibling!==null;)t=t.sibling,A=A.sibling=Br(t,t.pendingProps),A.return=e;A.sibling=null}return e.child}function vI(t,e,A){switch(e.tag){case 3:W0(e),ci();break;case 5:v0(e);break;case 1:rA(e.type)&&cc(e);break;case 4:Np(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;je(fc,n._currentValue),n._currentValue=r;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(je(Je,Je.current&1),e.flags|=128,null):A&e.child.childLanes?X0(t,e,A):(je(Je,Je.current&1),t=kn(t,e,A),t!==null?t.sibling:null);je(Je,Je.current&1);break;case 19:if(n=(A&e.childLanes)!==0,t.flags&128){if(n)return Y0(t,e,A);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),je(Je,Je.current),n)break;return null;case 22:case 23:return e.lanes=0,j0(t,e,A)}return kn(t,e,A)}var $0,nh,J0,Z0;$0=function(t,e){for(var A=e.child;A!==null;){if(A.tag===5||A.tag===6)t.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break;for(;A.sibling===null;){if(A.return===null||A.return===e)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};nh=function(){};J0=function(t,e,A,n){var r=t.memoizedProps;if(r!==n){t=e.stateNode,Wr(ln.current);var s=null;switch(A){case"input":r=Ff(t,r),n=Ff(t,n),s=[];break;case"select":r=qe({},r,{value:void 0}),n=qe({},n,{value:void 0}),s=[];break;case"textarea":r=If(t,r),n=If(t,n),s=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ac)}Sf(A,n);var i;A=null;for(l in r)if(!n.hasOwnProperty(l)&&r.hasOwnProperty(l)&&r[l]!=null)if(l==="style"){var o=r[l];for(i in o)o.hasOwnProperty(i)&&(A||(A={}),A[i]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ro.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var a=n[l];if(o=r!=null?r[l]:void 0,n.hasOwnProperty(l)&&a!==o&&(a!=null||o!=null))if(l==="style")if(o){for(i in o)!o.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(A||(A={}),A[i]="");for(i in a)a.hasOwnProperty(i)&&o[i]!==a[i]&&(A||(A={}),A[i]=a[i])}else A||(s||(s=[]),s.push(l,A)),A=a;else l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(s=s||[]).push(l,a)):l==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(l,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(l)?(a!=null&&l==="onScroll"&&ze("scroll",t),s||o===a||(s=[])):(s=s||[]).push(l,a))}A&&(s=s||[]).push("style",A);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};Z0=function(t,e,A,n){A!==n&&(e.flags|=4)};function zi(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var A=null;e!==null;)e.alternate!==null&&(A=e),e=e.sibling;A===null?t.tail=null:A.sibling=null;break;case"collapsed":A=t.tail;for(var n=null;A!==null;)A.alternate!==null&&(n=A),A=A.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,A=0,n=0;if(e)for(var r=t.child;r!==null;)A|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)A|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=n,t.childLanes=A,e}function CI(t,e,A){var n=e.pendingProps;switch(Up(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return rA(e.type)&&lc(),bt(e),null;case 3:return n=e.stateNode,di(),We(nA),We(kt),kp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(za(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,OA!==null&&(uh(OA),OA=null))),nh(t,e),bt(e),null;case 5:Hp(e);var r=Wr($o.current);if(A=e.type,t!==null&&e.stateNode!=null)J0(t,e,A,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(L(166));return bt(e),null}if(t=Wr(ln.current),za(e)){n=e.stateNode,A=e.type;var s=e.memoizedProps;switch(n[sn]=e,n[Xo]=s,t=(e.mode&1)!==0,A){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(r=0;r<oo.length;r++)ze(oo[r],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":Tw(n,s),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ze("invalid",n);break;case"textarea":Nw(n,s),ze("invalid",n)}Sf(A,s),r=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&ja(n.textContent,o,t),r=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ja(n.textContent,o,t),r=["children",""+o]):Ro.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ze("scroll",n)}switch(A){case"input":La(n),Dw(n,s,!0);break;case"textarea":La(n),Hw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ac)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qv(A)),t==="http://www.w3.org/1999/xhtml"?A==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(A,{is:n.is}):(t=i.createElement(A),A==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,A),t[sn]=e,t[Xo]=n,$0(t,e,!1,!1),e.stateNode=t;e:{switch(i=bf(A,n),A){case"dialog":ze("cancel",t),ze("close",t),r=n;break;case"iframe":case"object":case"embed":ze("load",t),r=n;break;case"video":case"audio":for(r=0;r<oo.length;r++)ze(oo[r],t);r=n;break;case"source":ze("error",t),r=n;break;case"img":case"image":case"link":ze("error",t),ze("load",t),r=n;break;case"details":ze("toggle",t),r=n;break;case"input":Tw(t,n),r=Ff(t,n),ze("invalid",t);break;case"option":r=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},r=qe({},n,{value:void 0}),ze("invalid",t);break;case"textarea":Nw(t,n),r=If(t,n),ze("invalid",t);break;default:r=n}Sf(A,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="style"?xv(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Uv(t,a)):s==="children"?typeof a=="string"?(A!=="textarea"||a!=="")&&Po(t,a):typeof a=="number"&&Po(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ro.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ze("scroll",t):a!=null&&dp(t,s,a,i))}switch(A){case"input":La(t),Dw(t,n,!1);break;case"textarea":La(t),Hw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Fr(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ys(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ys(t,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=ac)}switch(A){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)Z0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(L(166));if(A=Wr($o.current),Wr(ln.current),za(e)){if(n=e.stateNode,A=e.memoizedProps,n[sn]=e,(s=n.nodeValue!==A)&&(t=fA,t!==null))switch(t.tag){case 3:ja(n.nodeValue,A,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ja(n.nodeValue,A,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(A.nodeType===9?A:A.ownerDocument).createTextNode(n),n[sn]=e,e.stateNode=n}return bt(e),null;case 13:if(We(Je),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&dA!==null&&e.mode&1&&!(e.flags&128))g0(),ci(),e.flags|=98560,s=!1;else if(s=za(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[sn]=e}else ci(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else OA!==null&&(uh(OA),OA=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=A,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?pt===0&&(pt=3):Xp())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return di(),nh(t,e),t===null&&zo(e.stateNode.containerInfo),bt(e),null;case 10:return bp(e.type._context),bt(e),null;case 17:return rA(e.type)&&lc(),bt(e),null;case 19:if(We(Je),s=e.memoizedState,s===null)return bt(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)zi(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=gc(t),i!==null){for(e.flags|=128,zi(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=A,A=e.child;A!==null;)s=A,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),A=A.sibling;return je(Je,Je.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>hi&&(e.flags|=128,n=!0,zi(s,!1),e.lanes=4194304)}else{if(!n)if(t=gc(i),t!==null){if(e.flags|=128,n=!0,A=t.updateQueue,A!==null&&(e.updateQueue=A,e.flags|=4),zi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ye)return bt(e),null}else 2*it()-s.renderingStartTime>hi&&A!==1073741824&&(e.flags|=128,n=!0,zi(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(A=s.last,A!==null?A.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,A=Je.current,je(Je,n?A&1|2:A&1),e):(bt(e),null);case 22:case 23:return Wp(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?uA&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function EI(t,e){switch(Up(e),e.tag){case 1:return rA(e.type)&&lc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return di(),We(nA),We(kt),kp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hp(e),null;case 13:if(We(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));ci()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Je),null;case 4:return di(),null;case 10:return bp(e.type._context),null;case 22:case 23:return Wp(),null;case 24:return null;default:return null}}var Ya=!1,Ht=!1,_I=typeof WeakSet=="function"?WeakSet:Set,J=null;function Gs(t,e){var A=t.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(n){et(t,e,n)}else A.current=null}function rh(t,e,A){try{A()}catch(n){et(t,e,n)}}var _B=!1;function FI(t,e){if(Mf=sc,t=n0(),Fp(t)){if("selectionStart"in t)var A={start:t.selectionStart,end:t.selectionEnd};else e:{A=(A=t.ownerDocument)&&A.defaultView||window;var n=A.getSelection&&A.getSelection();if(n&&n.rangeCount!==0){A=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{A.nodeType,s.nodeType}catch{A=null;break e}var i=0,o=-1,a=-1,l=0,d=0,c=t,u=null;t:for(;;){for(var p;c!==A||r!==0&&c.nodeType!==3||(o=i+r),c!==s||n!==0&&c.nodeType!==3||(a=i+n),c.nodeType===3&&(i+=c.nodeValue.length),(p=c.firstChild)!==null;)u=c,c=p;for(;;){if(c===t)break t;if(u===A&&++l===r&&(o=i),u===s&&++d===n&&(a=i),(p=c.nextSibling)!==null)break;c=u,u=c.parentNode}c=p}A=o===-1||a===-1?null:{start:o,end:a}}else A=null}A=A||{start:0,end:0}}else A=null;for(Kf={focusedElem:t,selectionRange:A},sc=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var m=w.memoizedProps,I=w.memoizedState,B=e.stateNode,h=B.getSnapshotBeforeUpdate(e.elementType===e.type?m:RA(e.type,m),I);B.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(v){et(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return w=_B,_B=!1,w}function Co(t,e,A){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&rh(e,A,s)}r=r.next}while(r!==n)}}function gu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var A=e=e.next;do{if((A.tag&t)===t){var n=A.create;A.destroy=n()}A=A.next}while(A!==e)}}function sh(t){var e=t.ref;if(e!==null){var A=t.stateNode;switch(t.tag){case 5:t=A;break;default:t=A}typeof e=="function"?e(t):e.current=t}}function q0(t){var e=t.alternate;e!==null&&(t.alternate=null,q0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[Xo],delete e[jf],delete e[oI],delete e[aI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eC(t){return t.tag===5||t.tag===3||t.tag===4}function FB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ih(t,e,A){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?A.nodeType===8?A.parentNode.insertBefore(t,e):A.insertBefore(t,e):(A.nodeType===8?(e=A.parentNode,e.insertBefore(t,A)):(e=A,e.appendChild(t)),A=A._reactRootContainer,A!=null||e.onclick!==null||(e.onclick=ac));else if(n!==4&&(t=t.child,t!==null))for(ih(t,e,A),t=t.sibling;t!==null;)ih(t,e,A),t=t.sibling}function oh(t,e,A){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?A.insertBefore(t,e):A.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(oh(t,e,A),t=t.sibling;t!==null;)oh(t,e,A),t=t.sibling}var Et=null,PA=!1;function jn(t,e,A){for(A=A.child;A!==null;)tC(t,e,A),A=A.sibling}function tC(t,e,A){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(au,A)}catch{}switch(A.tag){case 5:Ht||Gs(A,e);case 6:var n=Et,r=PA;Et=null,jn(t,e,A),Et=n,PA=r,Et!==null&&(PA?(t=Et,A=A.stateNode,t.nodeType===8?t.parentNode.removeChild(A):t.removeChild(A)):Et.removeChild(A.stateNode));break;case 18:Et!==null&&(PA?(t=Et,A=A.stateNode,t.nodeType===8?Ed(t.parentNode,A):t.nodeType===1&&Ed(t,A),Vo(t)):Ed(Et,A.stateNode));break;case 4:n=Et,r=PA,Et=A.stateNode.containerInfo,PA=!0,jn(t,e,A),Et=n,PA=r;break;case 0:case 11:case 14:case 15:if(!Ht&&(n=A.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var s=r,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&rh(A,e,i),r=r.next}while(r!==n)}jn(t,e,A);break;case 1:if(!Ht&&(Gs(A,e),n=A.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=A.memoizedProps,n.state=A.memoizedState,n.componentWillUnmount()}catch(o){et(A,e,o)}jn(t,e,A);break;case 21:jn(t,e,A);break;case 22:A.mode&1?(Ht=(n=Ht)||A.memoizedState!==null,jn(t,e,A),Ht=n):jn(t,e,A);break;default:jn(t,e,A)}}function QB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var A=t.stateNode;A===null&&(A=t.stateNode=new _I),e.forEach(function(n){var r=NI.bind(null,t,n);A.has(n)||(A.add(n),n.then(r,r))})}}function HA(t,e){var A=e.deletions;if(A!==null)for(var n=0;n<A.length;n++){var r=A[n];try{var s=t,i=e,o=i;e:for(;o!==null;){switch(o.tag){case 5:Et=o.stateNode,PA=!1;break e;case 3:Et=o.stateNode.containerInfo,PA=!0;break e;case 4:Et=o.stateNode.containerInfo,PA=!0;break e}o=o.return}if(Et===null)throw Error(L(160));tC(s,i,r),Et=null,PA=!1;var a=r.alternate;a!==null&&(a.return=null),r.return=null}catch(l){et(r,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AC(e,t),e=e.sibling}function AC(t,e){var A=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(HA(e,t),tn(t),n&4){try{Co(3,t,t.return),gu(3,t)}catch(m){et(t,t.return,m)}try{Co(5,t,t.return)}catch(m){et(t,t.return,m)}}break;case 1:HA(e,t),tn(t),n&512&&A!==null&&Gs(A,A.return);break;case 5:if(HA(e,t),tn(t),n&512&&A!==null&&Gs(A,A.return),t.flags&32){var r=t.stateNode;try{Po(r,"")}catch(m){et(t,t.return,m)}}if(n&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,i=A!==null?A.memoizedProps:s,o=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&_v(r,s),bf(o,i);var l=bf(o,s);for(i=0;i<a.length;i+=2){var d=a[i],c=a[i+1];d==="style"?xv(r,c):d==="dangerouslySetInnerHTML"?Uv(r,c):d==="children"?Po(r,c):dp(r,d,c,l)}switch(o){case"input":Qf(r,s);break;case"textarea":Fv(r,s);break;case"select":var u=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ys(r,!!s.multiple,p,!1):u!==!!s.multiple&&(s.defaultValue!=null?Ys(r,!!s.multiple,s.defaultValue,!0):Ys(r,!!s.multiple,s.multiple?[]:"",!1))}r[Xo]=s}catch(m){et(t,t.return,m)}}break;case 6:if(HA(e,t),tn(t),n&4){if(t.stateNode===null)throw Error(L(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(m){et(t,t.return,m)}}break;case 3:if(HA(e,t),tn(t),n&4&&A!==null&&A.memoizedState.isDehydrated)try{Vo(e.containerInfo)}catch(m){et(t,t.return,m)}break;case 4:HA(e,t),tn(t);break;case 13:HA(e,t),tn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(jp=it())),n&4&&QB(t);break;case 22:if(d=A!==null&&A.memoizedState!==null,t.mode&1?(Ht=(l=Ht)||d,HA(e,t),Ht=l):HA(e,t),tn(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(c=J=d;J!==null;){switch(u=J,p=u.child,u.tag){case 0:case 11:case 14:case 15:Co(4,u,u.return);break;case 1:Gs(u,u.return);var w=u.stateNode;if(typeof w.componentWillUnmount=="function"){n=u,A=u.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(m){et(n,A,m)}}break;case 5:Gs(u,u.return);break;case 22:if(u.memoizedState!==null){IB(c);continue}}p!==null?(p.return=u,J=p):IB(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{r=c.stateNode,l?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=c.stateNode,a=c.memoizedProps.style,i=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=Iv("display",i))}catch(m){et(t,t.return,m)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(m){et(t,t.return,m)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:HA(e,t),tn(t),n&4&&QB(t);break;case 21:break;default:HA(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var A=t.return;A!==null;){if(eC(A)){var n=A;break e}A=A.return}throw Error(L(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(Po(r,""),n.flags&=-33);var s=FB(t);oh(t,s,r);break;case 3:case 4:var i=n.stateNode.containerInfo,o=FB(t);ih(t,o,i);break;default:throw Error(L(161))}}catch(a){et(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QI(t,e,A){J=t,nC(t)}function nC(t,e,A){for(var n=(t.mode&1)!==0;J!==null;){var r=J,s=r.child;if(r.tag===22&&n){var i=r.memoizedState!==null||Ya;if(!i){var o=r.alternate,a=o!==null&&o.memoizedState!==null||Ht;o=Ya;var l=Ht;if(Ya=i,(Ht=a)&&!l)for(J=r;J!==null;)i=J,a=i.child,i.tag===22&&i.memoizedState!==null?xB(r):a!==null?(a.return=i,J=a):xB(r);for(;s!==null;)J=s,nC(s),s=s.sibling;J=r,Ya=o,Ht=l}UB(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,J=s):UB(t)}}function UB(t){for(;J!==null;){var e=J;if(e.flags&8772){var A=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||gu(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ht)if(A===null)n.componentDidMount();else{var r=e.elementType===e.type?A.memoizedProps:RA(e.type,A.memoizedProps);n.componentDidUpdate(r,A.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uB(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(A=null,e.child!==null)switch(e.child.tag){case 5:A=e.child.stateNode;break;case 1:A=e.child.stateNode}uB(e,i,A)}break;case 5:var o=e.stateNode;if(A===null&&e.flags&4){A=o;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&A.focus();break;case"img":a.src&&(A.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Vo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ht||e.flags&512&&sh(e)}catch(u){et(e,e.return,u)}}if(e===t){J=null;break}if(A=e.sibling,A!==null){A.return=e.return,J=A;break}J=e.return}}function IB(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var A=e.sibling;if(A!==null){A.return=e.return,J=A;break}J=e.return}}function xB(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var A=e.return;try{gu(4,e)}catch(a){et(e,A,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var r=e.return;try{n.componentDidMount()}catch(a){et(e,r,a)}}var s=e.return;try{sh(e)}catch(a){et(e,s,a)}break;case 5:var i=e.return;try{sh(e)}catch(a){et(e,i,a)}}}catch(a){et(e,e.return,a)}if(e===t){J=null;break}var o=e.sibling;if(o!==null){o.return=e.return,J=o;break}J=e.return}}var UI=Math.ceil,mc=Kn.ReactCurrentDispatcher,Vp=Kn.ReactCurrentOwner,SA=Kn.ReactCurrentBatchConfig,Qe=0,Ct=null,lt=null,Ut=0,uA=0,js=br(0),pt=0,ea=null,is=0,wu=0,Gp=0,Eo=null,qt=null,jp=0,hi=1/0,En=null,yc=!1,ah=null,gr=null,$a=!1,ir=null,vc=0,_o=0,lh=null,Kl=-1,Vl=0;function jt(){return Qe&6?it():Kl!==-1?Kl:Kl=it()}function wr(t){return t.mode&1?Qe&2&&Ut!==0?Ut&-Ut:cI.transition!==null?(Vl===0&&(Vl=Mv()),Vl):(t=ke,t!==0||(t=window.event,t=t===void 0?16:Xv(t.type)),t):1}function zA(t,e,A,n){if(50<_o)throw _o=0,lh=null,Error(L(185));pa(t,A,n),(!(Qe&2)||t!==Ct)&&(t===Ct&&(!(Qe&2)&&(wu|=A),pt===4&&tr(t,Ut)),sA(t,n),A===1&&Qe===0&&!(e.mode&1)&&(hi=it()+500,fu&&Tr()))}function sA(t,e){var A=t.callbackNode;cU(t,e);var n=rc(t,t===Ct?Ut:0);if(n===0)A!==null&&Rw(A),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(A!=null&&Rw(A),e===1)t.tag===0?lI(SB.bind(null,t)):f0(SB.bind(null,t)),sI(function(){!(Qe&6)&&Tr()}),A=null;else{switch(Kv(n)){case 1:A=wp;break;case 4:A=Pv;break;case 16:A=nc;break;case 536870912:A=Ov;break;default:A=nc}A=uC(A,rC.bind(null,t))}t.callbackPriority=e,t.callbackNode=A}}function rC(t,e){if(Kl=-1,Vl=0,Qe&6)throw Error(L(327));var A=t.callbackNode;if(ei()&&t.callbackNode!==A)return null;var n=rc(t,t===Ct?Ut:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Cc(t,n);else{e=n;var r=Qe;Qe|=2;var s=iC();(Ct!==t||Ut!==e)&&(En=null,hi=it()+500,Jr(t,e));do try{SI();break}catch(o){sC(t,o)}while(!0);Sp(),mc.current=s,Qe=r,lt!==null?e=0:(Ct=null,Ut=0,e=pt)}if(e!==0){if(e===2&&(r=kf(t),r!==0&&(n=r,e=ch(t,r))),e===1)throw A=ea,Jr(t,0),tr(t,n),sA(t,it()),A;if(e===6)tr(t,n);else{if(r=t.current.alternate,!(n&30)&&!II(r)&&(e=Cc(t,n),e===2&&(s=kf(t),s!==0&&(n=s,e=ch(t,s))),e===1))throw A=ea,Jr(t,0),tr(t,n),sA(t,it()),A;switch(t.finishedWork=r,t.finishedLanes=n,e){case 0:case 1:throw Error(L(345));case 2:Mr(t,qt,En);break;case 3:if(tr(t,n),(n&130023424)===n&&(e=jp+500-it(),10<e)){if(rc(t,0)!==0)break;if(r=t.suspendedLanes,(r&n)!==n){jt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Gf(Mr.bind(null,t,qt,En),e);break}Mr(t,qt,En);break;case 4:if(tr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,r=-1;0<n;){var i=31-jA(n);s=1<<i,i=e[i],i>r&&(r=i),n&=~s}if(n=r,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UI(n/1960))-n,10<n){t.timeoutHandle=Gf(Mr.bind(null,t,qt,En),n);break}Mr(t,qt,En);break;case 5:Mr(t,qt,En);break;default:throw Error(L(329))}}}return sA(t,it()),t.callbackNode===A?rC.bind(null,t):null}function ch(t,e){var A=Eo;return t.current.memoizedState.isDehydrated&&(Jr(t,e).flags|=256),t=Cc(t,e),t!==2&&(e=qt,qt=A,e!==null&&uh(e)),t}function uh(t){qt===null?qt=t:qt.push.apply(qt,t)}function II(t){for(var e=t;;){if(e.flags&16384){var A=e.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var n=0;n<A.length;n++){var r=A[n],s=r.getSnapshot;r=r.value;try{if(!YA(s(),r))return!1}catch{return!1}}}if(A=e.child,e.subtreeFlags&16384&&A!==null)A.return=e,e=A;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tr(t,e){for(e&=~Gp,e&=~wu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var A=31-jA(e),n=1<<A;t[A]=-1,e&=~n}}function SB(t){if(Qe&6)throw Error(L(327));ei();var e=rc(t,0);if(!(e&1))return sA(t,it()),null;var A=Cc(t,e);if(t.tag!==0&&A===2){var n=kf(t);n!==0&&(e=n,A=ch(t,n))}if(A===1)throw A=ea,Jr(t,0),tr(t,e),sA(t,it()),A;if(A===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mr(t,qt,En),sA(t,it()),null}function zp(t,e){var A=Qe;Qe|=1;try{return t(e)}finally{Qe=A,Qe===0&&(hi=it()+500,fu&&Tr())}}function os(t){ir!==null&&ir.tag===0&&!(Qe&6)&&ei();var e=Qe;Qe|=1;var A=SA.transition,n=ke;try{if(SA.transition=null,ke=1,t)return t()}finally{ke=n,SA.transition=A,Qe=e,!(Qe&6)&&Tr()}}function Wp(){uA=js.current,We(js)}function Jr(t,e){t.finishedWork=null,t.finishedLanes=0;var A=t.timeoutHandle;if(A!==-1&&(t.timeoutHandle=-1,rI(A)),lt!==null)for(A=lt.return;A!==null;){var n=A;switch(Up(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lc();break;case 3:di(),We(nA),We(kt),kp();break;case 5:Hp(n);break;case 4:di();break;case 13:We(Je);break;case 19:We(Je);break;case 10:bp(n.type._context);break;case 22:case 23:Wp()}A=A.return}if(Ct=t,lt=t=Br(t.current,null),Ut=uA=e,pt=0,ea=null,Gp=wu=is=0,qt=Eo=null,zr!==null){for(e=0;e<zr.length;e++)if(A=zr[e],n=A.interleaved,n!==null){A.interleaved=null;var r=n.next,s=A.pending;if(s!==null){var i=s.next;s.next=r,n.next=i}A.pending=n}zr=null}return t}function sC(t,e){do{var A=lt;try{if(Sp(),Pl.current=Bc,wc){for(var n=Ze.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}wc=!1}if(ss=0,Bt=ft=Ze=null,vo=!1,Jo=0,Vp.current=null,A===null||A.return===null){pt=1,ea=e,lt=null;break}e:{var s=t,i=A.return,o=A,a=e;if(e=Ut,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a,d=o,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var u=d.alternate;u?(d.updateQueue=u.updateQueue,d.memoizedState=u.memoizedState,d.lanes=u.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=wB(i);if(p!==null){p.flags&=-257,BB(p,i,o,s,e),p.mode&1&&gB(s,l,e),e=p,a=l;var w=e.updateQueue;if(w===null){var m=new Set;m.add(a),e.updateQueue=m}else w.add(a);break e}else{if(!(e&1)){gB(s,l,e),Xp();break e}a=Error(L(426))}}else if(Ye&&o.mode&1){var I=wB(i);if(I!==null){!(I.flags&65536)&&(I.flags|=256),BB(I,i,o,s,e),Ip(fi(a,o));break e}}s=a=fi(a,o),pt!==4&&(pt=2),Eo===null?Eo=[s]:Eo.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var B=K0(s,a,e);cB(s,B);break e;case 1:o=a;var h=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(gr===null||!gr.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var v=V0(s,o,e);cB(s,v);break e}}s=s.return}while(s!==null)}aC(A)}catch(E){e=E,lt===A&&A!==null&&(lt=A=A.return);continue}break}while(!0)}function iC(){var t=mc.current;return mc.current=Bc,t===null?Bc:t}function Xp(){(pt===0||pt===3||pt===2)&&(pt=4),Ct===null||!(is&268435455)&&!(wu&268435455)||tr(Ct,Ut)}function Cc(t,e){var A=Qe;Qe|=2;var n=iC();(Ct!==t||Ut!==e)&&(En=null,Jr(t,e));do try{xI();break}catch(r){sC(t,r)}while(!0);if(Sp(),Qe=A,mc.current=n,lt!==null)throw Error(L(261));return Ct=null,Ut=0,pt}function xI(){for(;lt!==null;)oC(lt)}function SI(){for(;lt!==null&&!tU();)oC(lt)}function oC(t){var e=cC(t.alternate,t,uA);t.memoizedProps=t.pendingProps,e===null?aC(t):lt=e,Vp.current=null}function aC(t){var e=t;do{var A=e.alternate;if(t=e.return,e.flags&32768){if(A=EI(A,e),A!==null){A.flags&=32767,lt=A;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,lt=null;return}}else if(A=CI(A,e,uA),A!==null){lt=A;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);pt===0&&(pt=5)}function Mr(t,e,A){var n=ke,r=SA.transition;try{SA.transition=null,ke=1,bI(t,e,A,n)}finally{SA.transition=r,ke=n}return null}function bI(t,e,A,n){do ei();while(ir!==null);if(Qe&6)throw Error(L(327));A=t.finishedWork;var r=t.finishedLanes;if(A===null)return null;if(t.finishedWork=null,t.finishedLanes=0,A===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=A.lanes|A.childLanes;if(uU(t,s),t===Ct&&(lt=Ct=null,Ut=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||$a||($a=!0,uC(nc,function(){return ei(),null})),s=(A.flags&15990)!==0,A.subtreeFlags&15990||s){s=SA.transition,SA.transition=null;var i=ke;ke=1;var o=Qe;Qe|=4,Vp.current=null,FI(t,A),AC(A,t),JU(Kf),sc=!!Mf,Kf=Mf=null,t.current=A,QI(A),AU(),Qe=o,ke=i,SA.transition=s}else t.current=A;if($a&&($a=!1,ir=t,vc=r),s=t.pendingLanes,s===0&&(gr=null),sU(A.stateNode),sA(t,it()),e!==null)for(n=t.onRecoverableError,A=0;A<e.length;A++)r=e[A],n(r.value,{componentStack:r.stack,digest:r.digest});if(yc)throw yc=!1,t=ah,ah=null,t;return vc&1&&t.tag!==0&&ei(),s=t.pendingLanes,s&1?t===lh?_o++:(_o=0,lh=t):_o=0,Tr(),null}function ei(){if(ir!==null){var t=Kv(vc),e=SA.transition,A=ke;try{if(SA.transition=null,ke=16>t?16:t,ir===null)var n=!1;else{if(t=ir,ir=null,vc=0,Qe&6)throw Error(L(331));var r=Qe;for(Qe|=4,J=t.current;J!==null;){var s=J,i=s.child;if(J.flags&16){var o=s.deletions;if(o!==null){for(var a=0;a<o.length;a++){var l=o[a];for(J=l;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Co(8,d,s)}var c=d.child;if(c!==null)c.return=d,J=c;else for(;J!==null;){d=J;var u=d.sibling,p=d.return;if(q0(d),d===l){J=null;break}if(u!==null){u.return=p,J=u;break}J=p}}}var w=s.alternate;if(w!==null){var m=w.child;if(m!==null){w.child=null;do{var I=m.sibling;m.sibling=null,m=I}while(m!==null)}}J=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,J=i;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Co(9,s,s.return)}var B=s.sibling;if(B!==null){B.return=s.return,J=B;break e}J=s.return}}var h=t.current;for(J=h;J!==null;){i=J;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,J=g;else e:for(i=h;J!==null;){if(o=J,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:gu(9,o)}}catch(E){et(o,o.return,E)}if(o===i){J=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,J=v;break e}J=o.return}}if(Qe=r,Tr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(au,t)}catch{}n=!0}return n}finally{ke=A,SA.transition=e}}return!1}function bB(t,e,A){e=fi(A,e),e=K0(t,e,1),t=pr(t,e,1),e=jt(),t!==null&&(pa(t,1,e),sA(t,e))}function et(t,e,A){if(t.tag===3)bB(t,t,A);else for(;e!==null;){if(e.tag===3){bB(e,t,A);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(gr===null||!gr.has(n))){t=fi(A,t),t=V0(e,t,1),e=pr(e,t,1),t=jt(),e!==null&&(pa(e,1,t),sA(e,t));break}}e=e.return}}function TI(t,e,A){var n=t.pingCache;n!==null&&n.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&A,Ct===t&&(Ut&A)===A&&(pt===4||pt===3&&(Ut&130023424)===Ut&&500>it()-jp?Jr(t,0):Gp|=A),sA(t,e)}function lC(t,e){e===0&&(t.mode&1?(e=Oa,Oa<<=1,!(Oa&130023424)&&(Oa=4194304)):e=1);var A=jt();t=Hn(t,e),t!==null&&(pa(t,e,A),sA(t,A))}function DI(t){var e=t.memoizedState,A=0;e!==null&&(A=e.retryLane),lC(t,A)}function NI(t,e){var A=0;switch(t.tag){case 13:var n=t.stateNode,r=t.memoizedState;r!==null&&(A=r.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(e),lC(t,A)}var cC;cC=function(t,e,A){if(t!==null)if(t.memoizedProps!==e.pendingProps||nA.current)eA=!0;else{if(!(t.lanes&A)&&!(e.flags&128))return eA=!1,vI(t,e,A);eA=!!(t.flags&131072)}else eA=!1,Ye&&e.flags&1048576&&h0(e,dc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ml(t,e),t=e.pendingProps;var r=li(e,kt.current);qs(e,A),r=Rp(null,e,n,t,r,A);var s=Pp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rA(n)?(s=!0,cc(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Dp(e),r.updater=pu,e.stateNode=r,r._reactInternals=e,Jf(e,n,t,A),e=eh(null,e,n,!0,s,A)):(e.tag=0,Ye&&s&&Qp(e),Gt(null,e,r,A),e=e.child),e;case 16:n=e.elementType;e:{switch(Ml(t,e),t=e.pendingProps,r=n._init,n=r(n._payload),e.type=n,r=e.tag=kI(n),t=RA(n,t),r){case 0:e=qf(null,e,n,t,A);break e;case 1:e=vB(null,e,n,t,A);break e;case 11:e=mB(null,e,n,t,A);break e;case 14:e=yB(null,e,n,RA(n.type,t),A);break e}throw Error(L(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:RA(n,r),qf(t,e,n,r,A);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:RA(n,r),vB(t,e,n,r,A);case 3:e:{if(W0(e),t===null)throw Error(L(387));n=e.pendingProps,s=e.memoizedState,r=s.element,y0(t,e),pc(e,n,null,A);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=fi(Error(L(423)),e),e=CB(t,e,n,A,r);break e}else if(n!==r){r=fi(Error(L(424)),e),e=CB(t,e,n,A,r);break e}else for(dA=hr(e.stateNode.containerInfo.firstChild),fA=e,Ye=!0,OA=null,A=B0(e,null,n,A),e.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(ci(),n===r){e=kn(t,e,A);break e}Gt(t,e,n,A)}e=e.child}return e;case 5:return v0(e),t===null&&Xf(e),n=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,i=r.children,Vf(n,r)?i=null:s!==null&&Vf(n,s)&&(e.flags|=32),z0(t,e),Gt(t,e,i,A),e.child;case 6:return t===null&&Xf(e),null;case 13:return X0(t,e,A);case 4:return Np(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ui(e,null,n,A):Gt(t,e,n,A),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:RA(n,r),mB(t,e,n,r,A);case 7:return Gt(t,e,e.pendingProps,A),e.child;case 8:return Gt(t,e,e.pendingProps.children,A),e.child;case 12:return Gt(t,e,e.pendingProps.children,A),e.child;case 10:e:{if(n=e.type._context,r=e.pendingProps,s=e.memoizedProps,i=r.value,je(fc,n._currentValue),n._currentValue=i,s!==null)if(YA(s.value,i)){if(s.children===r.children&&!nA.current){e=kn(t,e,A);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var a=o.firstContext;a!==null;){if(a.context===n){if(s.tag===1){a=Sn(-1,A&-A),a.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?a.next=a:(a.next=d.next,d.next=a),l.pending=a}}s.lanes|=A,a=s.alternate,a!==null&&(a.lanes|=A),Yf(s.return,A,e),o.lanes|=A;break}a=a.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(L(341));i.lanes|=A,o=i.alternate,o!==null&&(o.lanes|=A),Yf(i,A,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Gt(t,e,r.children,A),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,qs(e,A),r=bA(r),n=n(r),e.flags|=1,Gt(t,e,n,A),e.child;case 14:return n=e.type,r=RA(n,e.pendingProps),r=RA(n.type,r),yB(t,e,n,r,A);case 15:return G0(t,e,e.type,e.pendingProps,A);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:RA(n,r),Ml(t,e),e.tag=1,rA(n)?(t=!0,cc(e)):t=!1,qs(e,A),M0(e,n,r),Jf(e,n,r,A),eh(null,e,n,!0,t,A);case 19:return Y0(t,e,A);case 22:return j0(t,e,A)}throw Error(L(156,e.tag))};function uC(t,e){return Rv(t,e)}function HI(t,e,A,n){this.tag=t,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function FA(t,e,A,n){return new HI(t,e,A,n)}function Yp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kI(t){if(typeof t=="function")return Yp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hp)return 11;if(t===pp)return 14}return 2}function Br(t,e){var A=t.alternate;return A===null?(A=FA(t.tag,e,t.key,t.mode),A.elementType=t.elementType,A.type=t.type,A.stateNode=t.stateNode,A.alternate=t,t.alternate=A):(A.pendingProps=e,A.type=t.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=t.flags&14680064,A.childLanes=t.childLanes,A.lanes=t.lanes,A.child=t.child,A.memoizedProps=t.memoizedProps,A.memoizedState=t.memoizedState,A.updateQueue=t.updateQueue,e=t.dependencies,A.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},A.sibling=t.sibling,A.index=t.index,A.ref=t.ref,A}function Gl(t,e,A,n,r,s){var i=2;if(n=t,typeof t=="function")Yp(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Hs:return Zr(A.children,r,s,e);case fp:i=8,r|=8;break;case vf:return t=FA(12,A,e,r|2),t.elementType=vf,t.lanes=s,t;case Cf:return t=FA(13,A,e,r),t.elementType=Cf,t.lanes=s,t;case Ef:return t=FA(19,A,e,r),t.elementType=Ef,t.lanes=s,t;case vv:return Bu(A,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mv:i=10;break e;case yv:i=9;break e;case hp:i=11;break e;case pp:i=14;break e;case Jn:i=16,n=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=FA(i,A,e,r),e.elementType=t,e.type=n,e.lanes=s,e}function Zr(t,e,A,n){return t=FA(7,t,n,e),t.lanes=A,t}function Bu(t,e,A,n){return t=FA(22,t,n,e),t.elementType=vv,t.lanes=A,t.stateNode={isHidden:!1},t}function bd(t,e,A){return t=FA(6,t,null,e),t.lanes=A,t}function Td(t,e,A){return e=FA(4,t.children!==null?t.children:[],t.key,e),e.lanes=A,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LI(t,e,A,n,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dd(0),this.expirationTimes=dd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dd(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function $p(t,e,A,n,r,s,i,o,a){return t=new LI(t,e,A,o,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=FA(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(s),t}function RI(t,e,A){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ns,key:n==null?null:""+n,children:t,containerInfo:e,implementation:A}}function dC(t){if(!t)return Qr;t=t._reactInternals;e:{if(gs(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rA(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var A=t.type;if(rA(A))return d0(t,A,e)}return e}function fC(t,e,A,n,r,s,i,o,a){return t=$p(A,n,!0,t,r,s,i,o,a),t.context=dC(null),A=t.current,n=jt(),r=wr(A),s=Sn(n,r),s.callback=e??null,pr(A,s,r),t.current.lanes=r,pa(t,r,n),sA(t,n),t}function mu(t,e,A,n){var r=e.current,s=jt(),i=wr(r);return A=dC(A),e.context===null?e.context=A:e.pendingContext=A,e=Sn(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=pr(r,e,i),t!==null&&(zA(t,r,i,s),Rl(t,r,i)),i}function Ec(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var A=t.retryLane;t.retryLane=A!==0&&A<e?A:e}}function Jp(t,e){TB(t,e),(t=t.alternate)&&TB(t,e)}function PI(){return null}var hC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zp(t){this._internalRoot=t}yu.prototype.render=Zp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));mu(t,e,null,null)};yu.prototype.unmount=Zp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;os(function(){mu(null,t,null,null)}),e[Nn]=null}};function yu(t){this._internalRoot=t}yu.prototype.unstable_scheduleHydration=function(t){if(t){var e=jv();t={blockedOn:null,target:t,priority:e};for(var A=0;A<er.length&&e!==0&&e<er[A].priority;A++);er.splice(A,0,t),A===0&&Wv(t)}};function qp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function DB(){}function OI(t,e,A,n,r){if(r){if(typeof n=="function"){var s=n;n=function(){var l=Ec(i);s.call(l)}}var i=fC(e,n,t,0,null,!1,!1,"",DB);return t._reactRootContainer=i,t[Nn]=i.current,zo(t.nodeType===8?t.parentNode:t),os(),i}for(;r=t.lastChild;)t.removeChild(r);if(typeof n=="function"){var o=n;n=function(){var l=Ec(a);o.call(l)}}var a=$p(t,0,!1,null,null,!1,!1,"",DB);return t._reactRootContainer=a,t[Nn]=a.current,zo(t.nodeType===8?t.parentNode:t),os(function(){mu(e,a,A,n)}),a}function Cu(t,e,A,n,r){var s=A._reactRootContainer;if(s){var i=s;if(typeof r=="function"){var o=r;r=function(){var a=Ec(i);o.call(a)}}mu(e,i,t,r)}else i=OI(A,e,t,r,n);return Ec(i)}Vv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var A=io(e.pendingLanes);A!==0&&(Bp(e,A|1),sA(e,it()),!(Qe&6)&&(hi=it()+500,Tr()))}break;case 13:os(function(){var n=Hn(t,1);if(n!==null){var r=jt();zA(n,t,1,r)}}),Jp(t,1)}};mp=function(t){if(t.tag===13){var e=Hn(t,134217728);if(e!==null){var A=jt();zA(e,t,134217728,A)}Jp(t,134217728)}};Gv=function(t){if(t.tag===13){var e=wr(t),A=Hn(t,e);if(A!==null){var n=jt();zA(A,t,e,n)}Jp(t,e)}};jv=function(){return ke};zv=function(t,e){var A=ke;try{return ke=t,e()}finally{ke=A}};Df=function(t,e,A){switch(e){case"input":if(Qf(t,A),e=A.name,A.type==="radio"&&e!=null){for(A=t;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<A.length;e++){var n=A[e];if(n!==t&&n.form===t.form){var r=du(n);if(!r)throw Error(L(90));Ev(n),Qf(n,r)}}}break;case"textarea":Fv(t,A);break;case"select":e=A.value,e!=null&&Ys(t,!!A.multiple,e,!1)}};Tv=zp;Dv=os;var MI={usingClientEntryPoint:!1,Events:[wa,Ps,du,Sv,bv,zp]},Wi={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KI={bundleType:Wi.bundleType,version:Wi.version,rendererPackageName:Wi.rendererPackageName,rendererConfig:Wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kv(t),t===null?null:t.stateNode},findFiberByHostInstance:Wi.findFiberByHostInstance||PI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{au=Ja.inject(KI),an=Ja}catch{}}gA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MI;gA.createPortal=function(t,e){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qp(e))throw Error(L(200));return RI(t,e,null,A)};gA.createRoot=function(t,e){if(!qp(t))throw Error(L(299));var A=!1,n="",r=hC;return e!=null&&(e.unstable_strictMode===!0&&(A=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=$p(t,1,!1,null,null,A,!1,n,r),t[Nn]=e.current,zo(t.nodeType===8?t.parentNode:t),new Zp(e)};gA.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=kv(e),t=t===null?null:t.stateNode,t};gA.flushSync=function(t){return os(t)};gA.hydrate=function(t,e,A){if(!vu(e))throw Error(L(200));return Cu(null,t,e,!0,A)};gA.hydrateRoot=function(t,e,A){if(!qp(t))throw Error(L(405));var n=A!=null&&A.hydratedSources||null,r=!1,s="",i=hC;if(A!=null&&(A.unstable_strictMode===!0&&(r=!0),A.identifierPrefix!==void 0&&(s=A.identifierPrefix),A.onRecoverableError!==void 0&&(i=A.onRecoverableError)),e=fC(e,null,t,1,A??null,r,!1,s,i),t[Nn]=e.current,zo(t),n)for(t=0;t<n.length;t++)A=n[t],r=A._getVersion,r=r(A._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[A,r]:e.mutableSourceEagerHydrationData.push(A,r);return new yu(e)};gA.render=function(t,e,A){if(!vu(e))throw Error(L(200));return Cu(null,t,e,!1,A)};gA.unmountComponentAtNode=function(t){if(!vu(t))throw Error(L(40));return t._reactRootContainer?(os(function(){Cu(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};gA.unstable_batchedUpdates=zp;gA.unstable_renderSubtreeIntoContainer=function(t,e,A,n){if(!vu(A))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Cu(t,e,A,!1,n)};gA.version="18.3.1-next-f1338f8080-20240426";function pC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pC)}catch(t){console.error(t)}}pC(),pv.exports=gA;var Ln=pv.exports,NB=Ln;mf.createRoot=NB.createRoot,mf.hydrateRoot=NB.hydrateRoot;const VI="modulepreload",GI=function(t){return"/"+t},HB={},qr=function(e,A,n){let r=Promise.resolve();if(A&&A.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(A.map(a=>{if(a=GI(a),a in HB)return;HB[a]=!0;const l=a.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":VI,l||(c.as="script"),c.crossOrigin="",c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((u,p)=>{c.addEventListener("load",u),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},gC=x.createContext({scale:1,position:{x:0,y:0},isSelecting:!1}),eg=()=>x.useContext(gC),jI=({children:t,selectedItemId:e,getItemPosition:A,onSelectionBox:n,onCanvasClick:r,onCanvasDrop:s,onCanvasMouseDown:i,onCanvasMouseMove:o,onCanvasMouseUp:a,onContextMenu:l,panSettings:d={keys:["Alt"],button:"Middle"},zoomSettings:c={keys:["Alt"],button:"Right"},windowDragSettings:u={keys:[],button:"Right"},zoomWheelModifier:p="None",pressedKeys:w=new Set,activeTool:m="select",brushSize:I=5,isEraser:B=!1,zoomToFit:h=null,opacity:g=1,onOpacityChange:v,opacityDragSettings:E={keys:["CTRL","ALT"],button:"Right"}})=>{const[y,Q]=x.useState(1),[F,N]=x.useState({x:0,y:0}),[D,P]=x.useState(!1),[Z,X]=x.useState(!1),[q,M]=x.useState(!1),[j,oe]=x.useState(!1),[k,V]=x.useState(0),[G,te]=x.useState(0),[ae,$e]=x.useState(0),[ee,Oe]=x.useState(null),[Ue,Ie]=x.useState({x:0,y:0}),[DA,ZA]=x.useState(0),z=x.useRef(null),[we,le]=x.useState(!1),[se,Rt]=x.useState({x:0,y:0}),[be,Hr]=x.useState({x:0,y:0}),[mA,Li]=x.useState({x:0,y:0});x.useEffect(()=>{const S=z.current;if(!S)return;const _e=ie=>{if(p!=="None"){const ce=p.toUpperCase();if(!(w.has(ce)||ce==="CTRL"&&(ie.ctrlKey||ie.metaKey)||ce==="ALT"&&ie.altKey||ce==="SHIFT"&&ie.shiftKey))return}ie.preventDefault();const De=ie.deltaY*-.001,ve=y+De,xe=Math.min(Math.max(.1,ve),5);let Ne={x:ie.clientX,y:ie.clientY};if(e&&A){const ce=A(e);if(ce){const Me=F.x+(ce.x+ce.width/2)*y,ct=F.y+(ce.y+ce.height/2)*y;Ne={x:Me,y:ct}}}const ue=xe/y,ne=Ne.x-(Ne.x-F.x)*ue,fe=Ne.y-(Ne.y-F.y)*ue;Q(xe),N({x:ne,y:fe})};return S.addEventListener("wheel",_e,{passive:!1}),()=>{S.removeEventListener("wheel",_e)}},[y,F,e,A,p,w]),x.useEffect(()=>{if(!h||!A||!z.current)return;const{itemId:S,padding:_e=40}=h,ie=A(S);if(ie){const De=z.current,ve=De.clientWidth,xe=De.clientHeight,Ne=(ve-_e*2)/ie.width,ue=(xe-_e*2)/ie.height,ne=Math.min(Math.max(.1,Math.min(Ne,ue)),5),fe=ie.x+ie.width/2,ce=ie.y+ie.height/2,Me=ve/2-fe*ne,ct=xe/2-ce*ne;Q(ne),N({x:Me,y:ct})}},[h,A]);const Ri=S=>{var $t,Pt;const _e=S.target,ie=_e===S.currentTarget||_e.classList.contains("canvas-content")||_e.tagName.toLowerCase()==="svg";Li({x:S.clientX,y:S.clientY});let De=!1;(d.button==="Left"&&S.button===0||d.button==="Middle"&&S.button===1||d.button==="Right"&&S.button===2)&&(De=!0);let ve=!1;if(d.keys.length===0||d.keys[0]==="None"?ve=!0:ve=d.keys.every(He=>{const Ce=He.toUpperCase();return w.has(Ce)||Ce==="ALT"&&S.altKey||Ce==="CTRL"&&(S.ctrlKey||S.metaKey)||Ce==="SHIFT"&&S.shiftKey}),De&&ve){S.preventDefault(),S.stopPropagation(),P(!0),Ie({x:S.clientX,y:S.clientY});return}let xe=!1;(E.button==="Left"&&S.button===0||E.button==="Middle"&&S.button===1||E.button==="Right"&&S.button===2)&&(xe=!0);let Ne=!1;if(E.keys.length===0||E.keys[0]==="None"?Ne=!S.altKey&&!S.ctrlKey&&!S.shiftKey&&!S.metaKey:Ne=E.keys.every(He=>{const Ce=He.toUpperCase();return w.has(Ce)||Ce==="ALT"&&S.altKey||Ce==="CTRL"&&(S.ctrlKey||S.metaKey)||Ce==="SHIFT"&&S.shiftKey}),xe&&Ne&&v){S.preventDefault(),oe(!0),Ie({x:S.clientX,y:S.clientY});return}let ue=!1;(c.button==="Left"&&S.button===0||c.button==="Middle"&&S.button===1||c.button==="Right"&&S.button===2)&&(ue=!0);let ne=!1;c.keys.length===0||c.keys[0]==="None"?ne=!0:ne=c.keys.every(He=>{const Ce=He.toUpperCase();return w.has(Ce)||Ce==="ALT"&&S.altKey||Ce==="CTRL"&&(S.ctrlKey||S.metaKey)||Ce==="SHIFT"&&S.shiftKey});let fe=!1;(u.button==="Left"&&S.button===0||u.button==="Middle"&&S.button===1||u.button==="Right"&&S.button===2)&&(fe=!0);let ce=!1;if(u.keys.length===0||u.keys[0]==="None"?ce=!S.altKey&&!S.ctrlKey&&!S.shiftKey&&!S.metaKey:ce=u.keys.every(He=>{const Ce=He.toUpperCase();return w.has(Ce)||Ce==="ALT"&&S.altKey||Ce==="CTRL"&&(S.ctrlKey||S.metaKey)||Ce==="SHIFT"&&S.shiftKey}),ue&&ne){S.preventDefault(),X(!0),ZA(S.clientY),Ie({x:S.clientX,y:S.clientY});return}if(fe){Oe({x:S.screenX,y:S.screenY}),Ie({x:S.screenX,y:S.screenY}),ce&&S.preventDefault();return}if(De&&ve){S.preventDefault(),P(!0),Ie({x:S.clientX,y:S.clientY});return}if(i&&!D&&!Z&&!q){const He=($t=z.current)==null?void 0:$t.getBoundingClientRect();if(He){const Ce=(S.clientX-He.left-F.x)/y,qA=(S.clientY-He.top-F.y)/y,Gn=Object.assign(S,{canvasX:Ce,canvasY:qA});if(i(Gn),m==="pen"||m==="eraser")return}}const Me=S.target,ct=Me.closest("[data-item-id]")||Me.closest(".group");if(S.button===0&&!D&&!Z&&!q&&m!=="pen"&&m!=="eraser"&&ie&&!ct){le(!0);const He=(Pt=z.current)==null?void 0:Pt.getBoundingClientRect();if(He){const Ce=(S.clientX-He.left-F.x)/y,qA=(S.clientY-He.top-F.y)/y;Rt({x:Ce,y:qA}),Hr({x:Ce,y:qA})}}},kr=S=>{var _e,ie,De,ve,xe,Ne,ue;if(we){const ne=(_e=z.current)==null?void 0:_e.getBoundingClientRect();if(ne){const fe=(S.clientX-ne.left-F.x)/y,ce=(S.clientY-ne.top-F.y)/y;Hr({x:fe,y:ce})}}else if(D){const ne=S.clientX-Ue.x,fe=S.clientY-Ue.y;N(ce=>({x:ce.x+ne,y:ce.y+fe})),Ie({x:S.clientX,y:S.clientY})}else if(Z){const ce=(DA-S.clientY)*.005,Me=Math.min(Math.max(.1,y+ce),5),ct=window.innerWidth/2,$t=window.innerHeight/2,Pt=Me/y,He=ct-(ct-F.x)*Pt,Ce=$t-($t-F.y)*Pt;Q(Me),N({x:He,y:Ce}),ZA(S.clientY)}else if(Z){const ce=(S.clientY-DA)*.01,Me=Math.min(Math.max(.1,y-ce),5);let ct={x:S.clientX,y:S.clientY};if(e&&A){const He=A(e);if(He){const Ce=(ie=z.current)==null?void 0:ie.getBoundingClientRect();if(Ce){const qA=Ce.left+F.x+(He.x+He.width/2)*y,Gn=Ce.top+F.y+(He.y+He.height/2)*y;ct={x:qA,y:Gn}}}}else((De=z.current)==null?void 0:De.getBoundingClientRect())&&(ct={x:S.clientX,y:S.clientY});const $t=Me/y,Pt=(ve=z.current)==null?void 0:ve.getBoundingClientRect();if(Pt){const He=ct.x-Pt.left,Ce=ct.y-Pt.top,qA=He-(He-F.x)*$t,Gn=Ce-(Ce-F.y)*$t;Q(Me),N({x:qA,y:Gn})}ZA(S.clientY)}else if(ee){const ne=S.screenX-ee.x,fe=S.screenY-ee.y;Math.sqrt(ne*ne+fe*fe)>5&&!q&&(M(!0),(xe=window.electronAPI)!=null&&xe.startWindowMove&&window.electronAPI.startWindowMove(ee.x,ee.y)),q&&(Ne=window.electronAPI)!=null&&Ne.moveWindow&&window.electronAPI.moveWindow(S.screenX,S.screenY),Ie({x:S.screenX,y:S.screenY})}else if(j&&v){const fe=(S.clientX-Ue.x)*.005,ce=Math.max(.1,Math.min(1,g+fe));v(ce),Ie({x:S.clientX,y:S.clientY})}else if(o&&!D&&!Z&&!q&&!j){const ne=(ue=z.current)==null?void 0:ue.getBoundingClientRect();if(ne){const fe=(S.clientX-ne.left-F.x)/y,ce=(S.clientY-ne.top-F.y)/y,Me=Object.assign(S,{canvasX:fe,canvasY:ce});o(Me)}}(m==="pen"||m==="eraser")&&Li({x:S.clientX,y:S.clientY})},ys=S=>{var De,ve,xe,Ne;const _e=we,ie=Math.sqrt(Math.pow(be.x-se.x,2)+Math.pow(be.y-se.y,2));if(a){const ue=(De=z.current)==null?void 0:De.getBoundingClientRect();if(ue){const ne=(S.clientX-ue.left-F.x)/y,fe=(S.clientY-ue.top-F.y)/y,ce=Object.assign(S,{canvasX:ne,canvasY:fe});a(ce)}}if(_e&&n){const ue={x:Math.min(se.x,be.x),y:Math.min(se.y,be.y),width:Math.abs(be.x-se.x),height:Math.abs(be.y-se.y)};if(ue.width<5&&ue.height<5){if(r){const ne=(ve=z.current)==null?void 0:ve.getBoundingClientRect();if(ne){const fe=(S.clientX-ne.left-F.x)/y,ce=(S.clientY-ne.top-F.y)/y,Me=Object.assign(S,{canvasX:fe,canvasY:ce});r(Me)}else r(S)}}else n(ue)}else if(!_e&&!D&&!Z&&!q&&ie<5&&r){const ue=(xe=z.current)==null?void 0:xe.getBoundingClientRect();if(ue){const ne=(S.clientX-ue.left-F.x)/y,fe=(S.clientY-ue.top-F.y)/y,ce=Object.assign(S,{canvasX:ne,canvasY:fe});r(ce)}else r(S)}if(le(!1),P(!1),Z&&te(Date.now()),j&&$e(Date.now()),X(!1),oe(!1),ee){const ue=S.screenX-ee.x,ne=S.screenY-ee.y,fe=Math.sqrt(ue*ue+ne*ne);(q||fe>5)&&(q&&((Ne=window.electronAPI)!=null&&Ne.endWindowMove)&&window.electronAPI.endWindowMove(),V(Date.now()))}M(!1),Oe(null)},Sa=S=>{var Ne;if(q||Z||j){S.preventDefault();return}const _e=Date.now()-G,ie=Date.now()-ae;if(_e<200&&G>0||ie<200&&ae>0){S.preventDefault();return}if(Date.now()-k<200&&k>0){S.preventDefault();return}const ve=S.target;if(ve.closest("[data-item-id]")||ve.closest(".group")||ve.closest("img")||ve.closest("video")||ve.closest('[class*="MediaItem"]')||ve.closest('[class*="TextItem"]'))return;if(ee){const ue=S.screenX-ee.x,ne=S.screenY-ee.y;if(!(Math.sqrt(ue*ue+ne*ne)<5)){S.preventDefault();return}}if(S.preventDefault(),(ve===S.currentTarget||ve.classList.contains("canvas-content")||ve.tagName.toLowerCase()==="svg")&&l){const ue=(Ne=z.current)==null?void 0:Ne.getBoundingClientRect();if(ue){const ne=(S.clientX-ue.left-F.x)/y,fe=(S.clientY-ue.top-F.y)/y,ce=Object.assign(S,{canvasX:ne,canvasY:fe});l(ce)}else l(S)}},ba=S=>{var _e;if(s){const ie=(_e=z.current)==null?void 0:_e.getBoundingClientRect();if(ie){const De=(S.clientX-ie.left-F.x)/y,ve=(S.clientY-ie.top-F.y)/y,xe=Object.assign(S,{canvasX:De,canvasY:ve});s(xe)}else s(S)}},Pi=S=>{S.preventDefault(),S.stopPropagation()},Ta={left:Math.min(se.x,be.x)*y+F.x,top:Math.min(se.y,be.y)*y+F.y,width:Math.abs(be.x-se.x)*y,height:Math.abs(be.y-se.y)*y},Vn=I*y;return f.jsxs("div",{ref:z,className:`w-full h-screen overflow-hidden bg-[#1a1a1a] relative ${D?"cursor-grabbing":Z?"cursor-ns-resize":"cursor-default"}`,style:{cursor:m==="pen"||m==="eraser"?"none":void 0},onMouseDown:Ri,onMouseMove:kr,onMouseUp:ys,onMouseLeave:ys,onPointerDown:S=>{var _e;if((m==="pen"||m==="eraser")&&S.button===0&&i){const ie=(_e=z.current)==null?void 0:_e.getBoundingClientRect();if(ie){const De=(S.clientX-ie.left-F.x)/y,ve=(S.clientY-ie.top-F.y)/y,xe=S.pressure||.5,Ne=Object.assign(S,{canvasX:De,canvasY:ve,pressure:xe});i(Ne)}}},onPointerMove:S=>{var _e;if((m==="pen"||m==="eraser")&&S.buttons&1&&o){const ie=(_e=z.current)==null?void 0:_e.getBoundingClientRect();if(ie){const De=(S.clientX-ie.left-F.x)/y,ve=(S.clientY-ie.top-F.y)/y,xe=S.pressure||.5,Ne=Object.assign(S,{canvasX:De,canvasY:ve,pressure:xe});o(Ne)}}},onPointerUp:S=>{var _e;if((m==="pen"||m==="eraser")&&a){const ie=(_e=z.current)==null?void 0:_e.getBoundingClientRect();if(ie){const De=(S.clientX-ie.left-F.x)/y,ve=(S.clientY-ie.top-F.y)/y,xe=S.pressure||.5,Ne=Object.assign(S,{canvasX:De,canvasY:ve,pressure:xe});a(Ne)}}},onContextMenu:Sa,onDrop:ba,onDragOver:Pi,children:[(m==="pen"||m==="eraser")&&f.jsx("div",{className:"absolute pointer-events-none z-[10001]",style:{left:`${mA.x}px`,top:`${mA.y}px`,width:`${Vn}px`,height:`${Vn}px`,borderRadius:"50%",border:`2px solid ${B?"#ef4444":"#ffffff"}`,backgroundColor:B?"rgba(239, 68, 68, 0.2)":"rgba(255, 255, 255, 0.1)",transform:"translate(-50%, -50%)",transition:"none"}}),f.jsxs("div",{className:"absolute origin-top-left canvas-content",style:{transform:`translate(${F.x}px, ${F.y}px) scale(${y})`,transformOrigin:"0 0",width:"100%",height:"100%"},children:[f.jsx("div",{className:"absolute inset-[-1000%] opacity-20 pointer-events-none",style:{backgroundImage:"radial-gradient(#555 1px, transparent 1px)",backgroundSize:"40px 40px"}}),f.jsx(gC.Provider,{value:{scale:y,position:F,isSelecting:we},children:t})]}),we&&f.jsx("div",{className:"absolute border-2 border-blue-400 bg-blue-400/10 pointer-events-none z-[10000]",style:Ta}),f.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded backdrop-blur-sm text-xs pointer-events-none",children:["Zoom: ",Math.round(y*100),"% | Pan: ",d.keys.join("+"),"+",d.button," | Zoom: ",c.keys.join("+"),"+",c.button]})]})};var Eu={exports:{}},wC={},BC={exports:{}},zI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WI=zI,XI=WI;function mC(){}function yC(){}yC.resetWarningCache=mC;var YI=function(){function t(n,r,s,i,o,a){if(a!==XI){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var A={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yC,resetWarningCache:mC};return A.PropTypes=A,A};BC.exports=YI();var vC=BC.exports;function CC(t){var e,A,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(A=CC(t[e]))&&(n&&(n+=" "),n+=A);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function kB(){for(var t,e,A=0,n="";A<arguments.length;)(t=arguments[A++])&&(e=CC(t))&&(n&&(n+=" "),n+=e);return n}const $I=Object.freeze(Object.defineProperty({__proto__:null,clsx:kB,default:kB},Symbol.toStringTag,{value:"Module"})),JI=wQ($I);var nt={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.dontSetMe=Ax;dn.findInArray=ZI;dn.int=tx;dn.isFunction=qI;dn.isNum=ex;function ZI(t,e){for(let A=0,n=t.length;A<n;A++)if(e.apply(e,[t[A],A,t]))return t[A]}function qI(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function ex(t){return typeof t=="number"&&!isNaN(t)}function tx(t){return parseInt(t,10)}function Ax(t,e,A){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(A," - do not set this, set it on the child."))}var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.browserPrefixToKey=_C;ws.browserPrefixToStyle=nx;ws.default=void 0;ws.getPrefix=EC;const Dd=["Moz","Webkit","O","ms"];function EC(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const A=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!A||e in A)return"";for(let n=0;n<Dd.length;n++)if(_C(e,Dd[n])in A)return Dd[n];return""}function _C(t,e){return e?"".concat(e).concat(rx(t)):t}function nx(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function rx(t){let e="",A=!0;for(let n=0;n<t.length;n++)A?(e+=t[n].toUpperCase(),A=!1):t[n]==="-"?A=!0:e+=t[n];return e}ws.default=EC();Object.defineProperty(nt,"__esModule",{value:!0});nt.addClassName=UC;nt.addEvent=ox;nt.addUserSelectStyles=Bx;nt.createCSSTransform=hx;nt.createSVGTransform=px;nt.getTouch=gx;nt.getTouchIdentifier=wx;nt.getTranslation=tg;nt.innerHeight=ux;nt.innerWidth=dx;nt.matchesSelector=QC;nt.matchesSelectorAndParentsTo=ix;nt.offsetXYFromParent=fx;nt.outerHeight=lx;nt.outerWidth=cx;nt.removeClassName=IC;nt.removeEvent=ax;nt.removeUserSelectStyles=mx;var hA=dn,LB=sx(ws);function FC(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,A=new WeakMap;return(FC=function(n){return n?A:e})(t)}function sx(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var A=FC(e);if(A&&A.has(t))return A.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var i=r?Object.getOwnPropertyDescriptor(t,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=t[s]}return n.default=t,A&&A.set(t,n),n}let Za="";function QC(t,e){return Za||(Za=(0,hA.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(A){return(0,hA.isFunction)(t[A])})),(0,hA.isFunction)(t[Za])?t[Za](e):!1}function ix(t,e,A){let n=t;do{if(QC(n,e))return!0;if(n===A)return!1;n=n.parentNode}while(n);return!1}function ox(t,e,A,n){if(!t)return;const r={capture:!0,...n};t.addEventListener?t.addEventListener(e,A,r):t.attachEvent?t.attachEvent("on"+e,A):t["on"+e]=A}function ax(t,e,A,n){if(!t)return;const r={capture:!0,...n};t.removeEventListener?t.removeEventListener(e,A,r):t.detachEvent?t.detachEvent("on"+e,A):t["on"+e]=null}function lx(t){let e=t.clientHeight;const A=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,hA.int)(A.borderTopWidth),e+=(0,hA.int)(A.borderBottomWidth),e}function cx(t){let e=t.clientWidth;const A=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,hA.int)(A.borderLeftWidth),e+=(0,hA.int)(A.borderRightWidth),e}function ux(t){let e=t.clientHeight;const A=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,hA.int)(A.paddingTop),e-=(0,hA.int)(A.paddingBottom),e}function dx(t){let e=t.clientWidth;const A=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,hA.int)(A.paddingLeft),e-=(0,hA.int)(A.paddingRight),e}function fx(t,e,A){const r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(t.clientX+e.scrollLeft-r.left)/A,i=(t.clientY+e.scrollTop-r.top)/A;return{x:s,y:i}}function hx(t,e){const A=tg(t,e,"px");return{[(0,LB.browserPrefixToKey)("transform",LB.default)]:A}}function px(t,e){return tg(t,e,"")}function tg(t,e,A){let{x:n,y:r}=t,s="translate(".concat(n).concat(A,",").concat(r).concat(A,")");if(e){const i="".concat(typeof e.x=="string"?e.x:e.x+A),o="".concat(typeof e.y=="string"?e.y:e.y+A);s="translate(".concat(i,", ").concat(o,")")+s}return s}function gx(t,e){return t.targetTouches&&(0,hA.findInArray)(t.targetTouches,A=>e===A.identifier)||t.changedTouches&&(0,hA.findInArray)(t.changedTouches,A=>e===A.identifier)}function wx(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function Bx(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&UC(t.body,"react-draggable-transparent-selection")}function mx(t){if(t)try{if(t.body&&IC(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function UC(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function IC(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.canDragX=Cx;fn.canDragY=Ex;fn.createCoreData=Fx;fn.createDraggableData=Qx;fn.getBoundPosition=yx;fn.getControlPosition=_x;fn.snapToGrid=vx;var lA=dn,zs=nt;function yx(t,e,A){if(!t.props.bounds)return[e,A];let{bounds:n}=t.props;n=typeof n=="string"?n:Ux(n);const r=Ag(t);if(typeof n=="string"){const{ownerDocument:s}=r,i=s.defaultView;let o;if(n==="parent"?o=r.parentNode:o=s.querySelector(n),!(o instanceof i.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const a=o,l=i.getComputedStyle(r),d=i.getComputedStyle(a);n={left:-r.offsetLeft+(0,lA.int)(d.paddingLeft)+(0,lA.int)(l.marginLeft),top:-r.offsetTop+(0,lA.int)(d.paddingTop)+(0,lA.int)(l.marginTop),right:(0,zs.innerWidth)(a)-(0,zs.outerWidth)(r)-r.offsetLeft+(0,lA.int)(d.paddingRight)-(0,lA.int)(l.marginRight),bottom:(0,zs.innerHeight)(a)-(0,zs.outerHeight)(r)-r.offsetTop+(0,lA.int)(d.paddingBottom)-(0,lA.int)(l.marginBottom)}}return(0,lA.isNum)(n.right)&&(e=Math.min(e,n.right)),(0,lA.isNum)(n.bottom)&&(A=Math.min(A,n.bottom)),(0,lA.isNum)(n.left)&&(e=Math.max(e,n.left)),(0,lA.isNum)(n.top)&&(A=Math.max(A,n.top)),[e,A]}function vx(t,e,A){const n=Math.round(e/t[0])*t[0],r=Math.round(A/t[1])*t[1];return[n,r]}function Cx(t){return t.props.axis==="both"||t.props.axis==="x"}function Ex(t){return t.props.axis==="both"||t.props.axis==="y"}function _x(t,e,A){const n=typeof e=="number"?(0,zs.getTouch)(t,e):null;if(typeof e=="number"&&!n)return null;const r=Ag(A),s=A.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,zs.offsetXYFromParent)(n||t,s,A.props.scale)}function Fx(t,e,A){const n=!(0,lA.isNum)(t.lastX),r=Ag(t);return n?{node:r,deltaX:0,deltaY:0,lastX:e,lastY:A,x:e,y:A}:{node:r,deltaX:e-t.lastX,deltaY:A-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:A}}function Qx(t,e){const A=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/A,y:t.state.y+e.deltaY/A,deltaX:e.deltaX/A,deltaY:e.deltaY/A,lastX:t.state.x,lastY:t.state.y}}function Ux(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function Ag(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var _u={},Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.default=Ix;function Ix(){}Object.defineProperty(_u,"__esModule",{value:!0});_u.default=void 0;var Nd=Sx(x),Jt=ng(vC),xx=ng(Ln),Tt=nt,zn=fn,Hd=dn,Xi=ng(Fu);function ng(t){return t&&t.__esModule?t:{default:t}}function xC(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,A=new WeakMap;return(xC=function(n){return n?A:e})(t)}function Sx(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var A=xC(e);if(A&&A.has(t))return A.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var i=r?Object.getOwnPropertyDescriptor(t,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=t[s]}return n.default=t,A&&A.set(t,n),n}function Kt(t,e,A){return e=bx(e),e in t?Object.defineProperty(t,e,{value:A,enumerable:!0,configurable:!0,writable:!0}):t[e]=A,t}function bx(t){var e=Tx(t,"string");return typeof e=="symbol"?e:String(e)}function Tx(t,e){if(typeof t!="object"||t===null)return t;var A=t[Symbol.toPrimitive];if(A!==void 0){var n=A.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const kA={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Wn=kA.mouse,Qu=class extends Nd.Component{constructor(){super(...arguments),Kt(this,"dragging",!1),Kt(this,"lastX",NaN),Kt(this,"lastY",NaN),Kt(this,"touchIdentifier",null),Kt(this,"mounted",!1),Kt(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const A=this.findDOMNode();if(!A||!A.ownerDocument||!A.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=A;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,Tt.matchesSelectorAndParentsTo)(e.target,this.props.handle,A)||this.props.cancel&&(0,Tt.matchesSelectorAndParentsTo)(e.target,this.props.cancel,A))return;e.type==="touchstart"&&e.preventDefault();const r=(0,Tt.getTouchIdentifier)(e);this.touchIdentifier=r;const s=(0,zn.getControlPosition)(e,r,this);if(s==null)return;const{x:i,y:o}=s,a=(0,zn.createCoreData)(this,i,o);(0,Xi.default)("DraggableCore: handleDragStart: %j",a),(0,Xi.default)("calling",this.props.onStart),!(this.props.onStart(e,a)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Tt.addUserSelectStyles)(n),this.dragging=!0,this.lastX=i,this.lastY=o,(0,Tt.addEvent)(n,Wn.move,this.handleDrag),(0,Tt.addEvent)(n,Wn.stop,this.handleDragStop))}),Kt(this,"handleDrag",e=>{const A=(0,zn.getControlPosition)(e,this.touchIdentifier,this);if(A==null)return;let{x:n,y:r}=A;if(Array.isArray(this.props.grid)){let o=n-this.lastX,a=r-this.lastY;if([o,a]=(0,zn.snapToGrid)(this.props.grid,o,a),!o&&!a)return;n=this.lastX+o,r=this.lastY+a}const s=(0,zn.createCoreData)(this,n,r);if((0,Xi.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const a=document.createEvent("MouseEvents");a.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(a)}return}this.lastX=n,this.lastY=r}),Kt(this,"handleDragStop",e=>{if(!this.dragging)return;const A=(0,zn.getControlPosition)(e,this.touchIdentifier,this);if(A==null)return;let{x:n,y:r}=A;if(Array.isArray(this.props.grid)){let a=n-this.lastX||0,l=r-this.lastY||0;[a,l]=(0,zn.snapToGrid)(this.props.grid,a,l),n=this.lastX+a,r=this.lastY+l}const s=(0,zn.createCoreData)(this,n,r);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,Tt.removeUserSelectStyles)(o.ownerDocument),(0,Xi.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,Xi.default)("DraggableCore: Removing handlers"),(0,Tt.removeEvent)(o.ownerDocument,Wn.move,this.handleDrag),(0,Tt.removeEvent)(o.ownerDocument,Wn.stop,this.handleDragStop))}),Kt(this,"onMouseDown",e=>(Wn=kA.mouse,this.handleDragStart(e))),Kt(this,"onMouseUp",e=>(Wn=kA.mouse,this.handleDragStop(e))),Kt(this,"onTouchStart",e=>(Wn=kA.touch,this.handleDragStart(e))),Kt(this,"onTouchEnd",e=>(Wn=kA.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Tt.addEvent)(e,kA.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:A}=e;(0,Tt.removeEvent)(A,kA.mouse.move,this.handleDrag),(0,Tt.removeEvent)(A,kA.touch.move,this.handleDrag),(0,Tt.removeEvent)(A,kA.mouse.stop,this.handleDragStop),(0,Tt.removeEvent)(A,kA.touch.stop,this.handleDragStop),(0,Tt.removeEvent)(e,kA.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Tt.removeUserSelectStyles)(A)}}findDOMNode(){var e,A;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(A=this.props)===null||A===void 0||(A=A.nodeRef)===null||A===void 0?void 0:A.current:xx.default.findDOMNode(this)}render(){return Nd.cloneElement(Nd.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};_u.default=Qu;Kt(Qu,"displayName","DraggableCore");Kt(Qu,"propTypes",{allowAnyClick:Jt.default.bool,children:Jt.default.node.isRequired,disabled:Jt.default.bool,enableUserSelectHack:Jt.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Jt.default.arrayOf(Jt.default.number),handle:Jt.default.string,cancel:Jt.default.string,nodeRef:Jt.default.object,onStart:Jt.default.func,onDrag:Jt.default.func,onStop:Jt.default.func,onMouseDown:Jt.default.func,scale:Jt.default.number,className:Hd.dontSetMe,style:Hd.dontSetMe,transform:Hd.dontSetMe});Kt(Qu,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return a.default}}),t.default=void 0;var e=u(x),A=d(vC),n=d(Ln),r=d(JI),s=nt,i=fn,o=dn,a=d(_u),l=d(Fu);function d(h){return h&&h.__esModule?h:{default:h}}function c(h){if(typeof WeakMap!="function")return null;var g=new WeakMap,v=new WeakMap;return(c=function(E){return E?v:g})(h)}function u(h,g){if(h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var v=c(g);if(v&&v.has(h))return v.get(h);var E={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in h)if(Q!=="default"&&Object.prototype.hasOwnProperty.call(h,Q)){var F=y?Object.getOwnPropertyDescriptor(h,Q):null;F&&(F.get||F.set)?Object.defineProperty(E,Q,F):E[Q]=h[Q]}return E.default=h,v&&v.set(h,E),E}function p(){return p=Object.assign?Object.assign.bind():function(h){for(var g=1;g<arguments.length;g++){var v=arguments[g];for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(h[E]=v[E])}return h},p.apply(this,arguments)}function w(h,g,v){return g=m(g),g in h?Object.defineProperty(h,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[g]=v,h}function m(h){var g=I(h,"string");return typeof g=="symbol"?g:String(g)}function I(h,g){if(typeof h!="object"||h===null)return h;var v=h[Symbol.toPrimitive];if(v!==void 0){var E=v.call(h,g);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(h)}class B extends e.Component{static getDerivedStateFromProps(g,v){let{position:E}=g,{prevPropsPosition:y}=v;return E&&(!y||E.x!==y.x||E.y!==y.y)?((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:E,prevPropsPosition:y}),{x:E.x,y:E.y,prevPropsPosition:{...E}}):null}constructor(g){super(g),w(this,"onDragStart",(v,E)=>{if((0,l.default)("Draggable: onDragStart: %j",E),this.props.onStart(v,(0,i.createDraggableData)(this,E))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),w(this,"onDrag",(v,E)=>{if(!this.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",E);const y=(0,i.createDraggableData)(this,E),Q={x:y.x,y:y.y,slackX:0,slackY:0};if(this.props.bounds){const{x:N,y:D}=Q;Q.x+=this.state.slackX,Q.y+=this.state.slackY;const[P,Z]=(0,i.getBoundPosition)(this,Q.x,Q.y);Q.x=P,Q.y=Z,Q.slackX=this.state.slackX+(N-Q.x),Q.slackY=this.state.slackY+(D-Q.y),y.x=Q.x,y.y=Q.y,y.deltaX=Q.x-this.state.x,y.deltaY=Q.y-this.state.y}if(this.props.onDrag(v,y)===!1)return!1;this.setState(Q)}),w(this,"onDragStop",(v,E)=>{if(!this.state.dragging||this.props.onStop(v,(0,i.createDraggableData)(this,E))===!1)return!1;(0,l.default)("Draggable: onDragStop: %j",E);const Q={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:N,y:D}=this.props.position;Q.x=N,Q.y=D}this.setState(Q)}),this.state={dragging:!1,dragged:!1,x:g.position?g.position.x:g.defaultPosition.x,y:g.position?g.position.y:g.defaultPosition.y,prevPropsPosition:{...g.position},slackX:0,slackY:0,isElementSVG:!1},g.position&&!(g.onDrag||g.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var g,v;return(g=(v=this.props)===null||v===void 0||(v=v.nodeRef)===null||v===void 0?void 0:v.current)!==null&&g!==void 0?g:n.default.findDOMNode(this)}render(){const{axis:g,bounds:v,children:E,defaultPosition:y,defaultClassName:Q,defaultClassNameDragging:F,defaultClassNameDragged:N,position:D,positionOffset:P,scale:Z,...X}=this.props;let q={},M=null;const oe=!!!D||this.state.dragging,k=D||y,V={x:(0,i.canDragX)(this)&&oe?this.state.x:k.x,y:(0,i.canDragY)(this)&&oe?this.state.y:k.y};this.state.isElementSVG?M=(0,s.createSVGTransform)(V,P):q=(0,s.createCSSTransform)(V,P);const G=(0,r.default)(E.props.className||"",Q,{[F]:this.state.dragging,[N]:this.state.dragged});return e.createElement(a.default,p({},X,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(E),{className:G,style:{...E.props.style,...q},transform:M}))}}t.default=B,w(B,"displayName","Draggable"),w(B,"propTypes",{...a.default.propTypes,axis:A.default.oneOf(["both","x","y","none"]),bounds:A.default.oneOfType([A.default.shape({left:A.default.number,right:A.default.number,top:A.default.number,bottom:A.default.number}),A.default.string,A.default.oneOf([!1])]),defaultClassName:A.default.string,defaultClassNameDragging:A.default.string,defaultClassNameDragged:A.default.string,defaultPosition:A.default.shape({x:A.default.number,y:A.default.number}),positionOffset:A.default.shape({x:A.default.oneOfType([A.default.number,A.default.string]),y:A.default.oneOfType([A.default.number,A.default.string])}),position:A.default.shape({x:A.default.number,y:A.default.number}),className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),w(B,"defaultProps",{...a.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(wC);const{default:SC,DraggableCore:Dx}=wC;Eu.exports=SC;Eu.exports.default=SC;Eu.exports.DraggableCore=Dx;var Nx=Eu.exports;const Hx=nv(Nx);var ot=function(){return ot=Object.assign||function(t){for(var e,A=1,n=arguments.length;A<n;A++){e=arguments[A];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ot.apply(this,arguments)},RB={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},PB={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},qa={width:"20px",height:"20px",position:"absolute",zIndex:1},kx={top:ot(ot({},RB),{top:"-5px"}),right:ot(ot({},PB),{left:void 0,right:"-5px"}),bottom:ot(ot({},RB),{top:void 0,bottom:"-5px"}),left:ot(ot({},PB),{left:"-5px"}),topRight:ot(ot({},qa),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:ot(ot({},qa),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:ot(ot({},qa),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:ot(ot({},qa),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Lx=x.memo(function(t){var e=t.onResizeStart,A=t.direction,n=t.children,r=t.replaceStyles,s=t.className,i=x.useCallback(function(l){e(l,A)},[e,A]),o=x.useCallback(function(l){e(l,A)},[e,A]),a=x.useMemo(function(){return ot(ot({position:"absolute",userSelect:"none"},kx[A]),r??{})},[r,A]);return f.jsx("div",{className:s||void 0,style:a,onMouseDown:i,onTouchStart:o,children:n})}),Rx=function(){var t=function(e,A){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},t(e,A)};return function(e,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");t(e,A);function n(){this.constructor=e}e.prototype=A===null?Object.create(A):(n.prototype=A.prototype,new n)}}(),rn=function(){return rn=Object.assign||function(t){for(var e,A=1,n=arguments.length;A<n;A++){e=arguments[A];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},rn.apply(this,arguments)},Px={width:"auto",height:"auto"},el=function(t,e,A){return Math.max(Math.min(t,A),e)},OB=function(t,e,A){var n=Math.round(t/e);return n*e+A*(n-1)},Es=function(t,e){return new RegExp(t,"i").test(e)},tl=function(t){return!!(t.touches&&t.touches.length)},Ox=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},MB=function(t,e,A){A===void 0&&(A=0);var n=e.reduce(function(s,i,o){return Math.abs(i-t)<Math.abs(e[s]-t)?o:s},0),r=Math.abs(e[n]-t);return A===0||r<A?e[n]:t},kd=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},Al=function(t,e,A,n){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var r=Number(t.replace("%",""))/100;return e*r}if(t.endsWith("vw")){var r=Number(t.replace("vw",""))/100;return A*r}if(t.endsWith("vh")){var r=Number(t.replace("vh",""))/100;return n*r}}return t},Mx=function(t,e,A,n,r,s,i){return n=Al(n,t.width,e,A),r=Al(r,t.height,e,A),s=Al(s,t.width,e,A),i=Al(i,t.height,e,A),{maxWidth:typeof n>"u"?void 0:Number(n),maxHeight:typeof r>"u"?void 0:Number(r),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof i>"u"?void 0:Number(i)}},Kx=function(t){return Array.isArray(t)?t:[t,t]},Vx=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],KB="__resizable_base__",Gx=function(t){Rx(e,t);function e(A){var n,r,s,i,o=t.call(this,A)||this;return o.ratio=1,o.resizable=null,o.parentLeft=0,o.parentTop=0,o.resizableLeft=0,o.resizableRight=0,o.resizableTop=0,o.resizableBottom=0,o.targetLeft=0,o.targetTop=0,o.delta={width:0,height:0},o.appendBase=function(){if(!o.resizable||!o.window)return null;var a=o.parentNode;if(!a)return null;var l=o.window.document.createElement("div");return l.style.width="100%",l.style.height="100%",l.style.position="absolute",l.style.transform="scale(0, 0)",l.style.left="0",l.style.flex="0 0 100%",l.classList?l.classList.add(KB):l.className+=KB,a.appendChild(l),l},o.removeBase=function(a){var l=o.parentNode;l&&l.removeChild(a)},o.state={isResizing:!1,width:(r=(n=o.propsSize)===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:"auto",height:(i=(s=o.propsSize)===null||s===void 0?void 0:s.height)!==null&&i!==void 0?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},o.onResizeStart=o.onResizeStart.bind(o),o.onMouseMove=o.onMouseMove.bind(o),o.onMouseUp=o.onMouseUp.bind(o),o}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Px},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var A=0,n=0;if(this.resizable&&this.window){var r=this.resizable.offsetWidth,s=this.resizable.offsetHeight,i=this.resizable.style.position;i!=="relative"&&(this.resizable.style.position="relative"),A=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:r,n=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=i}return{width:A,height:n}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var A=this,n=this.props.size,r=function(o){var a;if(typeof A.state[o]>"u"||A.state[o]==="auto")return"auto";if(A.propsSize&&A.propsSize[o]&&(!((a=A.propsSize[o])===null||a===void 0)&&a.toString().endsWith("%"))){if(A.state[o].toString().endsWith("%"))return A.state[o].toString();var l=A.getParentSize(),d=Number(A.state[o].toString().replace("px","")),c=d/l[o]*100;return"".concat(c,"%")}return kd(A.state[o])},s=n&&typeof n.width<"u"&&!this.state.isResizing?kd(n.width):r("width"),i=n&&typeof n.height<"u"&&!this.state.isResizing?kd(n.height):r("height");return{width:s,height:i}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var A=this.appendBase();if(!A)return{width:0,height:0};var n=!1,r=this.parentNode.style.flexWrap;r!=="wrap"&&(n=!0,this.parentNode.style.flexWrap="wrap"),A.style.position="relative",A.style.minWidth="100%",A.style.minHeight="100%";var s={width:A.offsetWidth,height:A.offsetHeight};return n&&(this.parentNode.style.flexWrap=r),this.removeBase(A),s},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var A=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:A.flexBasis!=="auto"?A.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(A,n){var r=this.propsSize&&this.propsSize[n];return this.state[n]==="auto"&&this.state.original[n]===A&&(typeof r>"u"||r==="auto")?"auto":A},e.prototype.calculateNewMaxFromBoundary=function(A,n){var r=this.props.boundsByDirection,s=this.state.direction,i=r&&Es("left",s),o=r&&Es("top",s),a,l;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(a=i?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),l=o?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(a=i?this.resizableRight:this.window.innerWidth-this.resizableLeft,l=o?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(a=i?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),l=o?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return a&&Number.isFinite(a)&&(A=A&&A<a?A:a),l&&Number.isFinite(l)&&(n=n&&n<l?n:l),{maxWidth:A,maxHeight:n}},e.prototype.calculateNewSizeFromDirection=function(A,n){var r=this.props.scale||1,s=Kx(this.props.resizeRatio||1),i=s[0],o=s[1],a=this.state,l=a.direction,d=a.original,c=this.props,u=c.lockAspectRatio,p=c.lockAspectRatioExtraHeight,w=c.lockAspectRatioExtraWidth,m=d.width,I=d.height,B=p||0,h=w||0;return Es("right",l)&&(m=d.width+(A-d.x)*i/r,u&&(I=(m-h)/this.ratio+B)),Es("left",l)&&(m=d.width-(A-d.x)*i/r,u&&(I=(m-h)/this.ratio+B)),Es("bottom",l)&&(I=d.height+(n-d.y)*o/r,u&&(m=(I-B)*this.ratio+h)),Es("top",l)&&(I=d.height-(n-d.y)*o/r,u&&(m=(I-B)*this.ratio+h)),{newWidth:m,newHeight:I}},e.prototype.calculateNewSizeFromAspectRatio=function(A,n,r,s){var i=this.props,o=i.lockAspectRatio,a=i.lockAspectRatioExtraHeight,l=i.lockAspectRatioExtraWidth,d=typeof s.width>"u"?10:s.width,c=typeof r.width>"u"||r.width<0?A:r.width,u=typeof s.height>"u"?10:s.height,p=typeof r.height>"u"||r.height<0?n:r.height,w=a||0,m=l||0;if(o){var I=(u-w)*this.ratio+m,B=(p-w)*this.ratio+m,h=(d-m)/this.ratio+w,g=(c-m)/this.ratio+w,v=Math.max(d,I),E=Math.min(c,B),y=Math.max(u,h),Q=Math.min(p,g);A=el(A,v,E),n=el(n,y,Q)}else A=el(A,d,c),n=el(n,u,p);return{newWidth:A,newHeight:n}},e.prototype.setBoundingClientRect=function(){var A=1/(this.props.scale||1);if(this.props.bounds==="parent"){var n=this.parentNode;if(n){var r=n.getBoundingClientRect();this.parentLeft=r.left*A,this.parentTop=r.top*A}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*A,this.targetTop=s.top*A}if(this.resizable){var i=this.resizable.getBoundingClientRect(),o=i.left,a=i.top,l=i.right,d=i.bottom;this.resizableLeft=o*A,this.resizableRight=l*A,this.resizableTop=a*A,this.resizableBottom=d*A}},e.prototype.onResizeStart=function(A,n){if(!(!this.resizable||!this.window)){var r=0,s=0;if(A.nativeEvent&&Ox(A.nativeEvent)?(r=A.nativeEvent.clientX,s=A.nativeEvent.clientY):A.nativeEvent&&tl(A.nativeEvent)&&(r=A.nativeEvent.touches[0].clientX,s=A.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var i=this.props.onResizeStart(A,n,this.resizable);if(i===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var o,a=this.window.getComputedStyle(this.resizable);if(a.flexBasis!=="auto"){var l=this.parentNode;if(l){var d=this.window.getComputedStyle(l).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",o=a.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var c={original:{x:r,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:rn(rn({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(A.target).cursor||"auto"}),direction:n,flexBasis:o};this.setState(c)}},e.prototype.onMouseMove=function(A){var n=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&tl(A))try{A.preventDefault(),A.stopPropagation()}catch{}var r=this.props,s=r.maxWidth,i=r.maxHeight,o=r.minWidth,a=r.minHeight,l=tl(A)?A.touches[0].clientX:A.clientX,d=tl(A)?A.touches[0].clientY:A.clientY,c=this.state,u=c.direction,p=c.original,w=c.width,m=c.height,I=this.getParentSize(),B=Mx(I,this.window.innerWidth,this.window.innerHeight,s,i,o,a);s=B.maxWidth,i=B.maxHeight,o=B.minWidth,a=B.minHeight;var h=this.calculateNewSizeFromDirection(l,d),g=h.newHeight,v=h.newWidth,E=this.calculateNewMaxFromBoundary(s,i);this.props.snap&&this.props.snap.x&&(v=MB(v,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(g=MB(g,this.props.snap.y,this.props.snapGap));var y=this.calculateNewSizeFromAspectRatio(v,g,{width:E.maxWidth,height:E.maxHeight},{width:o,height:a});if(v=y.newWidth,g=y.newHeight,this.props.grid){var Q=OB(v,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),F=OB(g,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),N=this.props.snapGap||0,D=N===0||Math.abs(Q-v)<=N?Q:v,P=N===0||Math.abs(F-g)<=N?F:g;v=D,g=P}var Z={width:v-p.width,height:g-p.height};if(this.delta=Z,w&&typeof w=="string"){if(w.endsWith("%")){var X=v/I.width*100;v="".concat(X,"%")}else if(w.endsWith("vw")){var q=v/this.window.innerWidth*100;v="".concat(q,"vw")}else if(w.endsWith("vh")){var M=v/this.window.innerHeight*100;v="".concat(M,"vh")}}if(m&&typeof m=="string"){if(m.endsWith("%")){var X=g/I.height*100;g="".concat(X,"%")}else if(m.endsWith("vw")){var q=g/this.window.innerWidth*100;g="".concat(q,"vw")}else if(m.endsWith("vh")){var M=g/this.window.innerHeight*100;g="".concat(M,"vh")}}var j={width:this.createSizeForCssProperty(v,"width"),height:this.createSizeForCssProperty(g,"height")};this.flexDir==="row"?j.flexBasis=j.width:this.flexDir==="column"&&(j.flexBasis=j.height);var oe=this.state.width!==j.width,k=this.state.height!==j.height,V=this.state.flexBasis!==j.flexBasis,G=oe||k||V;G&&Ln.flushSync(function(){n.setState(j)}),this.props.onResize&&G&&this.props.onResize(A,u,this.resizable,Z)}},e.prototype.onMouseUp=function(A){var n,r,s=this.state,i=s.isResizing,o=s.direction;s.original,!(!i||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(A,o,this.resizable,this.delta),this.props.size&&this.setState({width:(n=this.props.size.width)!==null&&n!==void 0?n:"auto",height:(r=this.props.size.height)!==null&&r!==void 0?r:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:rn(rn({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(A){var n,r;this.setState({width:(n=A.width)!==null&&n!==void 0?n:"auto",height:(r=A.height)!==null&&r!==void 0?r:"auto"})},e.prototype.renderResizer=function(){var A=this,n=this.props,r=n.enable,s=n.handleStyles,i=n.handleClasses,o=n.handleWrapperStyle,a=n.handleWrapperClass,l=n.handleComponent;if(!r)return null;var d=Object.keys(r).map(function(c){return r[c]!==!1?f.jsx(Lx,{direction:c,onResizeStart:A.onResizeStart,replaceStyles:s&&s[c],className:i&&i[c],children:l&&l[c]?l[c]:null},c):null});return f.jsx("div",{className:a,style:o,children:d})},e.prototype.render=function(){var A=this,n=Object.keys(this.props).reduce(function(i,o){return Vx.indexOf(o)!==-1||(i[o]=A.props[o]),i},{}),r=rn(rn(rn({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(r.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return f.jsxs(s,rn({style:r,className:this.props.className},n,{ref:function(i){i&&(A.resizable=i)},children:[this.state.isResizing&&f.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(x.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dh=function(t,e){return dh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var r in n)n.hasOwnProperty(r)&&(A[r]=n[r])},dh(t,e)};function jx(t,e){dh(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}var dt=function(){return dt=Object.assign||function(e){for(var A,n=1,r=arguments.length;n<r;n++){A=arguments[n];for(var s in A)Object.prototype.hasOwnProperty.call(A,s)&&(e[s]=A[s])}return e},dt.apply(this,arguments)};function zx(t,e){var A={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(A[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(A[n[r]]=t[n[r]]);return A}var Wx={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Xx=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},rg=function(t){jx(e,t);function e(A){var n=t.call(this,A)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:A.maxWidth,maxHeight:A.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var A=this.offsetFromParent,n=A.left,r=A.top,s=this.getDraggablePosition(),i=s.x,o=s.y;this.draggable.setState({x:i-n,y:o-r}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var A=this.draggable.state,n=A.x,r=A.y;return{x:n,y:r}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var A=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,n=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:A,maxHeight:n}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(A){var n=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/n;case"body":return document.body.offsetHeight/n;default:return A.offsetHeight}},e.prototype.getOffsetWidth=function(A){var n=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/n;case"body":return document.body.offsetWidth/n;default:return A.offsetWidth}},e.prototype.onDragStart=function(A,n){this.props.onDragStart&&this.props.onDragStart(A,n);var r=this.getDraggablePosition();if(this.originalPosition=r,!!this.props.bounds){var s=this.getParent(),i=this.props.scale,o;if(this.props.bounds==="parent")o=s;else if(this.props.bounds==="body"){var a=s.getBoundingClientRect(),l=a.left,d=a.top,c=document.body.getBoundingClientRect(),u=-(l-s.offsetLeft*i-c.left)/i,p=-(d-s.offsetTop*i-c.top)/i,w=(document.body.offsetWidth-this.resizable.size.width*i)/i+u,m=(document.body.offsetHeight-this.resizable.size.height*i)/i+p;return this.setState({bounds:{top:p,right:w,bottom:m,left:u}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var I=s.getBoundingClientRect(),B=I.left,h=I.top,g=-(B-s.offsetLeft*i)/i,v=-(h-s.offsetTop*i)/i,w=(window.innerWidth-this.resizable.size.width*i)/i+g,m=(window.innerHeight-this.resizable.size.height*i)/i+v;return this.setState({bounds:{top:v,right:w,bottom:m,left:g}})}else typeof this.props.bounds=="string"?o=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(o=this.props.bounds);if(!(!(o instanceof HTMLElement)||!(s instanceof HTMLElement))){var E=o.getBoundingClientRect(),y=E.left,Q=E.top,F=s.getBoundingClientRect(),N=F.left,D=F.top,P=(y-N)/i,Z=Q-D;if(this.resizable){this.updateOffsetFromParent();var X=this.offsetFromParent;this.setState({bounds:{top:Z-X.top,right:P+(o.offsetWidth-this.resizable.size.width)-X.left/i,bottom:Z+(o.offsetHeight-this.resizable.size.height)-X.top,left:P-X.left/i}})}}}},e.prototype.onDrag=function(A,n){if(this.props.onDrag){var r=this.offsetFromParent,s=r.left,i=r.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(A,dt(dt({},n),{x:n.x+s,y:n.y+i}));if(this.props.dragAxis==="x")return this.props.onDrag(A,dt(dt({},n),{x:n.x+s,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(A,dt(dt({},n),{x:this.originalPosition.x+s,y:n.y+i,deltaX:0}))}},e.prototype.onDragStop=function(A,n){if(this.props.onDragStop){var r=this.offsetFromParent,s=r.left,i=r.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(A,dt(dt({},n),{x:n.x+s,y:n.y+i}));if(this.props.dragAxis==="x")return this.props.onDragStop(A,dt(dt({},n),{x:n.x+s,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(A,dt(dt({},n),{x:this.originalPosition.x+s,y:n.y+i,deltaX:0}))}},e.prototype.onResizeStart=function(A,n,r){A.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,i=this.offsetFromParent,o=this.getDraggablePosition();if(this.resizingPosition={x:o.x+i.left,y:o.y+i.top},this.originalPosition=o,this.props.bounds){var a=this.getParent(),l=void 0;this.props.bounds==="parent"?l=a:this.props.bounds==="body"?l=document.body:this.props.bounds==="window"?l=window:typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);var d=this.getSelfElement();if(d instanceof Element&&(l instanceof HTMLElement||l===window)&&a instanceof HTMLElement){var c=this.getMaxSizesFromProps(),u=c.maxWidth,p=c.maxHeight,w=this.getParentSize();if(u&&typeof u=="string")if(u.endsWith("%")){var m=Number(u.replace("%",""))/100;u=w.width*m}else u.endsWith("px")&&(u=Number(u.replace("px","")));if(p&&typeof p=="string")if(p.endsWith("%")){var m=Number(p.replace("%",""))/100;p=w.height*m}else p.endsWith("px")&&(p=Number(p.replace("px","")));var I=d.getBoundingClientRect(),B=I.left,h=I.top,g=this.props.bounds==="window"?{left:0,top:0}:l.getBoundingClientRect(),v=g.left,E=g.top,y=this.getOffsetWidth(l),Q=this.getOffsetHeight(l),F=n.toLowerCase().endsWith("left"),N=n.toLowerCase().endsWith("right"),D=n.startsWith("top"),P=n.startsWith("bottom");if((F||D)&&this.resizable){var Z=(B-v)/s+this.resizable.size.width;this.setState({maxWidth:Z>Number(u)?u:Z})}if(N||this.props.lockAspectRatio&&!F&&!D){var Z=y+(v-B)/s;this.setState({maxWidth:Z>Number(u)?u:Z})}if((D||F)&&this.resizable){var Z=(h-E)/s+this.resizable.size.height;this.setState({maxHeight:Z>Number(p)?p:Z})}if(P||this.props.lockAspectRatio&&!D&&!F){var Z=Q+(E-h)/s;this.setState({maxHeight:Z>Number(p)?p:Z})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(A,n,r)},e.prototype.onResize=function(A,n,r,s){var i=this,o={x:this.originalPosition.x,y:this.originalPosition.y},a=-s.width,l=-s.height,d=["top","left","topLeft","bottomLeft","topRight"];d.includes(n)&&(n==="bottomLeft"?o.x+=a:(n==="topRight"||(o.x+=a),o.y+=l));var c=this.draggable.state;(o.x!==c.x||o.y!==c.y)&&Ln.flushSync(function(){i.draggable.setState(o)}),this.updateOffsetFromParent();var u=this.offsetFromParent,p=this.getDraggablePosition().x+u.left,w=this.getDraggablePosition().y+u.top;this.resizingPosition={x:p,y:w},this.props.onResize&&this.props.onResize(A,n,r,s,{x:p,y:w})},e.prototype.onResizeStop=function(A,n,r,s){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),o=i.maxWidth,a=i.maxHeight;this.setState({maxWidth:o,maxHeight:a}),this.props.onResizeStop&&this.props.onResizeStop(A,n,r,s,this.resizingPosition)},e.prototype.updateSize=function(A){this.resizable&&this.resizable.updateSize({width:A.width,height:A.height})},e.prototype.updatePosition=function(A){this.draggable.setState(A)},e.prototype.updateOffsetFromParent=function(){var A=this.props.scale,n=this.getParent(),r=this.getSelfElement();if(!n||r===null)return{top:0,left:0};var s=n.getBoundingClientRect(),i=s.left,o=s.top,a=r.getBoundingClientRect(),l=this.getDraggablePosition(),d=n.scrollLeft,c=n.scrollTop;this.offsetFromParent={left:a.left-i+d-l.x*A,top:a.top-o+c-l.y*A}},e.prototype.render=function(){var A=this,n=this.props,r=n.disableDragging,s=n.style,i=n.dragHandleClassName,o=n.position,a=n.onMouseDown,l=n.onMouseUp,d=n.dragAxis,c=n.dragGrid,u=n.bounds,p=n.enableUserSelectHack,w=n.cancel,m=n.children;n.onResizeStart,n.onResize,n.onResizeStop,n.onDragStart,n.onDrag,n.onDragStop;var I=n.resizeHandleStyles,B=n.resizeHandleClasses,h=n.resizeHandleComponent,g=n.enableResizing,v=n.resizeGrid,E=n.resizeHandleWrapperClass,y=n.resizeHandleWrapperStyle,Q=n.scale,F=n.allowAnyClick,N=n.dragPositionOffset,D=zx(n,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),P=this.props.default?dt({},this.props.default):void 0;delete D.default;var Z=r||i?{cursor:"auto"}:{cursor:"move"},X=dt(dt(dt({},Wx),Z),s),q=this.offsetFromParent,M=q.left,j=q.top,oe;o&&(oe={x:o.x-M,y:o.y-j});var k=this.state.resizing?void 0:oe,V=this.state.resizing?"both":d;return x.createElement(Hx,{ref:function(G){G&&(A.draggable=G)},handle:i?".".concat(i):void 0,defaultPosition:P,onMouseDown:a,onMouseUp:l,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:V,disabled:r,grid:c,bounds:u?this.state.bounds:void 0,position:k,enableUserSelectHack:p,cancel:w,scale:Q,allowAnyClick:F,nodeRef:this.resizableElement,positionOffset:N},x.createElement(Gx,dt({},D,{ref:function(G){G&&(A.resizable=G,A.resizableElement.current=G.resizable)},defaultSize:P,size:this.props.size,enable:typeof g=="boolean"?Xx(g):g,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:X,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:v,handleWrapperClass:E,handleWrapperStyle:y,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:I,handleClasses:B,handleComponent:h,scale:this.props.scale}),m))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(x.PureComponent);const VB="RefBoard",_c="application/vnd.google-apps.folder",sg="application/json";function Ui(){return localStorage.getItem("google_access_token")}async function Lt(t,e={}){const A=Ui();if(!A)throw new Error("No access token available");const n=await fetch(`https://www.googleapis.com/drive/v3/${t}`,{...e,headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json",...e.headers}});if(!n.ok)throw n.status===401?(localStorage.removeItem("google_access_token"),window.dispatchEvent(new Event("google_auth_error")),new Error("Drive API unauthorized: Token expired")):new Error(`Drive API error: ${n.statusText}`);return n.status===204?null:n.json()}async function ig(){const t=`name='${VB}' and mimeType='${_c}' and trashed=false`,e=await Lt(`files?q=${encodeURIComponent(t)}&fields=files(id,name)`);return e.files&&e.files.length>0?e.files[0].id:(await Lt("files",{method:"POST",body:JSON.stringify({name:VB,mimeType:_c})})).id}async function GB(t,e,A,n){const r=await ig(),s={name:e,mimeType:sg,parents:A?void 0:[r]};n&&(s.contentHints={thumbnail:{image:n.replace(/^data:image\/(png|jpeg|jpg);base64,/,""),mimeType:"image/png"}});const i="-------314159265358979323846",o=`\r
--${i}\r
`,a=`\r
--${i}--`,l=o+`Content-Type: application/json; charset=UTF-8\r
\r
`+JSON.stringify(s)+o+`Content-Type: application/json\r
\r
`+JSON.stringify(t)+a,d=Ui();if(!d)throw new Error("No access token");const c=A?`https://www.googleapis.com/upload/drive/v3/files/${A}?uploadType=multipart`:"https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",u=await fetch(c,{method:A?"PATCH":"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":`multipart/related; boundary=${i}`},body:l});if(!u.ok)throw new Error(`Failed to save: ${u.statusText}`);return(await u.json()).id}async function Yx(t){const e=Ui();if(!e)throw new Error("No access token");const A=await fetch(`https://www.googleapis.com/drive/v3/files/${t}?alt=media`,{headers:{Authorization:`Bearer ${e}`}});if(!A.ok)throw new Error(`Failed to load: ${A.statusText}`);return A.json()}async function $x(){const e=`'${await ig()}' in parents and mimeType='${sg}' and trashed=false`;return((await Lt(`files?q=${encodeURIComponent(e)}&fields=files(id,name,modifiedTime,thumbnailLink)&orderBy=modifiedTime desc`)).files||[]).map(n=>({...n,thumbnail:n.thumbnailLink}))}async function Jx(t){await Lt(`files/${t}`,{method:"DELETE"})}async function Zx(t){try{await Lt(`files/${t}`,{method:"DELETE"}),console.log("Image deleted from Drive:",t)}catch(e){throw console.error("Failed to delete image from Drive:",e),e}}async function bC(t,e,A){const n={type:"user",role:A,emailAddress:e};await Lt(`files/${t}/permissions?sendNotificationEmail=true`,{method:"POST",body:JSON.stringify(n)})}async function qx(t){return(await Lt(`files/${t}/permissions?fields=permissions(id,emailAddress,displayName,role,type)`)).permissions||[]}async function eS(t,e){await Lt(`files/${t}/permissions/${e}`,{method:"DELETE"})}async function tS(){const t=`sharedWithMe=true and mimeType='${sg}' and trashed=false`;return((await Lt(`files?q=${encodeURIComponent(t)}&fields=files(id,name,modifiedTime,thumbnailLink,owners(displayName,emailAddress))&orderBy=modifiedTime desc`)).files||[]).map(A=>({...A,thumbnail:A.thumbnailLink}))}async function TC(){const t=await ig(),e=`name='Images' and mimeType='${_c}' and '${t}' in parents and trashed=false`,A=await Lt(`files?q=${encodeURIComponent(e)}&fields=files(id,name)`);return A.files&&A.files.length>0?A.files[0].id:(await Lt("files",{method:"POST",body:JSON.stringify({name:"Images",mimeType:_c,parents:[t]})})).id}async function Fc(t,e){try{const A=`name='${e}' and '${t}' in parents and trashed=false`,n=await Lt(`files?q=${encodeURIComponent(A)}&fields=files(id,name)`);return n.files&&n.files.length>0?n.files[0].id:null}catch(A){return console.error("Failed to find file:",A),null}}async function DC(t,e){const A=e.split(".").pop()||"",n=e.replace(`.${A}`,"");if(!await Fc(t,e))return e;let s=1,i;do{if(i=`${n}_copy${s.toString().padStart(2,"0")}.${A}`,!await Fc(t,i))return i;s++}while(s<1e3);return`${n}_copy${Date.now()}.${A}`}async function jB(t,e,A=!1,n=!1){var v;const r=await TC(),s=Ui();if(!s)throw new Error("No access token");let i=e;A||(i=await DC(r,e));const o=A?await Fc(r,i):null;let a,l;if(t instanceof File){a=t.type||(n?"video/mp4":"image/png");const E=await t.arrayBuffer();l=new Uint8Array(E)}else{if(a="image/png",t.startsWith("data:")){const F=t.match(/data:([^;]+)/);F&&(a=F[1])}else{const F=(v=e.split(".").pop())==null?void 0:v.toLowerCase();F==="jpg"||F==="jpeg"?a="image/jpeg":F==="gif"?a="image/gif":F==="webp"?a="image/webp":F==="mp4"?a="video/mp4":F==="webm"?a="video/webm":F==="mov"&&(a="video/quicktime")}let E;t.startsWith("data:")?E=t.split(",")[1]:E=t;const y=atob(E),Q=new Array(y.length);for(let F=0;F<y.length;F++)Q[F]=y.charCodeAt(F);l=new Uint8Array(Q)}const d="-------314159265358979323846",c=`\r
--${d}\r
`,u=`\r
--${d}--`,p={name:i,mimeType:a};o||(p.parents=[r]);const w=JSON.stringify(p),m=new TextEncoder,I=[];I.push(m.encode(c)),I.push(m.encode(`Content-Type: application/json; charset=UTF-8\r
\r
`)),I.push(m.encode(w)),I.push(m.encode(c)),I.push(m.encode(`Content-Type: ${a}\r
\r
`)),I.push(l),I.push(m.encode(u));let B=0;for(const E of I)B+=E.length;const h=new Uint8Array(B);let g=0;for(const E of I)h.set(E,g),g+=E.length;try{if(o){const E=await fetch(`https://www.googleapis.com/upload/drive/v3/files/${o}?uploadType=multipart`,{method:"PATCH",headers:{Authorization:`Bearer ${s}`,"Content-Type":`multipart/related; boundary=${d}`,"Content-Length":B.toString()},body:h});if(!E.ok){const Q=await E.text();let F;try{F=JSON.parse(Q)}catch{F={message:Q}}throw new Error(`Failed to update media: ${JSON.stringify(F)}`)}const y=await E.json();if(!y.id||y.id.trim()==="")throw new Error(`Update succeeded but no file ID returned: ${JSON.stringify(y)}`);console.log("Media updated successfully, file ID:",y.id);try{await Lt(`files/${y.id}/permissions`,{method:"POST",body:JSON.stringify({role:"reader",type:"anyone"})}),console.log("Refreshed public read permission for file:",y.id)}catch(Q){console.warn("Note: Failed to refresh permission for file (might already exist):",y.id,Q)}return y.id}else{const E=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":`multipart/related; boundary=${d}`,"Content-Length":B.toString()},body:h});if(!E.ok){const Q=await E.text();let F;try{F=JSON.parse(Q)}catch{F={message:Q}}throw new Error(`Failed to upload media: ${JSON.stringify(F)}`)}const y=await E.json();if(!y.id)throw new Error(`Upload succeeded but no file ID returned: ${JSON.stringify(y)}`);console.log("Media uploaded successfully, file ID:",y.id);try{await Lt(`files/${y.id}/permissions`,{method:"POST",body:JSON.stringify({role:"reader",type:"anyone"})}),console.log("Set public read permission for file:",y.id)}catch(Q){console.warn("Failed to set public permission for file:",y.id,Q)}return y.id}}catch(E){throw console.error("Error uploading/updating media in Drive:",E),E}}async function bs(t,e,A=!1){var N;const n=await TC(),r=Ui();if(!r)throw new Error("No access token");let s=e;A||(s=await DC(n,e));const i=A?await Fc(n,s):null;let o="image/png";if(t.startsWith("data:")){const D=t.match(/data:([^;]+)/);D&&(o=D[1])}else{const D=(N=e.split(".").pop())==null?void 0:N.toLowerCase();D==="jpg"||D==="jpeg"?o="image/jpeg":D==="gif"?o="image/gif":D==="webp"&&(o="image/webp")}let a;t.startsWith("data:")?a=t.split(",")[1]:a=t;const l=atob(a),d=new Array(l.length);for(let D=0;D<l.length;D++)d[D]=l.charCodeAt(D);const c=new Uint8Array(d),u="-------314159265358979323846",p=`\r
--${u}\r
`,w=`\r
--${u}--`,m={name:s,mimeType:o};i||(m.parents=[n]);const I=JSON.stringify(m),B=new TextEncoder,h=[];h.push(B.encode(p)),h.push(B.encode(`Content-Type: application/json; charset=UTF-8\r
\r
`)),h.push(B.encode(I)),h.push(B.encode(p)),h.push(B.encode(`Content-Type: ${o}\r
\r
`)),h.push(c),h.push(B.encode(w));let g=0;for(const D of h)g+=D.length;const v=new Uint8Array(g);let E=0;for(const D of h)v.set(D,E),E+=D.length;const y=i?`https://www.googleapis.com/upload/drive/v3/files/${i}?uploadType=multipart`:"https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",Q=await fetch(y,{method:i?"PATCH":"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":`multipart/related; boundary=${u}`},body:v});if(!Q.ok){const D=await Q.text();throw new Error(`Failed to ${i?"update":"upload"} image: ${Q.statusText} - ${D}`)}const F=await Q.json();try{await Lt(`files/${F.id}/permissions`,{method:"POST",body:JSON.stringify({role:"reader",type:"anyone"})}),console.log("Set public read permission for image:",F.id)}catch(D){console.warn("Failed to set public permission for image:",F.id,D)}return F.id}async function zB(t,e){return bs(t,e)}async function AS(t,e=!1){const A=Ui();if(!A)throw new Error("No access token");try{const n=e?`https://www.googleapis.com/drive/v3/files/${t}?alt=media&t=${Date.now()}`:`https://www.googleapis.com/drive/v3/files/${t}?alt=media`,r=await fetch(n,{headers:{Authorization:`Bearer ${A}`},cache:e?"no-cache":"default"});if(!r.ok){if(r.status===403)throw new Error(`Media is not accessible (403 Forbidden). File ID: ${t}. Please ask the board owner to share the media files.`);if(r.status===404)throw new Error(`Media file not found (404 Not Found). File ID: ${t}. The file may have been deleted, the ID is incorrect, or you do not have permission to view it.`);const i=await r.text().catch(()=>"Unknown error");throw new Error(`Failed to load media (${r.status}): ${r.statusText}. File ID: ${t}. Error: ${i}`)}const s=await r.blob();return URL.createObjectURL(s)}catch(n){throw console.error("Error loading media from Drive:",n),n}}async function NC(t,e=!1){return AS(t,e)}async function nS(t,e,A){await bC(t,e,A)}async function rS(t,e,A){await Promise.all(t.map(n=>nS(n,e,A)))}async function sS(t){let e=0,A=0;const n=5;for(let r=0;r<t.length;r+=n){const s=t.slice(r,r+n);await Promise.all(s.map(async i=>{try{await Lt(`files/${i}/permissions`,{method:"POST",body:JSON.stringify({role:"reader",type:"anyone"})}),e++}catch(o){console.warn(`Failed to fix permission for file ${i}:`,o),A++}}))}return{success:e,failed:A}}const iS=({item:t,isSelected:e,onUpdate:A,onDragStop:n,onDragStart:r,onDrag:s,onSelect:i,onGroup:o,activeTool:a="select",canGroup:l,isCtrlPressed:d,onDoubleClick:c,onRefreshPSD:u})=>{var ZA;const[p,w]=x.useState({visible:!1,x:0,y:0}),[m,I]=x.useState(!1),[B,h]=x.useState(!1),[g,v]=x.useState(!1),[E,y]=x.useState(null),[Q,F]=x.useState(null),[N,D]=x.useState(!1),[P,Z]=x.useState(null),X=x.useRef(null),q=x.useRef(null),M=x.useRef(null),{scale:j,isSelecting:oe}=eg(),k=x.useRef(t),V=x.useRef(A);x.useEffect(()=>{k.current=t,V.current=A},[t,A]),x.useEffect(()=>{let z=!1;if(t.driveFileId&&(t.type==="image"||t.type==="video")){D(!0);const we=!t.src||(t.src?t.src.startsWith("blob:"):!1);NC(t.driveFileId,we).then(le=>{z||(F(le),D(!1))}).catch(le=>{if(!z){const se=le instanceof Error?le.message:String(le);console.error("Failed to load media from Drive:",{itemId:t.id,fileName:t.fileName,type:t.type,driveFileId:t.driveFileId,error:se}),D(!1),Z(se),t.src&&t.src.startsWith("blob:"),F(null)}})}else t.src&&t.src&&t.src.startsWith("blob:")?(console.warn("Ignoring blob URL for item without driveFileId:",t.id,t.fileName),F(null),D(!1)):(F(null),D(!1));return()=>{z=!0}},[t.driveFileId,t.src,t.type]),x.useEffect(()=>{h(!1)},[t.src,Q]),x.useEffect(()=>()=>{M.current&&(clearInterval(M.current),M.current=null)},[]),x.useEffect(()=>{if(B)return;const we=setTimeout(()=>{let le,se;if(t.type==="image"&&X.current){if(!X.current.complete)return;le=X.current.naturalWidth,se=X.current.naturalHeight}else if(t.type==="video"&&q.current){if(q.current.readyState<2)return;le=q.current.videoWidth,se=q.current.videoHeight}else return;if(le>0&&se>0){const Rt=le/se,be=t.width/t.height;if(Math.abs(Rt-be)>.01){const Hr=t.width/Rt;A(t.id,{height:Hr}),h(!0)}else h(!0)}},0);return()=>clearTimeout(we)},[t,B,A]);const G=z=>{z.preventDefault(),z.stopPropagation(),w({visible:!0,x:z.clientX,y:z.clientY})},te=()=>{w({visible:!1,x:0,y:0})},ae=()=>{A(t.id,{flipHorizontal:!t.flipHorizontal}),te()},$e=()=>{A(t.id,{flipVertical:!t.flipVertical}),te()},ee=z=>{z.stopPropagation(),o&&o(),te()},Oe=x.useRef(z=>{const we=k.current,le=z.movementX;let se=(we.rotation||0)+le*.5;z.shiftKey&&(se=Math.round(se/22.5)*22.5),V.current(we.id,{rotation:se})}).current,Ue=x.useRef(()=>{I(!1),window.removeEventListener("mousemove",Oe),window.removeEventListener("mouseup",Ue),document.body.style.cursor=""}).current,Ie=z=>{d&&(z.stopPropagation(),z.preventDefault(),I(!0),window.addEventListener("mousemove",Oe),window.addEventListener("mouseup",Ue),document.body.style.cursor="ew-resize")},DA=`
        scaleX(${t.flipHorizontal?-1:1})
        scaleY(${t.flipVertical?-1:1})
    `;return f.jsxs(f.Fragment,{children:[f.jsx(rg,{size:{width:t.width,height:t.height},position:{x:t.x,y:t.y},scale:j,onDrag:(z,we)=>{s&&s(t.id,{x:we.x,y:we.y})},onDragStop:(z,we)=>{n?n(t.id,we.x,we.y):A(t.id,{x:we.x,y:we.y})},onResizeStart:z=>{if(z.button===1)return!1},onResizeStop:(z,we,le,se,Rt)=>{A(t.id,{width:parseInt(le.style.width),height:parseInt(le.style.height),...Rt})},onMouseDown:z=>{const we=z.button===1&&z.altKey,le=z.button===2&&z.altKey,se=z.button===2&&!z.altKey&&!z.ctrlKey&&!z.shiftKey;if(!(we||le||se)){if(a==="pen"||a==="eraser"){z.stopPropagation(),z.preventDefault();return}d?Ie(z):z.stopPropagation()}},onDragStart:()=>{a==="pen"||a==="eraser"||(e||i(t.id,d),r&&r(t.id))},lockAspectRatio:!0,className:`absolute select-none ${a==="pen"||a==="eraser"?"pointer-events-none":""}`,style:{zIndex:t.zIndex,cursor:d?"ew-resize":"move"},onContextMenu:G,disableDragging:m||d||a==="pen"||a==="eraser","data-item-id":t.id,children:f.jsx("div",{className:"w-full h-full relative","data-item-id":t.id,onDoubleClick:z=>{z.stopPropagation(),c&&a==="select"&&c(t.id)},children:f.jsxs("div",{className:`w-full h-full relative overflow-hidden rounded shadow-sm select-none ${e&&!oe?"ring-2 ring-blue-500":""}`,style:{transform:`rotate(${t.rotation||0}deg)`},children:[N&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/50 backdrop-blur-sm z-10",children:f.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}),P&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-900/80 p-4 z-10 text-center pointer-events-auto",onClick:z=>z.stopPropagation(),children:[f.jsx("span",{className:"text-red-500 text-2xl mb-2",children:""}),f.jsx("p",{className:"text-red-400 text-sm font-medium mb-1",children:"Media Load Failed"}),f.jsx("p",{className:"text-gray-400 text-xs break-all line-clamp-3",title:P,children:P})]}),t.type==="image"&&((ZA=t.fileName)==null?void 0:ZA.toLowerCase().endsWith(".psd"))&&t.originalFilePath&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:async z=>{var le,se,Rt;z.stopPropagation();const we=t.originalFilePath;if(we&&((le=window.electronAPI)!=null&&le.openInPhotoshop)){if(await window.electronAPI.openInPhotoshop(we),(se=window.electronAPI)!=null&&se.watchPSDFile)try{await window.electronAPI.watchPSDFile(we),console.log("Started watching PSD file:",we)}catch(be){console.error("Failed to watch PSD file:",be)}if((Rt=window.electronAPI)!=null&&Rt.checkPSDFileModified){v(!0);try{const be=await window.electronAPI.checkPSDFileModified(we);be.success&&be.modifiedTime&&y(be.modifiedTime)}catch(be){console.error("Failed to get initial file stats:",be)}M.current&&clearInterval(M.current),M.current=setInterval(async()=>{try{const be=await window.electronAPI.checkPSDFileModified(we);be.success&&be.modifiedTime&&(E&&be.modifiedTime>E?(console.log("PSD file changed detected via polling"),u&&u(t.id),y(be.modifiedTime)):E||y(be.modifiedTime))}catch(be){console.error("Polling error:",be)}},2e3)}}else console.warn("PSD file path not available:",t.fileName,t.originalFilePath)},className:"absolute top-2 right-2 z-[100] bg-blue-600 hover:bg-blue-700 text-white rounded-full w-8 h-8 flex items-center justify-center shadow-lg transition-colors pointer-events-auto",style:{zIndex:1e4},title:"Open in Photoshop",children:f.jsx("span",{className:"text-xs font-bold",children:"PS"})}),f.jsx("button",{onClick:async z=>{z.stopPropagation(),u&&u(t.id)},className:"absolute top-2 right-12 z-[100] bg-green-600 hover:bg-green-700 text-white rounded-full w-8 h-8 flex items-center justify-center shadow-lg transition-colors pointer-events-auto",style:{zIndex:1e4},title:" (   )",children:f.jsx("span",{className:"text-xs",children:""})}),g&&f.jsx("div",{className:"absolute top-2 right-24 z-[100] bg-yellow-600 rounded-full w-2 h-2 animate-pulse pointer-events-none",style:{zIndex:1e4},title:"  ..."})]}),t.type==="image"?f.jsxs(f.Fragment,{children:[N&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/50",children:f.jsx("div",{className:"text-white text-sm",children:" ..."})}),f.jsx("img",{ref:X,src:t.driveFileId?Q||t.src:t.src&&!t.src.startsWith("blob:")?t.src:void 0,alt:t.fileName||"ref",className:"w-full h-full object-contain pointer-events-none",style:{transform:DA,opacity:N?.5:1},onLoad:()=>{if(!B&&X.current){const z=X.current.naturalWidth,we=X.current.naturalHeight;if(z>0&&we>0){const le=z/we,se=t.width/t.height;if(Math.abs(le-se)>.01){const Rt=t.width/le;A(t.id,{height:Rt}),h(!0)}else h(!0)}}},onError:()=>{t.fileName&&console.warn("Failed to load image:",t.fileName)}})]}):f.jsx("video",{ref:q,src:t.driveFileId?Q||t.src:t.src&&!t.src.startsWith("blob:")?t.src:void 0,className:"w-full h-full object-contain pointer-events-none",style:{transform:DA},autoPlay:!0,loop:!0,muted:!0,onLoadedMetadata:()=>{if(!B&&q.current){const z=q.current.videoWidth,we=q.current.videoHeight;if(z>0&&we>0){const le=z/we,se=t.width/t.height;if(Math.abs(le-se)>.01){const Rt=t.width/le;A(t.id,{height:Rt}),h(!0)}else h(!0)}}}}),e&&d&&f.jsxs(f.Fragment,{children:[f.jsx(nl,{position:"top-left",onMouseDown:Ie}),f.jsx(nl,{position:"top-right",onMouseDown:Ie}),f.jsx(nl,{position:"bottom-left",onMouseDown:Ie}),f.jsx(nl,{position:"bottom-right",onMouseDown:Ie})]}),e&&f.jsx("div",{onMouseDown:Ie,className:`absolute -top-8 left-1/2 -translate-x-1/2 w-6 h-6 rounded-full cursor-ew-resize flex items-center justify-center text-white text-xs shadow-lg transition-all ${d?"bg-blue-500 opacity-100 scale-110":"bg-gray-500 opacity-50"}`,title:d?"Drag Left/Right to rotate (Shift for 22.5 snap)":"Hold Ctrl to rotate",children:""})]})})}),p.visible&&Ln.createPortal(f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:te,onContextMenu:z=>z.preventDefault()}),f.jsxs("div",{className:"fixed bg-gray-800 border border-gray-700 rounded shadow-lg py-1 z-[9999] min-w-[160px]",style:{left:p.x,top:p.y},children:[l&&f.jsxs("button",{onClick:ee,className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-gray-700 flex items-center justify-between gap-2 border-b border-gray-700",children:[f.jsx("span",{children:"Group"}),f.jsx("span",{className:"text-xs text-gray-400",children:"Ctrl+G"})]}),f.jsx("button",{onClick:ae,className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-gray-700 flex items-center justify-between gap-2",children:f.jsx("span",{children:" Flip Horizontal"})}),f.jsx("button",{onClick:$e,className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-gray-700 flex items-center justify-between gap-2",children:f.jsx("span",{children:" Flip Vertical"})})]})]}),document.body)]})},nl=({position:t,onMouseDown:e})=>{const A=()=>{switch(t){case"top-left":return"-top-2 -left-2";case"top-right":return"-top-2 -right-2";case"bottom-left":return"-bottom-2 -left-2";case"bottom-right":return"-bottom-2 -right-2"}};return f.jsx("div",{className:`absolute w-8 h-8 bg-blue-500 rounded-full cursor-ew-resize flex items-center justify-center text-white text-lg font-bold shadow-lg border-2 border-white animate-pulse ${A()}`,onMouseDown:e,title:"Drag Left/Right to rotate (Shift for 22.5 snap)",children:""})},oS=({group:t,isSelected:e,onUpdate:A,onDrag:n,onDragStart:r,onSelect:s,onNameChange:i,onFormatMenuOpen:o,onUngroup:a,activeTool:l="select"})=>{const[d,c]=x.useState(!1),[u,p]=x.useState(t.name),w=Lo.useRef(null),m=Lo.useRef(null),{scale:I}=eg(),B=g=>{g.stopPropagation(),c(!0),o&&o(t.id)},h=g=>{g.stopPropagation(),s(t.id)};return f.jsxs(rg,{size:{width:t.width,height:t.height},position:{x:t.x,y:t.y},scale:I,enableResizing:l!=="pen"&&l!=="eraser",onDragStart:()=>{if(l==="pen"||l==="eraser")return!1;r&&r(t.id)},onDrag:(g,v)=>{if(l==="pen"||l==="eraser")return!1;n&&n(t.id,{x:v.x,y:v.y})},onDragStop:(g,v)=>{if(l==="pen"||l==="eraser")return!1;A(t.id,{x:v.x,y:v.y})},onResizeStop:(g,v,E,y,Q)=>{A(t.id,{width:parseInt(E.style.width),height:parseInt(E.style.height),...Q})},onMouseDown:g=>{var Q;if(l==="pen"||l==="eraser"){g.stopPropagation(),g.preventDefault();return}const v=g.button===1&&g.altKey,E=g.button===2&&g.altKey,y=g.button===2&&!g.altKey&&!g.ctrlKey&&!g.shiftKey;v||E||y||(Q=m.current)!=null&&Q.contains(g.target)||(g.stopPropagation(),s(t.id))},className:`absolute ${e?"ring-4 ring-yellow-400/50":"ring-2 ring-gray-500/30"}`,style:{zIndex:0},"data-item-id":t.id,children:[f.jsx("div",{ref:m,className:"absolute -top-8 left-0 w-full h-8 bg-gray-800 border-2 border-gray-600 rounded-t-lg pointer-events-none flex items-center px-2",style:{borderBottom:"none",zIndex:1e3},children:f.jsx("div",{ref:w,className:"flex-1 text-white text-xs font-medium cursor-pointer pointer-events-auto",onClick:g=>{g.stopPropagation(),h(g)},onMouseDown:g=>{g.stopPropagation()},onDoubleClick:B,style:{fontSize:`${t.fontSize||12}px`,color:t.color||"#ffffff",fontFamily:t.fontFamily||"Inter, sans-serif"},children:d?f.jsx("input",{type:"text",value:u,onChange:g=>p(g.target.value),onBlur:()=>{c(!1),i(t.id,u)},onKeyDown:g=>{g.stopPropagation(),g.key==="Enter"?(c(!1),i(t.id,u)):g.key==="Escape"&&(c(!1),p(t.name))},onClick:g=>{g.stopPropagation()},autoFocus:!0,className:"bg-gray-700 px-1 outline-none w-full",style:{fontSize:`${t.fontSize||12}px`,color:t.color||"#ffffff",fontFamily:t.fontFamily||"Inter, sans-serif"}}):t.name})}),f.jsx("div",{className:"w-full h-full border-2 border-dashed border-gray-500/50 rounded-b-lg pointer-events-none",style:{backgroundColor:t.backgroundColor||"transparent",borderTop:"none"}}),e&&f.jsxs("div",{className:"absolute -top-16 left-1/2 flex items-center gap-2 bg-gray-800 rounded-full shadow-xl border border-gray-600 px-3 py-1.5 z-[10002]",style:{transform:`translateX(-50%) scale(${1/I})`,transformOrigin:"bottom center",pointerEvents:"auto"},onMouseDown:g=>g.stopPropagation(),onClick:g=>g.stopPropagation(),children:[f.jsxs("div",{className:"relative group/color w-5 h-5 cursor-pointer hover:scale-110 transition-transform",title:" ",children:[f.jsx("div",{className:"w-full h-full rounded-full border border-gray-400 shadow-sm",style:{backgroundColor:t.backgroundColor||"#374151"}}),f.jsx("input",{type:"color",value:t.backgroundColor||"#000000",onChange:g=>A(t.id,{backgroundColor:g.target.value}),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]}),f.jsx("div",{className:"w-px h-4 bg-gray-600"}),f.jsx("button",{onClick:g=>{g.stopPropagation(),a&&a(t.id)},className:"text-gray-300 hover:text-red-400 transition-colors flex items-center justify-center p-0.5",title:" ",children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"3 6 5 6 21 6"}),f.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]})},aS=({item:t,isSelected:e,onUpdate:A,onDragStop:n,onSelect:r,onGroup:s,activeTool:i="select",canGroup:o,isCtrlPressed:a,isNewlyCreated:l=!1,onEditStart:d,onFormatMenuOpen:c})=>{const[u,p]=x.useState(!1),[w,m]=x.useState(t.content),[I,B]=x.useState({visible:!1,x:0,y:0}),[h,g]=x.useState(!1),[v,E]=x.useState(null),y=x.useRef(null),Q=x.useRef(null),F=x.useRef(0),{scale:N}=eg();x.useEffect(()=>{u&&y.current&&(y.current.textContent!==t.content&&(y.current.textContent=t.content),setTimeout(()=>{var M,j,oe;if(y.current){y.current.focus();const k=document.createRange(),V=window.getSelection();let G=y.current,te=0;if(y.current.childNodes.length>0){let ae=y.current.childNodes[y.current.childNodes.length-1];ae.nodeType===Node.TEXT_NODE?(G=ae,te=((M=ae.textContent)==null?void 0:M.length)||0):(G=y.current,te=((j=y.current.textContent)==null?void 0:j.length)||0)}else te=((oe=y.current.textContent)==null?void 0:oe.length)||0;k.setStart(G,te),k.setEnd(G,te),V==null||V.removeAllRanges(),V==null||V.addRange(k)}},0))},[u]),x.useEffect(()=>{l&&y.current&&(p(!0),d&&d(t.id))},[l,t.id,d]);const D=M=>{M.stopPropagation(),M.preventDefault(),Q.current&&(clearTimeout(Q.current),Q.current=null),p(!0),m(t.content),c&&c(t.id)},P=M=>{M.preventDefault(),M.stopPropagation(),u&&B({visible:!0,x:M.clientX,y:M.clientY})},Z=()=>{B({visible:!1,x:0,y:0})},X=M=>{M.stopPropagation(),s&&s(),Z()},q=()=>{p(!1);const M=w.trim()===""?"Text":w;m(M),A(t.id,{content:M})};return x.useEffect(()=>{if(y.current&&!h){y.current.style.height="auto",y.current.style.width="auto";const M=y.current.scrollWidth+20,j=y.current.scrollHeight+10;(M!==t.width||j!==t.height)&&A(t.id,{width:M,height:j})}},[t.content,t.fontSize,t.fontFamily,h]),x.useEffect(()=>()=>{Q.current&&clearTimeout(Q.current)},[]),f.jsxs(f.Fragment,{children:[f.jsx(rg,{size:{width:t.width,height:t.height},position:{x:t.x,y:t.y},scale:N,onDragStop:(M,j)=>{n?n(t.id,j.x,j.y):A(t.id,{x:j.x,y:j.y})},enableResizing:!u&&i!=="pen"&&i!=="eraser",minWidth:50,minHeight:30,onResizeStart:()=>{g(!0),E({width:t.width,height:t.height,fontSize:t.fontSize,letterSpacing:t.letterSpacing||0})},onResizeStop:(M,j,oe,k,V)=>{const G=parseInt(oe.style.width),te=parseInt(oe.style.height);if(v){const ae=G/v.width,$e=te/v.height,ee=Math.abs(ae-1)>.05&&Math.abs($e-1)<.05;let Oe={width:G,height:te,...V};if(ee){const Ue=G-v.width,Ie=t.content.length||1,DA=Ue/Ie,ZA=(v.letterSpacing||0)+DA;Oe.letterSpacing=Math.max(0,ZA)}else{const Ue=(ae+$e)/2,Ie=Math.max(8,Math.round(v.fontSize*Ue));Oe.fontSize=Ie}A(t.id,Oe)}else A(t.id,{width:G,height:te,...V});g(!1),E(null)},onMouseDown:M=>{if(i==="pen"||i==="eraser"){M.stopPropagation(),M.preventDefault();return}if(M.stopPropagation(),!u){r(t.id,a);const j=Date.now();j-F.current<300&&M.button===0?(Q.current&&(clearTimeout(Q.current),Q.current=null),p(!0),m(t.content),c&&c(t.id),F.current=0):M.button===0&&(F.current=j,Q.current&&(clearTimeout(Q.current),Q.current=null))}},className:`absolute ${e?"ring-2 ring-blue-500":""} ${i==="pen"||i==="eraser"?"pointer-events-none":""}`,style:{zIndex:t.zIndex},disableDragging:u||i==="pen"||i==="eraser","data-item-id":t.id,children:f.jsx("div",{ref:y,contentEditable:u,suppressContentEditableWarning:!0,onDoubleClick:M=>{M.stopPropagation(),M.preventDefault(),D(M)},onClick:M=>{u&&M.stopPropagation()},onContextMenu:M=>{M.stopPropagation(),P(M)},onBlur:q,onInput:M=>{m(M.currentTarget.textContent||"")},onKeyDown:M=>{var j;(M.ctrlKey||M.metaKey)&&["c","v","a","x","C","V","A","X"].includes(M.key)||((M.key==="Delete"||M.key==="Backspace")&&M.stopPropagation(),M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),(j=y.current)==null||j.blur()))},className:`w-full h-full p-2 outline-none ${u?"bg-white/10":""}`,style:{fontSize:`${t.fontSize}px`,color:t.color,fontFamily:t.fontFamily,letterSpacing:t.letterSpacing?`${t.letterSpacing}px`:"normal",cursor:u?"text":"move",whiteSpace:"pre",overflow:"hidden",userSelect:u?"text":"none"},children:!u&&t.content})}),I.visible&&Ln.createPortal(f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:Z,onContextMenu:M=>M.preventDefault()}),f.jsxs("div",{className:"fixed bg-gray-800 border border-gray-700 rounded shadow-lg py-1 z-[9999] min-w-[160px]",style:{left:I.x,top:I.y},children:[o&&f.jsxs("button",{onClick:X,className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-gray-700 flex items-center justify-between gap-2",children:[f.jsx("span",{children:"Group"}),f.jsx("span",{className:"text-xs text-gray-400",children:"Ctrl+G"})]}),!o&&f.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 italic",children:"Select 2+ items to group"})]})]}),document.body)]})},lS=({arrow:t,getItemPosition:e,isSelected:A=!1,onSelect:n,items:r})=>{const s=x.useMemo(()=>e(t.sourceId),[e,t.sourceId,r]),i=x.useMemo(()=>e(t.targetId),[e,t.targetId,r]);if(!s||!i)return null;const o=s.x+s.width,a=s.y+s.height/2,l=i.x,d=i.y+i.height/2,c=Math.abs(l-o),u=Math.max(c*.5,50),p=o+u,w=a,m=l-u,I=d,B=`M ${o} ${a} C ${p} ${w}, ${m} ${I}, ${l} ${d}`,h=`M ${o} ${a} C ${p} ${w}, ${m} ${I}, ${l} ${d}`,g=v=>{v.stopPropagation(),n&&n(t.id)};return f.jsxs("g",{children:[f.jsx("defs",{children:f.jsx("marker",{id:`arrowhead-${t.id}`,markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:f.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:t.color})})}),f.jsx("path",{d:h,stroke:"transparent",strokeWidth:Math.max(t.strokeWidth*3,10),fill:"none",onClick:g,style:{cursor:"pointer"}}),f.jsx("path",{d:B,stroke:A?"#60a5fa":t.color,strokeWidth:A?t.strokeWidth+1:t.strokeWidth,fill:"none",markerEnd:`url(#arrowhead-${t.id})`,onClick:g,style:{cursor:"pointer",pointerEvents:"none"}})]})},cS=({onBackToList:t,onShare:e,onSave:A,opacity:n,onOpacityChange:r,isAlwaysOnTop:s,onToggleAlwaysOnTop:i})=>f.jsxs("div",{className:"absolute top-6 left-6 z-50 flex gap-4 items-center select-none",children:[f.jsxs("div",{className:"flex items-center gap-1 bg-black/40 backdrop-blur-xl rounded-2xl p-2 shadow-2xl border border-white/10 ring-1 ring-white/5",children:[t&&f.jsxs("button",{onClick:t,className:"px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 text-gray-300 hover:text-white hover:bg-white/10 hover:shadow-lg hover:-translate-y-0.5 flex items-center gap-2",title:"Back to List",children:[f.jsx("span",{children:""})," ",f.jsx("span",{className:"hidden sm:inline",children:"List"})]}),e&&f.jsxs("button",{onClick:e,className:"px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 text-gray-300 hover:text-white hover:bg-blue-600/20 hover:text-blue-200 hover:shadow-lg hover:-translate-y-0.5 flex items-center gap-2",title:"Share Board",children:[f.jsx("span",{children:""})," ",f.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),A&&f.jsxs("button",{onClick:A,className:"px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 text-gray-300 hover:text-white hover:bg-green-600/20 hover:text-green-200 hover:shadow-lg hover:-translate-y-0.5 flex items-center gap-2",title:"Save (Ctrl+S)",children:[f.jsx("span",{children:""})," ",f.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),f.jsxs("button",{onClick:i,className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 flex items-center gap-2 ${s?"bg-blue-600/90 text-white shadow-[0_0_15px_rgba(37,99,235,0.4)] ring-1 ring-blue-400/50":"text-gray-300 hover:text-white hover:bg-white/10 hover:shadow-lg hover:-translate-y-0.5"}`,title:"Toggle Always on Top",children:[f.jsx("span",{children:""})," ",f.jsx("span",{className:"hidden sm:inline",children:s?"On Top":"Pin"})]})]}),f.jsxs("div",{className:"flex items-center gap-3 bg-black/40 backdrop-blur-xl rounded-2xl px-4 py-3 shadow-2xl border border-white/10 ring-1 ring-white/5 h-full group transition-all duration-300 hover:bg-black/60",children:[f.jsx("span",{className:"text-xs font-medium text-gray-400 group-hover:text-gray-200 transition-colors uppercase tracking-wider",children:"Opacity"}),f.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.01",value:n,onChange:o=>r(parseFloat(o.target.value)),className:"w-24 h-1.5 bg-gray-700/50 rounded-lg appearance-none cursor-pointer slider hover:h-2 transition-all duration-200",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${n*100}%, #374151 ${n*100}%, #374151 100%)`}}),f.jsxs("span",{className:"text-xs font-mono text-gray-400 w-9 text-right group-hover:text-white transition-colors",children:[Math.round(n*100),"%"]})]})]}),uS=({activeTool:t,onToolChange:e,onSettingsClick:A})=>{const n=[{id:"select",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"})}),label:"Select (V)"},{id:"text",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"4 7 4 4 20 4 20 7"}),f.jsx("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),f.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20"})]}),label:"Text (T)"},{id:"arrow",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),f.jsx("polyline",{points:"12 5 19 12 12 19"})]}),label:"Arrow (A)"},{id:"pen",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),label:"Pen (P)"},{id:"eraser",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M2.5 12.5l7-7 12 12-7 7-12-12z"}),f.jsx("line",{x1:"12",y1:"19",x2:"22",y2:"19"})]}),label:"Eraser (E)"}];return f.jsxs("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 z-50 flex flex-col gap-6 select-none pointer-events-none",children:[f.jsx("div",{className:"flex flex-col gap-3 bg-black/40 backdrop-blur-xl rounded-2xl p-3 shadow-2xl border border-white/10 ring-1 ring-white/5 pointer-events-auto",children:n.map(r=>f.jsxs("button",{onClick:()=>e(r.id),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 group relative ${t===r.id?"bg-blue-600 text-white shadow-[0_0_20px_rgba(37,99,235,0.6)] scale-105 ring-1 ring-blue-400/50":"text-gray-400 hover:text-white hover:bg-white/10 hover:scale-110"}`,title:r.label,children:[r.icon,f.jsx("span",{className:"absolute left-full ml-4 px-2 py-1 bg-gray-900 border border-gray-700 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50",children:r.label})]},r.id))}),f.jsx("div",{className:"flex flex-col gap-1 bg-black/40 backdrop-blur-xl rounded-2xl p-3 shadow-2xl border border-white/10 ring-1 ring-white/5 pointer-events-auto",children:f.jsxs("button",{onClick:A,className:"w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 text-gray-400 hover:text-white hover:bg-white/10 hover:scale-110 hover:rotate-90 group relative",title:"Settings",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"3"}),f.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),f.jsx("span",{className:"absolute left-full ml-4 px-2 py-1 bg-gray-900 border border-gray-700 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50",children:"Settings"})]})})]})},yn=({label:t,value:e,onRecord:A,mode:n})=>{const[r,s]=x.useState(!1),i=x.useRef(null),o=x.useRef(new Set);x.useEffect(()=>{r&&i.current&&i.current.focus()},[r]);const a=c=>{c.preventDefault(),c.stopPropagation();let u=c.key;if(u==="Control"&&(u="Ctrl"),u==="Alt"&&(u="Alt"),u==="Shift"&&(u="Shift"),u===" "&&(u="Space"),u==="Escape"){s(!1),o.current.clear();return}if(o.current.add(u.toUpperCase()),n==="modifier"){let p=u;u==="Control"&&(p="Ctrl"),u==="Alt"&&(p="Alt"),u==="Shift"&&(p="Shift"),A({keys:[p],combo:p}),s(!1),o.current.clear()}else if(n==="shortcut"&&!["CTRL","ALT","SHIFT","META"].includes(u.toUpperCase())){const m=Array.from(o.current).join("+");A({keys:[],combo:m}),s(!1),o.current.clear()}},l=c=>{if(n==="shortcut")return;let u=c.key;u==="Control"&&(u="Ctrl"),u==="Alt"&&(u="Alt"),u==="Shift"&&(u="Shift"),u===" "&&(u="Space"),o.current.delete(u.toUpperCase())},d=c=>{if(n!=="pan"||!r)return;c.preventDefault(),c.stopPropagation();let u="Left";c.button===0?u="Left":c.button===1?u="Middle":c.button===2&&(u="Right");const p=Array.from(o.current).map(w=>w==="CTRL"?"Ctrl":w==="ALT"?"Alt":w==="SHIFT"?"Shift":w);A({keys:p,button:u}),s(!1),o.current.clear()};return f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm text-gray-400 font-medium",children:t}),f.jsx("div",{className:"relative",children:f.jsx("input",{ref:i,type:"text",readOnly:!0,value:r?"":e||"None",placeholder:r?"Press keys...":"",onClick:()=>s(!0),onKeyDown:a,onKeyUp:l,onMouseDown:d,onBlur:()=>{s(!1),o.current.clear()},className:`
                        w-full bg-gray-900 p-3 rounded-lg border cursor-pointer transition-all
                        text-sm font-mono text-white outline-none
                        ${r?"border-blue-500 ring-2 ring-blue-500/20 placeholder-blue-400":"border-gray-700 hover:border-gray-600"}
                    `})})]})},dS=({isOpen:t,onClose:e,settings:A,onSave:n})=>{const[r,s]=x.useState(A);if(x.useEffect(()=>{t&&s(A)},[t,A]),!t)return null;const i=()=>{n(r),e()},o=()=>{const c=r.pan.keys.join(" + "),u=r.pan.button+" Click";return c?`${c} + ${u} Drag`:u+" Drag"},a=()=>{const c=r.zoom.keys.join(" + "),u=r.zoom.button+" Click";return c?`${c} + ${u} Drag`:u+" Drag"},l=()=>{var p,w;const c=((p=r.windowDrag)==null?void 0:p.keys.join(" + "))||"",u=(((w=r.windowDrag)==null?void 0:w.button)||"Right")+" Click";return c?`${c} + ${u} Drag`:u+" Drag"},d=()=>{var p,w;const c=((p=r.opacityDrag)==null?void 0:p.keys.join(" + "))||"",u=(((w=r.opacityDrag)==null?void 0:w.button)||"Right")+" Click";return c?`${c} + ${u} Drag`:u+" Drag"};return f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center",onMouseDown:c=>{c.target===c.currentTarget&&e()},children:f.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-6 w-[400px] shadow-2xl max-h-[80vh] overflow-y-auto custom-scrollbar",children:[f.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Preferences"}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(yn,{label:"Pan Board",value:o(),mode:"pan",onRecord:c=>s(u=>({...u,pan:{keys:c.keys,button:c.button||"Left"}}))}),f.jsx(yn,{label:"Zoom Board (Drag)",value:a(),mode:"pan",onRecord:c=>s(u=>({...u,zoom:{keys:c.keys,button:c.button||"Right"}}))}),f.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[f.jsx("h3",{className:"text-sm font-bold text-gray-300 mb-3",children:"Additional Zoom Controls"}),f.jsx(yn,{label:"Wheel Modifier",value:r.zoomWheelModifier+" + Mouse Wheel",mode:"modifier",onRecord:c=>s(u=>({...u,zoomWheelModifier:c.combo||"None"}))})]}),f.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[f.jsx("h3",{className:"text-sm font-bold text-gray-300 mb-3",children:"Window Management"}),f.jsx(yn,{label:"Move Window",value:l(),mode:"pan",onRecord:c=>s(u=>({...u,windowDrag:{keys:c.keys,button:c.button||"Right"}}))}),f.jsx("div",{className:"h-4"}),f.jsx(yn,{label:"Toggle Always On Top",value:r.alwaysOnTop||"",mode:"shortcut",onRecord:c=>s(u=>({...u,alwaysOnTop:c.combo}))}),f.jsx("div",{className:"h-4"}),f.jsx(yn,{label:"Toggle Window Opacity (Ghost Mode)",value:r.opacity||"",mode:"shortcut",onRecord:c=>s(u=>({...u,opacity:c.combo}))}),f.jsx("div",{className:"h-4"}),f.jsx(yn,{label:"Adjust Opacity (Drag)",value:d(),mode:"pan",onRecord:c=>s(u=>({...u,opacityDrag:{keys:c.keys,button:c.button||"Right"}}))})]}),f.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[f.jsx("h3",{className:"text-sm font-bold text-gray-300 mb-3",children:"Drawing Tools"}),f.jsx(yn,{label:"Decrease Brush Size",value:r.brushSizeDecrease||"",mode:"shortcut",onRecord:c=>s(u=>({...u,brushSizeDecrease:c.combo}))}),f.jsx("div",{className:"h-4"}),f.jsx(yn,{label:"Increase Brush Size",value:r.brushSizeIncrease||"",mode:"shortcut",onRecord:c=>s(u=>({...u,brushSizeIncrease:c.combo}))})]})]}),f.jsxs("div",{className:"mt-8 flex justify-end gap-3 pt-4 border-t border-gray-700",children:[f.jsx("button",{onClick:e,className:"px-4 py-2 rounded text-gray-300 hover:bg-gray-700 transition-colors text-sm",children:"Cancel"}),f.jsx("button",{onClick:i,className:"px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600 transition-colors font-medium text-sm shadow-lg shadow-blue-500/20",children:"Save Changes"})]})]})})},fS=({color:t,size:e,isEraser:A=!1,onColorChange:n,onSizeChange:r})=>{const s=["#ffffff","#ef4444","#f59e0b","#eab308","#22c55e","#3b82f6","#a855f7","#ec4899"];return f.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-gray-900/90 border border-gray-700 rounded-lg p-2 flex items-center gap-4 shadow-xl z-50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-gray-400",children:A?"Eraser Size":"Size"}),f.jsx("input",{type:"range",min:"1",max:"50",value:e,onChange:i=>r(parseInt(i.target.value)),className:"w-24 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"}),f.jsx("span",{className:"text-xs text-gray-400 w-4",children:e})]}),!A&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-px h-6 bg-gray-700"}),f.jsxs("div",{className:"flex items-center gap-2",children:[s.map(i=>f.jsx("button",{onClick:()=>n(i),className:`w-6 h-6 rounded-full border-2 transition-all ${t===i?"border-white scale-110":"border-transparent hover:scale-105"}`,style:{backgroundColor:i}},i)),f.jsx("div",{className:"relative w-6 h-6 rounded-full overflow-hidden border-2 border-gray-600 ml-1",children:f.jsx("input",{type:"color",value:t,onChange:i=>n(i.target.value),className:"absolute inset-[-50%] w-[200%] h-[200%] cursor-pointer"})})]})]})]})},hS=({showBreakReminder:t=!1})=>f.jsx("div",{className:"absolute top-24 left-1/2 -translate-x-1/2 z-40 select-none pointer-events-none hidden lg:block",children:f.jsxs("div",{className:"pointer-events-auto bg-black/60 backdrop-blur-xl rounded-2xl p-3 shadow-2xl border border-white/10 ring-1 ring-white/5",children:[f.jsx("div",{className:"bg-transparent rounded-xl overflow-hidden relative",children:f.jsx("iframe",{src:"/carbon-ad.html",style:{width:"728px",height:"90px",border:"none",borderRadius:"12px",backgroundColor:"transparent"},sandbox:"allow-scripts allow-same-origin",scrolling:"no"})}),t&&f.jsx("div",{className:"mt-3 bg-blue-500/20 border border-blue-400/40 rounded-xl p-3 animate-pulse",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-semibold text-blue-300",children:"  !"}),f.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"2   .    . (15   )"})]})]})})]})}),pS=({getRemainingWorkTime:t})=>{const[e,A]=x.useState(t());return x.useEffect(()=>{const n=setInterval(()=>{A(t())},6e4);return()=>clearInterval(n)},[t]),f.jsx("div",{className:"fixed bottom-6 right-6 z-50 select-none pointer-events-none",children:f.jsx("div",{className:"bg-black/60 backdrop-blur-xl rounded-2xl px-6 py-4 shadow-2xl border border-white/10 pointer-events-auto",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-2xl",children:""}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-gray-400 mb-1",children:" "}),f.jsxs("div",{className:"text-2xl font-mono font-bold text-blue-400",children:[e,""]})]})]})})})},gS=({paths:t,currentPath:e})=>{const A=r=>{if(r.points.length<2)return null;if(r.points.some(i=>i.pressure!==void 0)){const i=[];for(let o=0;o<r.points.length-1;o++){const a=r.points[o],l=r.points[o+1],d=a.pressure??.5,c=l.pressure??.5,u=r.size*(.3+d*.7),p=r.size*(.3+c*.7),w=l.x-a.x,m=l.y-a.y,I=Math.sqrt(w*w+m*m);if(I>0){const B=-m/I,h=w/I,g=a.x+B*u/2,v=a.y+h*u/2,E=a.x-B*u/2,y=a.y-h*u/2,Q=l.x-B*p/2,F=l.y-h*p/2,N=l.x+B*p/2,D=l.y+h*p/2;i.push(f.jsx("path",{d:`M ${g} ${v} L ${N} ${D} L ${Q} ${F} L ${E} ${y} Z`,fill:r.color,stroke:"none"},o))}}return f.jsx("g",{children:i},r.id)}const s=`M ${r.points.map(i=>`${i.x} ${i.y}`).join(" L ")}`;return f.jsx("path",{d:s,stroke:r.color,strokeWidth:r.size,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},r.id)},n=t.filter(r=>!r.isEraser);return e&&!e.isEraser&&n.push(e),f.jsx("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%",zIndex:1e3,overflow:"visible"},children:n.map(r=>A(r))})},wS=({onLogin:t})=>{const[e,A]=x.useState(!1),[n,r]=x.useState(null),[s,i]=x.useState(!1),o=async()=>{A(!0),r(null);try{const{signInWithGoogle:l}=await qr(async()=>{const{signInWithGoogle:c}=await Promise.resolve().then(()=>G_);return{signInWithGoogle:c}},void 0),d=await l();if(d.success&&d.user){console.log("Logged in as:",d.user.displayName,d.user.email);try{const{initGoogleIdentityServices:c,requestDriveAccess:u}=await qr(async()=>{const{initGoogleIdentityServices:w,requestDriveAccess:m}=await import("./googleIdentity-C43hc0Ig.js");return{initGoogleIdentityServices:w,requestDriveAccess:m}},[]);c();const p="145147670860-l0bu8h9lvmf1gjqd09q66g4jbb4i69q2.apps.googleusercontent.com";console.log("Requesting Drive access..."),await u(p),console.log(" Drive access granted!"),t()}catch(c){console.error("Drive access error:",c),i(!0),r("Google Drive   .     .")}}else r(d.error||"Login failed")}catch(l){r(l instanceof Error?l.message:"Unknown error occurred")}finally{A(!1)}},a=async()=>{try{const{requestDriveAccess:l}=await qr(async()=>{const{requestDriveAccess:c}=await import("./googleIdentity-C43hc0Ig.js");return{requestDriveAccess:c}},[]);await l("145147670860-l0bu8h9lvmf1gjqd09q66g4jbb4i69q2.apps.googleusercontent.com"),t()}catch{r("  .  .")}};return f.jsx("div",{className:"w-screen h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 to-blue-800",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"RefBoard"}),f.jsx("p",{className:"text-gray-600",children:"  "})]}),f.jsx("div",{className:"mb-8",children:f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[f.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"RefBoard :"}),f.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[f.jsx("li",{children:" Google Drive  "}),f.jsx("li",{children:"   "}),f.jsx("li",{children:"   "})]})]})}),s?f.jsx("button",{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-all flex items-center justify-center gap-3",children:"Google Drive  "}):f.jsx("button",{onClick:o,disabled:e,className:"w-full bg-white border-2 border-gray-300 hover:border-blue-500 text-gray-700 font-semibold py-3 px-4 rounded-lg transition-all flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:e?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})," ..."]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google "]})}),n&&f.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:n}),f.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500",children:[""," ",f.jsx("a",{href:"https://trackk81.github.io/refboard-website/terms.html",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:""})," ",""," ",f.jsx("a",{href:"https://trackk81.github.io/refboard-website/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:""}),"  ."]})]})})},BS=()=>{};var WB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw Ii(e)},Ii=function(t){return new Error("Firebase Database ("+HC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=function(t){const e=[];let A=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[A++]=r:r<2048?(e[A++]=r>>6|192,e[A++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e[A++]=r>>18|240,e[A++]=r>>12&63|128,e[A++]=r>>6&63|128,e[A++]=r&63|128):(e[A++]=r>>12|224,e[A++]=r>>6&63|128,e[A++]=r&63|128)}return e},mS=function(t){const e=[];let A=0,n=0;for(;A<t.length;){const r=t[A++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[A++];e[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[A++],i=t[A++],o=t[A++],a=((r&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(a&1023))}else{const s=t[A++],i=t[A++];e[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63)}}return e.join("")},og={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const A=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){const s=t[r],i=r+1<t.length,o=i?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,d=s>>2,c=(s&3)<<4|o>>4;let u=(o&15)<<2|l>>6,p=l&63;a||(p=64,i||(u=64)),n.push(A[d],A[c],A[u],A[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const A=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){const s=A[t.charAt(r++)],o=r<t.length?A[t.charAt(r)]:0;++r;const l=r<t.length?A[t.charAt(r)]:64;++r;const c=r<t.length?A[t.charAt(r)]:64;if(++r,s==null||o==null||l==null||c==null)throw new yS;const u=s<<2|o>>4;if(n.push(u),l!==64){const p=o<<4&240|l>>2;if(n.push(p),c!==64){const w=l<<6&192|c;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LC=function(t){const e=kC(t);return og.encodeByteArray(e,!0)},Qc=function(t){return LC(t).replace(/\./g,"")},Uc=function(t){try{return og.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){return RC(void 0,t)}function RC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const A=e;return new Date(A.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const A in e)!e.hasOwnProperty(A)||!CS(A)||(t[A]=RC(t[A],e[A]));return t}function CS(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=()=>ES().__FIREBASE_DEFAULTS__,FS=()=>{if(typeof process>"u"||typeof WB>"u")return;const t=WB.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Uc(t[1]);return e&&JSON.parse(e)},ag=()=>{try{return BS()||_S()||FS()||QS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PC=t=>{var e,A;return(A=(e=ag())==null?void 0:e.emulatorHosts)==null?void 0:A[t]},US=t=>{const e=PC(t);if(!e)return;const A=e.lastIndexOf(":");if(A<=0||A+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(A+1),10);return e[0]==="["?[e.substring(1,A-1),n]:[e.substring(0,A),n]},OC=()=>{var t;return(t=ag())==null?void 0:t.config},MC=t=>{var e;return(e=ag())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,A)=>{this.resolve=e,this.reject=A})}wrapCallback(e){return(A,n)=>{A?this.reject(A):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(A):e(A,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const A={alg:"none",type:"JWT"},n=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qc(JSON.stringify(A)),Qc(JSON.stringify(i)),""].join(".")}const Fo={};function xS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fo))Fo[e]?t.emulator.push(e):t.prod.push(e);return t}function SS(t){let e=document.getElementById(t),A=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),A=!0),{created:A,element:e}}let XB=!1;function VC(t,e){if(typeof window>"u"||typeof document>"u"||!xi(window.location.host)||Fo[t]===e||Fo[t]||XB)return;Fo[t]=e;function A(u){return`__firebase__banner__${u}`}const n="__firebase__banner",s=xS().prod.length>0;function i(){const u=document.getElementById(n);u&&u.remove()}function o(u){u.style.display="flex",u.style.background="#7faaf0",u.style.position="fixed",u.style.bottom="5px",u.style.left="5px",u.style.padding=".5em",u.style.borderRadius="5px",u.style.alignItems="center"}function a(u,p){u.setAttribute("width","24"),u.setAttribute("id",p),u.setAttribute("height","24"),u.setAttribute("viewBox","0 0 24 24"),u.setAttribute("fill","none"),u.style.marginLeft="-6px"}function l(){const u=document.createElement("span");return u.style.cursor="pointer",u.style.marginLeft="16px",u.style.fontSize="24px",u.innerHTML=" &times;",u.onclick=()=>{XB=!0,i()},u}function d(u,p){u.setAttribute("id",p),u.innerText="Learn more",u.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",u.setAttribute("target","__blank"),u.style.paddingLeft="5px",u.style.textDecoration="underline"}function c(){const u=SS(n),p=A("text"),w=document.getElementById(p)||document.createElement("span"),m=A("learnmore"),I=document.getElementById(m)||document.createElement("a"),B=A("preprendIcon"),h=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(u.created){const g=u.element;o(g),d(I,m);const v=l();a(h,B),g.append(h,w,I,v),document.body.appendChild(g)}s?(w.innerText="Preview backend disconnected.",h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",c):c()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function bS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NS(){return HC.NODE_ADMIN===!0}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((t,e)=>{try{let A=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),A||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{A=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(A){e(A)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="FirebaseError";class Dr extends Error{constructor(e,A,n){super(A),this.code=e,this.customData=n,this.name=LS,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,A,n){this.service=e,this.serviceName=A,this.errors=n}create(e,...A){const n=A[0]||{},r=`${this.service}/${e}`,s=this.errors[e],i=s?RS(s,n):"Error",o=`${this.serviceName}: ${i} (${r}).`;return new Dr(r,o,n)}}function RS(t,e){return t.replace(PS,(A,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const PS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t){return JSON.parse(t)}function vt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=function(t){let e={},A={},n={},r="";try{const s=t.split(".");e=ta(Uc(s[0])||""),A=ta(Uc(s[1])||""),r=s[2],n=A.d||{},delete A.d}catch{}return{header:e,claims:A,data:n,signature:r}},OS=function(t){const e=jC(t),A=e.claims;return!!A&&typeof A=="object"&&A.hasOwnProperty("iat")},MS=function(t){const e=jC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function fh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ic(t,e,A){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e.call(A,t[r],r,t));return n}function as(t,e){if(t===e)return!0;const A=Object.keys(t),n=Object.keys(e);for(const r of A){if(!n.includes(r))return!1;const s=t[r],i=e[r];if(YB(s)&&YB(i)){if(!as(s,i))return!1}else if(s!==i)return!1}for(const r of n)if(!A.includes(r))return!1;return!0}function YB(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){const e=[];for(const[A,n]of Object.entries(t))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(A)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(A)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,A){A||(A=0);const n=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)n[c]=e.charCodeAt(A)<<24|e.charCodeAt(A+1)<<16|e.charCodeAt(A+2)<<8|e.charCodeAt(A+3),A+=4;else for(let c=0;c<16;c++)n[c]=e[A]<<24|e[A+1]<<16|e[A+2]<<8|e[A+3],A+=4;for(let c=16;c<80;c++){const u=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=(u<<1|u>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],i=this.chain_[2],o=this.chain_[3],a=this.chain_[4],l,d;for(let c=0;c<80;c++){c<40?c<20?(l=o^s&(i^o),d=1518500249):(l=s^i^o,d=1859775393):c<60?(l=s&i|o&(s|i),d=2400959708):(l=s^i^o,d=3395469782);const u=(r<<5|r>>>27)+l+a+d+n[c]&4294967295;a=o,o=i,i=(s<<30|s>>>2)&4294967295,s=r,r=u}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+i&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,A){if(e==null)return;A===void 0&&(A=e.length);const n=A-this.blockSize;let r=0;const s=this.buf_;let i=this.inbuf_;for(;r<A;){if(i===0)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<A;)if(s[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(s),i=0;break}}else for(;r<A;)if(s[i]=e[r],++i,++r,i===this.blockSize){this.compress_(s),i=0;break}}this.inbuf_=i,this.total_+=A}digest(){const e=[];let A=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=A&255,A/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[n]=this.chain_[r]>>s&255,++n;return e}}function VS(t,e){const A=new GS(t,e);return A.subscribe.bind(A)}class GS{constructor(e,A){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=A,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(A=>{A.next(e)})}error(e){this.forEachObserver(A=>{A.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,A,n){let r;if(e===void 0&&A===void 0&&n===void 0)throw new Error("Missing Observer.");jS(e,["next","error","complete"])?r=e:r={next:e,error:A,complete:n},r.next===void 0&&(r.next=Ld),r.error===void 0&&(r.error=Ld),r.complete===void 0&&(r.complete=Ld);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let A=0;A<this.observers.length;A++)this.sendOne(A,e)}sendOne(e,A){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{A(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jS(t,e){if(typeof t!="object"||t===null)return!1;for(const A of e)if(A in t&&typeof t[A]=="function")return!0;return!1}function Ld(){}function Uu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=function(t){const e=[];let A=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319){const s=r-55296;n++,O(n<t.length,"Surrogate pair missing trail surrogate.");const i=t.charCodeAt(n)-56320;r=65536+(s<<10)+i}r<128?e[A++]=r:r<2048?(e[A++]=r>>6|192,e[A++]=r&63|128):r<65536?(e[A++]=r>>12|224,e[A++]=r>>6&63|128,e[A++]=r&63|128):(e[A++]=r>>18|240,e[A++]=r>>12&63|128,e[A++]=r>>6&63|128,e[A++]=r&63|128)}return e},Iu=function(t){let e=0;for(let A=0;A<t.length;A++){const n=t.charCodeAt(A);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,A++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){return t&&t._delegate?t._delegate:t}class ls{constructor(e,A,n){this.name=e,this.instanceFactory=A,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,A){this.name=e,this.container=A,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const A=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(A)){const n=new ma;if(this.instancesDeferred.set(A,n),this.isInitialized(A)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:A});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(A).promise}getImmediate(e){const A=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(A)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:A})}catch(r){if(n)return null;throw r}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YS(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[A,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(A);try{const s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(A=>"INTERNAL"in A).map(A=>A.INTERNAL.delete()),...e.filter(A=>"_delete"in A).map(A=>A._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:A={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:A});for(const[s,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&i.resolve(r)}return r}onInit(e,A){const n=this.normalizeInstanceIdentifier(A),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,A){const n=this.onInitCallbacks.get(A);if(n)for(const r of n)try{r(e,A)}catch{}}getOrInitializeService({instanceIdentifier:e,options:A={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:XS(e),options:A}),this.instances.set(e,n),this.instancesOptions.set(e,A),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XS(t){return t===Kr?void 0:t}function YS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const A=this.getProvider(e.name);if(A.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);A.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const A=new WS(e,this);return this.providers.set(e,A),A}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const JS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},ZS=Le.INFO,qS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},e1=(t,e,...A)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),r=qS[e];if(r)console[r](`[${n}]  ${t.name}:`,...A);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let cg=class{constructor(e){this.name=e,this._logLevel=ZS,this._logHandler=e1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}};const t1=(t,e)=>e.some(A=>t instanceof A);let $B,JB;function A1(){return $B||($B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return JB||(JB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zC=new WeakMap,hh=new WeakMap,WC=new WeakMap,Rd=new WeakMap,ug=new WeakMap;function r1(t){const e=new Promise((A,n)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{A(mr(t.result)),r()},i=()=>{n(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",i)});return e.then(A=>{A instanceof IDBCursor&&zC.set(A,t)}).catch(()=>{}),ug.set(e,t),e}function s1(t){if(hh.has(t))return;const e=new Promise((A,n)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{A(),r()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});hh.set(t,e)}let ph={get(t,e,A){if(t instanceof IDBTransaction){if(e==="done")return hh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WC.get(t);if(e==="store")return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return mr(t[e])},set(t,e,A){return t[e]=A,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function i1(t){ph=t(ph)}function o1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...A){const n=t.call(Pd(this),e,...A);return WC.set(n,e.sort?e.sort():[e]),mr(n)}:n1().includes(t)?function(...e){return t.apply(Pd(this),e),mr(zC.get(this))}:function(...e){return mr(t.apply(Pd(this),e))}}function a1(t){return typeof t=="function"?o1(t):(t instanceof IDBTransaction&&s1(t),t1(t,A1())?new Proxy(t,ph):t)}function mr(t){if(t instanceof IDBRequest)return r1(t);if(Rd.has(t))return Rd.get(t);const e=a1(t);return e!==t&&(Rd.set(t,e),ug.set(e,t)),e}const Pd=t=>ug.get(t);function l1(t,e,{blocked:A,upgrade:n,blocking:r,terminated:s}={}){const i=indexedDB.open(t,e),o=mr(i);return n&&i.addEventListener("upgradeneeded",a=>{n(mr(i.result),a.oldVersion,a.newVersion,mr(i.transaction),a)}),A&&i.addEventListener("blocked",a=>A(a.oldVersion,a.newVersion,a)),o.then(a=>{s&&a.addEventListener("close",()=>s()),r&&a.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const c1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],Od=new Map;function ZB(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Od.get(e))return Od.get(e);const A=e.replace(/FromIndex$/,""),n=e!==A,r=u1.includes(A);if(!(A in(n?IDBIndex:IDBObjectStore).prototype)||!(r||c1.includes(A)))return;const s=async function(i,...o){const a=this.transaction(i,r?"readwrite":"readonly");let l=a.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[A](...o),r&&a.done]))[0]};return Od.set(e,s),s}i1(t=>({...t,get:(e,A,n)=>ZB(e,A)||t.get(e,A,n),has:(e,A)=>!!ZB(e,A)||t.has(e,A)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(A=>{if(f1(A)){const n=A.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(A=>A).join(" ")}}function f1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gh="@firebase/app",qB="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new cg("@firebase/app"),h1="@firebase/app-compat",p1="@firebase/analytics-compat",g1="@firebase/analytics",w1="@firebase/app-check-compat",B1="@firebase/app-check",m1="@firebase/auth",y1="@firebase/auth-compat",v1="@firebase/database",C1="@firebase/data-connect",E1="@firebase/database-compat",_1="@firebase/functions",F1="@firebase/functions-compat",Q1="@firebase/installations",U1="@firebase/installations-compat",I1="@firebase/messaging",x1="@firebase/messaging-compat",S1="@firebase/performance",b1="@firebase/performance-compat",T1="@firebase/remote-config",D1="@firebase/remote-config-compat",N1="@firebase/storage",H1="@firebase/storage-compat",k1="@firebase/firestore",L1="@firebase/ai",R1="@firebase/firestore-compat",P1="firebase",O1="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="[DEFAULT]",M1={[gh]:"fire-core",[h1]:"fire-core-compat",[g1]:"fire-analytics",[p1]:"fire-analytics-compat",[B1]:"fire-app-check",[w1]:"fire-app-check-compat",[m1]:"fire-auth",[y1]:"fire-auth-compat",[v1]:"fire-rtdb",[C1]:"fire-data-connect",[E1]:"fire-rtdb-compat",[_1]:"fire-fn",[F1]:"fire-fn-compat",[Q1]:"fire-iid",[U1]:"fire-iid-compat",[I1]:"fire-fcm",[x1]:"fire-fcm-compat",[S1]:"fire-perf",[b1]:"fire-perf-compat",[T1]:"fire-rc",[D1]:"fire-rc-compat",[N1]:"fire-gcs",[H1]:"fire-gcs-compat",[k1]:"fire-fst",[R1]:"fire-fst-compat",[L1]:"fire-vertex","fire-js":"fire-js",[P1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,K1=new Map,Bh=new Map;function em(t,e){try{t.container.addComponent(e)}catch(A){Rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,A)}}function gi(t){const e=t.name;if(Bh.has(e))return Rn.debug(`There were multiple attempts to register component ${e}.`),!1;Bh.set(e,t);for(const A of xc.values())em(A,t);for(const A of K1.values())em(A,t);return!0}function dg(t,e){const A=t.container.getProvider("heartbeat").getImmediate({optional:!0});return A&&A.triggerHeartbeat(),t.container.getProvider(e)}function MA(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new ya("app","Firebase",V1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,A,n){this._isDeleted=!1,this._options={...e},this._config={...A},this._name=A.name,this._automaticDataCollectionEnabled=A.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=O1;function XC(t,e={}){let A=t;typeof e!="object"&&(e={name:e});const n={name:wh,automaticDataCollectionEnabled:!0,...e},r=n.name;if(typeof r!="string"||!r)throw yr.create("bad-app-name",{appName:String(r)});if(A||(A=OC()),!A)throw yr.create("no-options");const s=xc.get(r);if(s){if(as(A,s.options)&&as(n,s.config))return s;throw yr.create("duplicate-app",{appName:r})}const i=new $S(r);for(const a of Bh.values())i.addComponent(a);const o=new G1(A,n,i);return xc.set(r,o),o}function YC(t=wh){const e=xc.get(t);if(!e&&t===wh&&OC())return XC();if(!e)throw yr.create("no-app",{appName:t});return e}function vr(t,e,A){let n=M1[t]??t;A&&(n+=`-${A}`);const r=n.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const i=[`Unable to register library "${n}" with version "${e}":`];r&&i.push(`library name "${n}" contains illegal characters (whitespace or "/")`),r&&s&&i.push("and"),s&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rn.warn(i.join(" "));return}gi(new ls(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="firebase-heartbeat-database",z1=1,Aa="firebase-heartbeat-store";let Md=null;function $C(){return Md||(Md=l1(j1,z1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Aa)}catch(A){console.warn(A)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),Md}async function W1(t){try{const A=(await $C()).transaction(Aa),n=await A.objectStore(Aa).get(JC(t));return await A.done,n}catch(e){if(e instanceof Dr)Rn.warn(e.message);else{const A=yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rn.warn(A.message)}}}async function tm(t,e){try{const n=(await $C()).transaction(Aa,"readwrite");await n.objectStore(Aa).put(e,JC(t)),await n.done}catch(A){if(A instanceof Dr)Rn.warn(A.message);else{const n=yr.create("idb-set",{originalErrorMessage:A==null?void 0:A.message});Rn.warn(n.message)}}}function JC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=1024,Y1=30;class $1{constructor(e){this.container=e,this._heartbeatsCache=null;const A=this.container.getProvider("app").getImmediate();this._storage=new Z1(A),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,A;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Am();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((A=this._heartbeatsCache)==null?void 0:A.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Y1){const i=q1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Rn.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const A=Am(),{heartbeatsToSend:n,unsentEntries:r}=J1(this._heartbeatsCache.heartbeats),s=Qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=A,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(A){return Rn.warn(A),""}}}function Am(){return new Date().toISOString().substring(0,10)}function J1(t,e=X1){const A=[];let n=t.slice();for(const r of t){const s=A.find(i=>i.agent===r.agent);if(s){if(s.dates.push(r.date),nm(A)>e){s.dates.pop();break}}else if(A.push({agent:r.agent,dates:[r.date]}),nm(A)>e){A.pop();break}n=n.slice(1)}return{heartbeatsToSend:A,unsentEntries:n}}class Z1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const A=await W1(this.app);return A!=null&&A.heartbeats?A:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return tm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return tm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function nm(t){return Qc(JSON.stringify({version:2,heartbeats:t})).length}function q1(t){if(t.length===0)return-1;let e=0,A=t[0].date;for(let n=1;n<t.length;n++)t[n].date<A&&(A=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){gi(new ls("platform-logger",e=>new d1(e),"PRIVATE")),gi(new ls("heartbeat",e=>new $1(e),"PRIVATE")),vr(gh,qB,t),vr(gh,qB,"esm2020"),vr("fire-js","")}eb("");var tb="firebase",Ab="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(tb,Ab,"app");function ZC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nb=ZC,qC=new ya("auth","Firebase",ZC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new cg("@firebase/auth");function rb(t,...e){Sc.logLevel<=Le.WARN&&Sc.warn(`Auth (${bi}): ${t}`,...e)}function jl(t,...e){Sc.logLevel<=Le.ERROR&&Sc.error(`Auth (${bi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,...e){throw hg(t,...e)}function WA(t,...e){return hg(t,...e)}function fg(t,e,A){const n={...nb(),[e]:A};return new ya("auth","Firebase",n).create(e,{appName:t.name})}function es(t){return fg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sb(t,e,A){const n=A;if(!(e instanceof n))throw n.name!==e.constructor.name&&un(t,"argument-error"),fg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hg(t,...e){if(typeof t!="string"){const A=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(A,...n)}return qC.create(t,...e)}function re(t,e,...A){if(!t)throw hg(e,...A)}function Un(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jl(e),new Error(e)}function Pn(t,e){t||Un(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ib(){return rm()==="http:"||rm()==="https:"}function rm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ib()||TS()||"connection"in navigator)?navigator.onLine:!0}function ab(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,A){this.shortDelay=e,this.longDelay=A,Pn(A>e,"Short delay should be less than long delay!"),this.isMobile=lg()||GC()}get(){return ob()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e){Pn(t.emulator,"Emulator should always be set here");const{url:A}=t.emulator;return e?`${A}${e.startsWith("/")?e.slice(1):e}`:A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static initialize(e,A,n){this.fetchImpl=e,A&&(this.headersImpl=A),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ub=new va(3e4,6e4);function gg(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ti(t,e,A,n,r={}){return tE(t,r,async()=>{let s={},i={};n&&(e==="GET"?i=n:s={body:JSON.stringify(n)});const o=Si({key:t.config.apiKey,...i}).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const l={method:e,headers:a,...s};return bS()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&xi(t.emulatorConfig.host)&&(l.credentials="include"),eE.fetch()(await AE(t,t.config.apiHost,A,o),l)})}async function tE(t,e,A){t._canInitEmulator=!1;const n={...lb,...e};try{const r=new fb(t),s=await Promise.race([A(),r.promise]);r.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw rl(t,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const o=s.ok?i.errorMessage:i.error.message,[a,l]=o.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw rl(t,"credential-already-in-use",i);if(a==="EMAIL_EXISTS")throw rl(t,"email-already-in-use",i);if(a==="USER_DISABLED")throw rl(t,"user-disabled",i);const d=n[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw fg(t,d,l);un(t,d)}}catch(r){if(r instanceof Dr)throw r;un(t,"network-request-failed",{message:String(r)})}}async function db(t,e,A,n,r={}){const s=await Ti(t,e,A,n,r);return"mfaPendingCredential"in s&&un(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function AE(t,e,A,n){const r=`${e}${A}?${n}`,s=t,i=s.config.emulator?pg(t.config,r):`${t.config.apiScheme}://${r}`;return cb.includes(A)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(i).toString():i}class fb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((A,n)=>{this.timer=setTimeout(()=>n(WA(this.auth,"network-request-failed")),ub.get())})}}function rl(t,e,A){const n={appName:t.name};A.email&&(n.email=A.email),A.phoneNumber&&(n.phoneNumber=A.phoneNumber);const r=WA(t,e,n);return r.customData._tokenResponse=A,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(t,e){return Ti(t,"POST","/v1/accounts:delete",e)}async function bc(t,e){return Ti(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pb(t,e=!1){const A=BA(t),n=await A.getIdToken(e),r=wg(n);re(r&&r.exp&&r.auth_time&&r.iat,A.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,i=s==null?void 0:s.sign_in_provider;return{claims:r,token:n,authTime:Qo(Kd(r.auth_time)),issuedAtTime:Qo(Kd(r.iat)),expirationTime:Qo(Kd(r.exp)),signInProvider:i||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Kd(t){return Number(t)*1e3}function wg(t){const[e,A,n]=t.split(".");if(e===void 0||A===void 0||n===void 0)return jl("JWT malformed, contained fewer than 3 sections"),null;try{const r=Uc(A);return r?JSON.parse(r):(jl("Failed to decode base64 JWT payload"),null)}catch(r){return jl("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function sm(t){const e=wg(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t,e,A=!1){if(A)return e;try{return await e}catch(n){throw n instanceof Dr&&gb(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function gb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const A=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),A}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const A=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},A)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,A){this.createdAt=e,this.lastLoginAt=A,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t){var c;const e=t.auth,A=await t.getIdToken(),n=await na(t,bc(e,{idToken:A}));re(n==null?void 0:n.users.length,e,"internal-error");const r=n.users[0];t._notifyReloadListener(r);const s=(c=r.providerUserInfo)!=null&&c.length?nE(r.providerUserInfo):[],i=mb(t.providerData,s),o=t.isAnonymous,a=!(t.email&&r.passwordHash)&&!(i!=null&&i.length),l=o?a:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new yh(r.createdAt,r.lastLoginAt),isAnonymous:l};Object.assign(t,d)}async function Bb(t){const e=BA(t);await Tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mb(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function nE(t){return t.map(({providerId:e,...A})=>({providerId:e,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(t,e){const A=await tE(t,{},async()=>{const n=Si({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,i=await AE(t,r,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return t.emulatorConfig&&xi(t.emulatorConfig.host)&&(a.credentials="include"),eE.fetch()(i,a)});return{accessToken:A.access_token,expiresIn:A.expires_in,refreshToken:A.refresh_token}}async function vb(t,e){return Ti(t,"POST","/v2/accounts:revokeToken",gg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const A="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,A)}updateFromIdToken(e){re(e.length!==0,"internal-error");const A=sm(e);this.updateTokensAndExpiration(e,null,A)}async getToken(e,A=!1){return!A&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,A){const{accessToken:n,refreshToken:r,expiresIn:s}=await yb(e,A);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,A,n){this.refreshToken=A||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,A){const{refreshToken:n,accessToken:r,expirationTime:s}=A,i=new ti;return n&&(re(typeof n=="string","internal-error",{appName:e}),i.refreshToken=n),r&&(re(typeof r=="string","internal-error",{appName:e}),i.accessToken=r),s&&(re(typeof s=="number","internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ti,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class VA{constructor({uid:e,auth:A,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new wb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=A,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new yh(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const A=await na(this,this.stsTokenManager.getToken(this.auth,e));return re(A,this.auth,"internal-error"),this.accessToken!==A&&(this.accessToken=A,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),A}getIdTokenResult(e){return pb(this,e)}reload(){return Bb(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(A=>({...A})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const A=new VA({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return A.metadata._copy(this.metadata),A}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,A=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),A&&await Tc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(MA(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await na(this,hb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,A){const n=A.displayName??void 0,r=A.email??void 0,s=A.phoneNumber??void 0,i=A.photoURL??void 0,o=A.tenantId??void 0,a=A._redirectEventId??void 0,l=A.createdAt??void 0,d=A.lastLoginAt??void 0,{uid:c,emailVerified:u,isAnonymous:p,providerData:w,stsTokenManager:m}=A;re(c&&m,e,"internal-error");const I=ti.fromJSON(this.name,m);re(typeof c=="string",e,"internal-error"),Xn(n,e.name),Xn(r,e.name),re(typeof u=="boolean",e,"internal-error"),re(typeof p=="boolean",e,"internal-error"),Xn(s,e.name),Xn(i,e.name),Xn(o,e.name),Xn(a,e.name),Xn(l,e.name),Xn(d,e.name);const B=new VA({uid:c,auth:e,email:r,emailVerified:u,displayName:n,isAnonymous:p,photoURL:i,phoneNumber:s,tenantId:o,stsTokenManager:I,createdAt:l,lastLoginAt:d});return w&&Array.isArray(w)&&(B.providerData=w.map(h=>({...h}))),a&&(B._redirectEventId=a),B}static async _fromIdTokenResponse(e,A,n=!1){const r=new ti;r.updateFromServerResponse(A);const s=new VA({uid:A.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Tc(s),s}static async _fromGetAccountInfoResponse(e,A,n){const r=A.users[0];re(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?nE(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new ti;o.updateFromIdToken(n);const a=new VA({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new yh(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(a,l),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map;function In(t){Pn(t instanceof Function,"Expected a class definition");let e=im.get(t);return e?(Pn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,im.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,A){this.storage[e]=A}async _get(e){const A=this.storage[e];return A===void 0?null:A}async _remove(e){delete this.storage[e]}_addListener(e,A){}_removeListener(e,A){}}rE.type="NONE";const om=rE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t,e,A){return`firebase:${t}:${e}:${A}`}class Ai{constructor(e,A,n){this.persistence=e,this.auth=A,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=zl(this.userKey,r.apiKey,s),this.fullPersistenceKey=zl("persistence",r.apiKey,s),this.boundEventHandler=A._onStorageEvent.bind(A),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const A=await bc(this.auth,{idToken:e}).catch(()=>{});return A?VA._fromGetAccountInfoResponse(this.auth,A,e):null}return VA._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const A=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,A)return this.setCurrentUser(A)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,A,n="authUser"){if(!A.length)return new Ai(In(om),e,n);const r=(await Promise.all(A.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=r[0]||In(om);const i=zl(n,e.config.apiKey,e.name);let o=null;for(const l of A)try{const d=await l._get(i);if(d){let c;if(typeof d=="string"){const u=await bc(e,{idToken:d}).catch(()=>{});if(!u)break;c=await VA._fromGetAccountInfoResponse(e,u,d)}else c=VA._fromJSON(e,d);l!==s&&(o=c),s=l;break}}catch{}const a=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new Ai(s,e,n):(s=a[0],o&&await s._set(i,o.toJSON()),await Promise.all(A.map(async l=>{if(l!==s)try{await l._remove(i)}catch{}})),new Ai(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cE(e))return"Blackberry";if(uE(e))return"Webos";if(iE(e))return"Safari";if((e.includes("chrome/")||oE(e))&&!e.includes("edge/"))return"Chrome";if(lE(e))return"Android";{const A=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(A);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function sE(t=Wt()){return/firefox\//i.test(t)}function iE(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oE(t=Wt()){return/crios\//i.test(t)}function aE(t=Wt()){return/iemobile/i.test(t)}function lE(t=Wt()){return/android/i.test(t)}function cE(t=Wt()){return/blackberry/i.test(t)}function uE(t=Wt()){return/webos/i.test(t)}function Bg(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Cb(t=Wt()){var e;return Bg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Eb(){return DS()&&document.documentMode===10}function dE(t=Wt()){return Bg(t)||lE(t)||uE(t)||cE(t)||/windows phone/i.test(t)||aE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t,e=[]){let A;switch(t){case"Browser":A=am(Wt());break;case"Worker":A=`${am(Wt())}-${t}`;break;default:A=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${A}/JsCore/${bi}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,A){const n=s=>new Promise((i,o)=>{try{const a=e(s);i(a)}catch(a){o(a)}});n.onAbort=A,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const A=[];try{for(const n of this.queue)await n(e),n.onAbort&&A.push(n.onAbort)}catch(n){A.reverse();for(const r of A)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(t,e={}){return Ti(t,"GET","/v2/passwordPolicy",gg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=6;class Ub{constructor(e){var n;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=A.minPasswordLength??Qb,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=A.meetsMinPasswordLength??!0),A.isValid&&(A.isValid=A.meetsMaxPasswordLength??!0),A.isValid&&(A.isValid=A.containsLowercaseLetter??!0),A.isValid&&(A.isValid=A.containsUppercaseLetter??!0),A.isValid&&(A.isValid=A.containsNumericCharacter??!0),A.isValid&&(A.isValid=A.containsNonAlphanumericCharacter??!0),A}validatePasswordLengthOptions(e,A){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(A.meetsMinPasswordLength=e.length>=n),r&&(A.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,A){this.updatePasswordCharacterOptionsStatuses(A,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(A,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,A,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=A)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,A,n,r){this.app=e,this.heartbeatServiceProvider=A,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lm(this),this.idTokenSubscription=new lm(this),this.beforeStateQueue=new _b(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,A){return A&&(this._popupRedirectResolver=In(A)),this._initializationPromise=this.queue(async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await Ai.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(A),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const A=await bc(this,{idToken:e}),n=await VA._fromGetAccountInfoResponse(this,A,e);await this.directlySetCurrentUser(n)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(MA(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const A=await this.assertedPersistence.getCurrentUser();let n=A,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&(a!=null&&a.user)&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=A,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let A=null;try{A=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return A}async reloadAndSetCurrentUserOrClear(e){try{await Tc(e)}catch(A){if((A==null?void 0:A.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ab()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(MA(this.app))return Promise.reject(es(this));const A=e?BA(e):null;return A&&re(A.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(A&&A._clone(this))}async _updateCurrentUser(e,A=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),A||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return MA(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return MA(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(In(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const A=this._getPasswordPolicyInternal();return A.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fb(this),A=new Ub(e);this.tenantId===null?this._projectPasswordPolicy=A:this._tenantPasswordPolicies[this.tenantId]=A}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,A,n){return this.registerStateListener(this.authStateSubscription,e,A,n)}beforeAuthStateChanged(e,A){return this.beforeStateQueue.pushCallback(e,A)}onIdTokenChanged(e,A,n){return this.registerStateListener(this.idTokenSubscription,e,A,n)}authStateReady(){return new Promise((e,A)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},A)}})}async revokeAccessToken(e){if(this.currentUser){const A=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:A};this.tenantId!=null&&(n.tenantId=this.tenantId),await vb(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,A){const n=await this.getOrInitRedirectPersistenceManager(A);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const A=e&&In(e)||this._popupRedirectResolver;re(A,this,"argument-error"),this.redirectPersistenceManager=await Ai.create(this,[In(A._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var A,n;return this._isInitialized&&await this.queue(async()=>{}),((A=this._currentUser)==null?void 0:A._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var A;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((A=this.currentUser)==null?void 0:A.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,A,n,r){if(this._deleted)return()=>{};const s=typeof A=="function"?A:A.next.bind(A);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(o,this,"internal-error"),o.then(()=>{i||s(this.currentUser)}),typeof A=="function"){const a=e.addObserver(A,n,r);return()=>{i=!0,a()}}else{const a=e.addObserver(A);return()=>{i=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const A=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());A&&(e["X-Firebase-Client"]=A);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var A;if(MA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((A=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:A.getToken());return e!=null&&e.error&&rb(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xu(t){return BA(t)}class lm{constructor(e){this.auth=e,this.observer=null,this.addObserver=VS(A=>this.observer=A)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xb(t){mg=t}function Sb(t){return mg.loadJS(t)}function bb(){return mg.gapiScript}function Tb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t,e){const A=dg(t,"auth");if(A.isInitialized()){const r=A.getImmediate(),s=A.getOptions();if(as(s,e??{}))return r;un(r,"already-initialized")}return A.initialize({options:e})}function Nb(t,e){const A=(e==null?void 0:e.persistence)||[],n=(Array.isArray(A)?A:[A]).map(In);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Hb(t,e,A){const n=xu(t);re(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!1,s=hE(e),{host:i,port:o}=kb(e),a=o===null?"":`:${o}`,l={url:`${s}//${i}${a}/`},d=Object.freeze({host:i,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){re(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),re(as(l,n.config.emulator)&&as(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=l,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,xi(i)?(KC(`${s}//${i}${a}`),VC("Auth",!0)):Lb()}function hE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kb(t){const e=hE(t),A=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!A)return{host:"",port:null};const n=A[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const s=r[1];return{host:s,port:cm(n.substr(s.length+1))}}else{const[s,i]=n.split(":");return{host:s,port:cm(i)}}}function cm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Lb(){function t(){const e=document.createElement("p"),A=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",A.position="fixed",A.width="100%",A.backgroundColor="#ffffff",A.border=".1em solid #000000",A.color="#b50000",A.bottom="0px",A.left="0px",A.margin="0px",A.zIndex="10000",A.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,A){this.providerId=e,this.signInMethod=A}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,A){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ni(t,e){return db(t,"POST","/v1/accounts:signInWithIdp",gg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="http://localhost";class cs extends pE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const A=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(A.idToken=e.idToken),e.accessToken&&(A.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(A.nonce=e.nonce),e.pendingToken&&(A.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(A.accessToken=e.oauthToken,A.secret=e.oauthTokenSecret):un("argument-error"),A}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const A=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r,...s}=A;if(!n||!r)return null;const i=new cs(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){const A=this.buildRequest();return ni(e,A)}_linkToIdToken(e,A){const n=this.buildRequest();return n.idToken=A,ni(e,n)}_getReauthenticationResolver(e){const A=this.buildRequest();return A.autoCreate=!1,ni(e,A)}buildRequest(){const e={requestUri:Rb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const A={};this.idToken&&(A.id_token=this.idToken),this.accessToken&&(A.access_token=this.accessToken),this.secret&&(A.oauth_token_secret=this.secret),A.providerId=this.providerId,this.nonce&&!this.pendingToken&&(A.nonce=this.nonce),e.postBody=Si(A)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Ca{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on extends Ca{constructor(){super("google.com"),this.addScope("profile")}static credential(e,A){return cs._fromParams({providerId:on.PROVIDER_ID,signInMethod:on.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:A})}static credentialFromResult(e){return on.credentialFromTaggedObject(e)}static credentialFromError(e){return on.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:A,oauthAccessToken:n}=e;if(!A&&!n)return null;try{return on.credential(A,n)}catch{return null}}}on.GOOGLE_SIGN_IN_METHOD="google.com";on.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Ca{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends Ca{constructor(){super("twitter.com")}static credential(e,A){return cs._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:A})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:A,oauthTokenSecret:n}=e;if(!A||!n)return null;try{return rr.credential(A,n)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,A,n,r=!1){const s=await VA._fromIdTokenResponse(e,n,r),i=um(n);return new wi({user:s,providerId:i,_tokenResponse:n,operationType:A})}static async _forOperation(e,A,n){await e._updateTokensIfNecessary(n,!0);const r=um(n);return new wi({user:e,providerId:r,_tokenResponse:n,operationType:A})}}function um(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Dr{constructor(e,A,n,r){super(A.code,A.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:A.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,A,n,r){return new Dc(e,A,n,r)}}function gE(t,e,A,n){return(e==="reauthenticate"?A._getReauthenticationResolver(t):A._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(t,s,e,n):s})}async function Pb(t,e,A=!1){const n=await na(t,e._linkToIdToken(t.auth,await t.getIdToken()),A);return wi._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(t,e,A=!1){const{auth:n}=t;if(MA(n.app))return Promise.reject(es(n));const r="reauthenticate";try{const s=await na(t,gE(n,r,e,t),A);re(s.idToken,n,"internal-error");const i=wg(s.idToken);re(i,n,"internal-error");const{sub:o}=i;return re(t.uid===o,n,"user-mismatch"),wi._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&un(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(t,e,A=!1){if(MA(t.app))return Promise.reject(es(t));const n="signIn",r=await gE(t,n,e),s=await wi._fromIdTokenResponse(t,n,r);return A||await t._updateCurrentUser(s.user),s}function Kb(t,e,A,n){return BA(t).onIdTokenChanged(e,A,n)}function Vb(t,e,A){return BA(t).beforeAuthStateChanged(e,A)}function Gb(t,e,A,n){return BA(t).onAuthStateChanged(e,A,n)}function jb(t){return BA(t).signOut()}const Nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,A){this.storageRetriever=e,this.type=A}_isAvailable(){try{return this.storage?(this.storage.setItem(Nc,"1"),this.storage.removeItem(Nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,A){return this.storage.setItem(e,JSON.stringify(A)),Promise.resolve()}_get(e){const A=this.storage.getItem(e);return Promise.resolve(A?JSON.parse(A):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=1e3,Wb=10;class BE extends wE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,A)=>this.onStorageEvent(e,A),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const A of Object.keys(this.listeners)){const n=this.storage.getItem(A),r=this.localCache[A];n!==r&&e(A,r,n)}}onStorageEvent(e,A=!1){if(!e.key){this.forAllChangedKeys((i,o,a)=>{this.notifyListeners(i,a)});return}const n=e.key;A?this.detachListener():this.stopPolling();const r=()=>{const i=this.storage.getItem(n);!A&&this.localCache[n]===i||this.notifyListeners(n,i)},s=this.storage.getItem(n);Eb()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Wb):r()}notifyListeners(e,A){this.localCache[e]=A;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,A,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:A,newValue:n}),!0)})},zb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,A){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(A)}_removeListener(e,A){this.listeners[e]&&(this.listeners[e].delete(A),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,A){await super._set(e,A),this.localCache[e]=JSON.stringify(A)}async _get(e){const A=await super._get(e);return this.localCache[e]=JSON.stringify(A),A}async _remove(e){await super._remove(e),delete this.localCache[e]}}BE.type="LOCAL";const Xb=BE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends wE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,A){}_removeListener(e,A){}}mE.type="SESSION";const yE=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(A){return{fulfilled:!1,reason:A}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const A=this.receivers.find(r=>r.isListeningto(e));if(A)return A;const n=new Su(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const A=e,{eventId:n,eventType:r,data:s}=A.data,i=this.handlersMap[r];if(!(i!=null&&i.size))return;A.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(i).map(async l=>l(A.origin,s)),a=await Yb(o);A.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,A){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(A)}_unsubscribe(e,A){this.handlersMap[e]&&A&&this.handlersMap[e].delete(A),(!A||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Su.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t="",e=10){let A="";for(let n=0;n<e;n++)A+=Math.floor(Math.random()*10);return t+A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,A,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((o,a)=>{const l=vg("",20);r.port1.start();const d=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(c){const u=c;if(u.data.eventId===l)switch(u.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(u.data.response);break;default:clearTimeout(d),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:A},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return window}function Jb(t){cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}async function Zb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qb(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function eT(){return vE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="firebaseLocalStorageDb",tT=1,Hc="firebaseLocalStorage",EE="fbase_key";class Ea{constructor(e){this.request=e}toPromise(){return new Promise((e,A)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{A(this.request.error)})})}}function bu(t,e){return t.transaction([Hc],e?"readwrite":"readonly").objectStore(Hc)}function AT(){const t=indexedDB.deleteDatabase(CE);return new Ea(t).toPromise()}function vh(){const t=indexedDB.open(CE,tT);return new Promise((e,A)=>{t.addEventListener("error",()=>{A(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Hc,{keyPath:EE})}catch(r){A(r)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Hc)?e(n):(n.close(),await AT(),e(await vh()))})})}async function dm(t,e,A){const n=bu(t,!0).put({[EE]:e,value:A});return new Ea(n).toPromise()}async function nT(t,e){const A=bu(t,!1).get(e),n=await new Ea(A).toPromise();return n===void 0?null:n.value}function fm(t,e){const A=bu(t,!0).delete(e);return new Ea(A).toPromise()}const rT=800,sT=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vh(),this.db)}async _withRetries(e){let A=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(A++>sT)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Su._getInstance(eT()),this.receiver._subscribe("keyChanged",async(e,A)=>({keyProcessed:(await this._poll()).includes(A.key)})),this.receiver._subscribe("ping",async(e,A)=>["keyChanged"])}async initializeSender(){var A,n;if(this.activeServiceWorker=await Zb(),!this.activeServiceWorker)return;this.sender=new $b(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(A=e[0])!=null&&A.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vh();return await dm(e,Nc,"1"),await fm(e,Nc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,A){return this._withPendingWrite(async()=>(await this._withRetries(n=>dm(n,e,A)),this.localCache[e]=A,this.notifyServiceWorker(e)))}async _get(e){const A=await this._withRetries(n=>nT(n,e));return this.localCache[e]=A,A}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(A=>fm(A,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=bu(r,!1).getAll();return new Ea(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const A=[],n=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),A.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),A.push(r));return A}notifyListeners(e,A){this.localCache[e]=A;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(A)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,A){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(A)}_removeListener(e,A){this.listeners[e]&&(this.listeners[e].delete(A),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const iT=_E;new va(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e){return e?In(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends pE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ni(e,this._buildIdpRequest())}_linkToIdToken(e,A){return ni(e,this._buildIdpRequest(A))}_getReauthenticationResolver(e){return ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const A={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(A.idToken=e),A}}function oT(t){return Mb(t.auth,new Cg(t),t.bypassAuthState)}function aT(t){const{auth:e,user:A}=t;return re(A,e,"internal-error"),Ob(A,new Cg(t),t.bypassAuthState)}async function lT(t){const{auth:e,user:A}=t;return re(A,e,"internal-error"),Pb(A,new Cg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,A,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(A)?A:[A]}execute(){return new Promise(async(e,A)=>{this.pendingPromise={resolve:e,reject:A};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:A,sessionId:n,postBody:r,tenantId:s,error:i,type:o}=e;if(i){this.reject(i);return}const a={auth:this.auth,requestUri:A,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oT;case"linkViaPopup":case"linkViaRedirect":return lT;case"reauthViaPopup":case"reauthViaRedirect":return aT;default:un(this.auth,"internal-error")}}resolve(e){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new va(2e3,1e4);async function uT(t,e,A){if(MA(t.app))return Promise.reject(WA(t,"operation-not-supported-in-this-environment"));const n=xu(t);sb(t,e,yg);const r=FE(n,A);return new Xr(n,"signInViaPopup",e,r).executeNotNull()}class Xr extends QE{constructor(e,A,n,r,s){super(e,A,r,s),this.provider=n,this.authWindow=null,this.pollId=null,Xr.currentPopupAction&&Xr.currentPopupAction.cancel(),Xr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Pn(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(A=>{this.reject(A)}),this.resolver._isIframeWebStorageSupported(this.auth,A=>{A||this.reject(WA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(WA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var A,n;if((n=(A=this.authWindow)==null?void 0:A.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(WA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cT.get())};e()}}Xr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="pendingRedirect",Wl=new Map;class fT extends QE{constructor(e,A,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],A,void 0,n),this.eventId=null}async execute(){let e=Wl.get(this.auth._key());if(!e){try{const n=await hT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(A){e=()=>Promise.reject(A)}Wl.set(this.auth._key(),e)}return this.bypassAuthState||Wl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const A=await this.auth._redirectUserForId(e.eventId);if(A)return this.user=A,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hT(t,e){const A=wT(e),n=gT(t);if(!await n._isAvailable())return!1;const r=await n._get(A)==="true";return await n._remove(A),r}function pT(t,e){Wl.set(t._key(),e)}function gT(t){return In(t._redirectPersistence)}function wT(t){return zl(dT,t.config.apiKey,t.name)}async function BT(t,e,A=!1){if(MA(t.app))return Promise.reject(es(t));const n=xu(t),r=FE(n,e),i=await new fT(n,r,A).execute();return i&&!A&&(delete i.user._redirectEventId,await n._persistUserIfCurrent(i.user),await n._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=10*60*1e3;class yT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let A=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(A=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vT(e)||(this.hasHandledPotentialRedirect=!0,A||(this.queuedRedirectEvent=e,A=!0)),A}sendToConsumer(e,A){var n;if(e.error&&!UE(e)){const r=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";A.onError(WA(this.auth,r))}else A.onAuthEvent(e)}isEventForConsumer(e,A){const n=A.eventId===null||!!e.eventId&&e.eventId===A.eventId;return A.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mT&&this.cachedEventUids.clear(),this.cachedEventUids.has(hm(e))}saveEventToCache(e){this.cachedEventUids.add(hm(e)),this.lastProcessedEventTime=Date.now()}}function hm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vT(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(t,e={}){return Ti(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_T=/^https?/;async function FT(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CT(t);for(const A of e)try{if(QT(A))return}catch{}un(t,"unauthorized-domain")}function QT(t){const e=mh(),{protocol:A,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&n===""?A==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):A==="chrome-extension:"&&i.hostname===n}if(!_T.test(A))return!1;if(ET.test(t))return n===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new va(3e4,6e4);function pm(){const t=cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let A=0;A<t.CP.length;A++)t.CP[A]=null}}function IT(t){return new Promise((e,A)=>{var r,s,i;function n(){pm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pm(),A(WA(t,"network-request-failed"))},timeout:UT.get()})}if((s=(r=cn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=cn().gapi)!=null&&i.load)n();else{const o=Tb("iframefcb");return cn()[o]=()=>{gapi.load?n():A(WA(t,"network-request-failed"))},Sb(`${bb()}?onload=${o}`).catch(a=>A(a))}}).catch(e=>{throw Xl=null,e})}let Xl=null;function xT(t){return Xl=Xl||IT(t),Xl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new va(5e3,15e3),bT="__/auth/iframe",TT="emulator/auth/iframe",DT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HT(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const A=e.emulator?pg(e,TT):`https://${t.config.authDomain}/${bT}`,n={apiKey:e.apiKey,appName:t.name,v:bi},r=NT.get(t.config.apiHost);r&&(n.eid=r);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${A}?${Si(n).slice(1)}`}async function kT(t){const e=await xT(t),A=cn().gapi;return re(A,t,"internal-error"),e.open({where:document.body,url:HT(t),messageHandlersFilter:A.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DT,dontclear:!0},n=>new Promise(async(r,s)=>{await n.restyle({setHideOnLeave:!1});const i=WA(t,"network-request-failed"),o=cn().setTimeout(()=>{s(i)},ST.get());function a(){cn().clearTimeout(o),r(n)}n.ping(a).then(a,()=>{s(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RT=500,PT=600,OT="_blank",MT="http://localhost";class gm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KT(t,e,A,n=RT,r=PT){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),i=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const a={...LT,width:n.toString(),height:r.toString(),top:s,left:i},l=Wt().toLowerCase();A&&(o=oE(l)?OT:A),sE(l)&&(e=e||MT,a.scrollbars="yes");const d=Object.entries(a).reduce((u,[p,w])=>`${u}${p}=${w},`,"");if(Cb(l)&&o!=="_self")return VT(e||"",o),new gm(null);const c=window.open(e||"",o,d);re(c,t,"popup-blocked");try{c.focus()}catch{}return new gm(c)}function VT(t,e){const A=document.createElement("a");A.href=t,A.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),A.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__/auth/handler",jT="emulator/auth/handler",zT=encodeURIComponent("fac");async function wm(t,e,A,n,r,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:A,redirectUrl:n,v:bi,eventId:r};if(e instanceof yg){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",fh(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,c]of Object.entries({}))i[d]=c}if(e instanceof Ca){const d=e.getScopes().filter(c=>c!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const o=i;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const a=await t._getAppCheckToken(),l=a?`#${zT}=${encodeURIComponent(a)}`:"";return`${WT(t)}?${Si(o).slice(1)}${l}`}function WT({config:t}){return t.emulator?pg(t,jT):`https://${t.authDomain}/${GT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class XT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yE,this._completeRedirectFn=BT,this._overrideRedirectResult=pT}async _openPopup(e,A,n,r){var i;Pn((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await wm(e,A,n,mh(),r);return KT(e,s,vg())}async _openRedirect(e,A,n,r){await this._originValidation(e);const s=await wm(e,A,n,mh(),r);return Jb(s),new Promise(()=>{})}_initialize(e){const A=e._key();if(this.eventManagers[A]){const{manager:r,promise:s}=this.eventManagers[A];return r?Promise.resolve(r):(Pn(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[A]={promise:n},n.catch(()=>{delete this.eventManagers[A]}),n}async initAndGetManager(e){const A=await kT(e),n=new yT(e);return A.register("authEvent",r=>(re(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=A,n}_isIframeWebStorageSupported(e,A){this.iframes[e._key()].send(Vd,{type:Vd},r=>{var i;const s=(i=r==null?void 0:r[0])==null?void 0:i[Vd];s!==void 0&&A(!!s),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const A=e._key();return this.originValidationPromises[A]||(this.originValidationPromises[A]=FT(e)),this.originValidationPromises[A]}get _shouldInitProactively(){return dE()||iE()||Bg()}}const YT=XT;var Bm="@firebase/auth",mm="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const A=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,A),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const A=this.internalListeners.get(e);A&&(this.internalListeners.delete(e),A(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZT(t){gi(new ls("auth",(e,{options:A})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=n.options;re(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:i,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fE(t)},l=new Ib(n,r,s,a);return Nb(l,A),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,A,n)=>{e.getProvider("auth-internal").initialize()})),gi(new ls("auth-internal",e=>{const A=xu(e.getProvider("auth").getImmediate());return(n=>new $T(n))(A)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(Bm,mm,JT(t)),vr(Bm,mm,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=5*60,eD=MC("authIdTokenMaxAge")||qT;let ym=null;const tD=t=>async e=>{const A=e&&await e.getIdTokenResult(),n=A&&(new Date().getTime()-Date.parse(A.issuedAtTime))/1e3;if(n&&n>eD)return;const r=A==null?void 0:A.token;ym!==r&&(ym=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function AD(t=YC()){const e=dg(t,"auth");if(e.isInitialized())return e.getImmediate();const A=Db(t,{popupRedirectResolver:YT,persistence:[iT,Xb,yE]}),n=MC("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const i=tD(s.toString());Vb(A,i,()=>i(A.currentUser)),Kb(A,o=>i(o))}}const r=PC("auth");return r&&Hb(A,`http://${r}`),A}function nD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}xb({loadJS(t){return new Promise((e,A)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=r=>{const s=WA("internal-error");s.customData=r,A(s)},n.type="text/javascript",n.charset="UTF-8",nD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZT("Browser");var vm={};const Cm="@firebase/database",Em="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IE="";function rD(t){IE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,A){A==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),vt(A))}get(e){const A=this.domStorage_.getItem(this.prefixedName_(e));return A==null?null:ta(A)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,A){A==null?delete this.cache_[e]:this.cache_[e]=A}get(e){return hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sD(e)}}catch{}return new iD},Yr=xE("localStorage"),oD=xE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new cg("@firebase/database"),aD=function(){let t=1;return function(){return t++}}(),SE=function(t){const e=zS(t),A=new KS;A.update(e);const n=A.digest();return og.encodeByteArray(n)},_a=function(...t){let e="";for(let A=0;A<t.length;A++){const n=t[A];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=_a.apply(null,n):typeof n=="object"?e+=vt(n):e+=n,e+=" "}return e};let Uo=null,_m=!0;const lD=function(t,e){O(!0,"Can't turn on custom loggers persistently."),ri.logLevel=Le.VERBOSE,Uo=ri.log.bind(ri)},Ft=function(...t){if(_m===!0&&(_m=!1,Uo===null&&oD.get("logging_enabled")===!0&&lD()),Uo){const e=_a.apply(null,t);Uo(e)}},Fa=function(t){return function(...e){Ft(t,...e)}},Ch=function(...t){const e="FIREBASE INTERNAL ERROR: "+_a(...t);ri.error(e)},On=function(...t){const e=`FIREBASE FATAL ERROR: ${_a(...t)}`;throw ri.error(e),new Error(e)},zt=function(...t){const e="FIREBASE WARNING: "+_a(...t);ri.warn(e)},cD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Eg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},uD=function(t){if(document.readyState==="complete")t();else{let e=!1;const A=function(){if(!document.body){setTimeout(A,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",A,!1),window.addEventListener("load",A,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&A()}),window.attachEvent("onload",A))}},Bi="[MIN_NAME]",us="[MAX_NAME]",Bs=function(t,e){if(t===e)return 0;if(t===Bi||e===us)return-1;if(e===Bi||t===us)return 1;{const A=Fm(t),n=Fm(e);return A!==null?n!==null?A-n===0?t.length-e.length:A-n:-1:n!==null?1:t<e?-1:1}},dD=function(t,e){return t===e?0:t<e?-1:1},Yi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+vt(e))},_g=function(t){if(typeof t!="object"||t===null)return vt(t);const e=[];for(const n in t)e.push(n);e.sort();let A="{";for(let n=0;n<e.length;n++)n!==0&&(A+=","),A+=vt(e[n]),A+=":",A+=_g(t[e[n]]);return A+="}",A},bE=function(t,e){const A=t.length;if(A<=e)return[t];const n=[];for(let r=0;r<A;r+=e)r+e>A?n.push(t.substring(r,A)):n.push(t.substring(r,r+e));return n};function xt(t,e){for(const A in t)t.hasOwnProperty(A)&&e(A,t[A])}const TE=function(t){O(!Eg(t),"Invalid JSON number");const e=11,A=52,n=(1<<e-1)-1;let r,s,i,o,a;t===0?(s=0,i=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),n),s=o+n,i=Math.round(t*Math.pow(2,A-o)-Math.pow(2,A))):(s=0,i=Math.round(t/Math.pow(2,1-n-A))));const l=[];for(a=A;a;a-=1)l.push(i%2?1:0),i=Math.floor(i/2);for(a=e;a;a-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(r?1:0),l.reverse();const d=l.join("");let c="";for(a=0;a<64;a+=8){let u=parseInt(d.substr(a,8),2).toString(16);u.length===1&&(u="0"+u),c=c+u}return c.toLowerCase()},fD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function pD(t,e){let A="Unknown Error";t==="too_big"?A="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?A="Client doesn't have permission to access the desired data.":t==="unavailable"&&(A="The service is unavailable");const n=new Error(t+" at "+e._path.toString()+": "+A);return n.code=t.toUpperCase(),n}const gD=new RegExp("^-?(0*)\\d{1,10}$"),wD=-2147483648,BD=2147483647,Fm=function(t){if(gD.test(t)){const e=Number(t);if(e>=wD&&e<=BD)return e}return null},Di=function(t){try{t()}catch(e){setTimeout(()=>{const A=e.stack||"";throw zt("Exception was thrown by user callback.",A),e},Math.floor(0))}},mD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Io=function(t,e){const A=setTimeout(t,e);return typeof A=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(A):typeof A=="object"&&A.unref&&A.unref(),A};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,A){this.appCheckProvider=A,this.appName=e.name,MA(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=A==null?void 0:A.getImmediate({optional:!0}),this.appCheck||A==null||A.get().then(n=>this.appCheck=n)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((A,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(A,n):A(null)},0)})}addTokenChangeListener(e){var A;(A=this.appCheckProvider)==null||A.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){zt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,A,n){this.appName_=e,this.firebaseOptions_=A,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(A=>A&&A.code==="auth/token-not-initialized"?(Ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(A)):new Promise((A,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(A,n):A(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(A=>A.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(A=>A.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zt(e)}}class Yl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Yl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="5",DE="v",NE="s",HE="r",kE="f",LE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,RE="ls",PE="p",Eh="ac",OE="websocket",ME="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,A,n,r,s=!1,i="",o=!1,a=!1,l=null){this.secure=A,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",A=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${A}`}}function CD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function VE(t,e,A){O(typeof e=="string","typeof type must == string"),O(typeof A=="object","typeof params must == object");let n;if(e===OE)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ME)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);CD(t)&&(A.ns=t.namespace);const r=[];return xt(A,(s,i)=>{r.push(s+"="+i)}),n+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.counters_={}}incrementCounter(e,A=1){hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=A}get(){return vS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd={},jd={};function Qg(t){const e=t.toString();return Gd[e]||(Gd[e]=new ED),Gd[e]}function _D(t,e){const A=t.toString();return jd[A]||(jd[A]=e()),jd[A]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,A){this.closeAfterResponse=e,this.onClose=A,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,A){for(this.pendingResponses[e]=A;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&Di(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="start",QD="close",UD="pLPCommand",ID="pRTLPCB",GE="id",jE="pw",zE="ser",xD="cb",SD="seg",bD="ts",TD="d",DD="dframe",WE=1870,XE=30,ND=WE-XE,HD=25e3,kD=3e4;class Ws{constructor(e,A,n,r,s,i,o){this.connId=e,this.repoInfo=A,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.transportSessionId=i,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fa(e),this.stats_=Qg(A),this.urlFn=a=>(this.appCheckToken&&(a[Eh]=this.appCheckToken),VE(A,ME,a))}open(e,A){this.curSegmentNum=0,this.onDisconnect_=A,this.myPacketOrderer=new FD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kD)),uD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ug((...s)=>{const[i,o,a,l,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,i===Qm)this.id=o,this.password=a;else if(i===QD)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+i)},(...s)=>{const[i,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(i,o)},()=>{this.onClosed_()},this.urlFn);const n={};n[Qm]="t",n[zE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[xD]=this.scriptTagHolder.uniqueCallbackIdentifier),n[DE]=Fg,this.transportSessionId&&(n[NE]=this.transportSessionId),this.lastSessionId&&(n[RE]=this.lastSessionId),this.applicationId&&(n[PE]=this.applicationId),this.appCheckToken&&(n[Eh]=this.appCheckToken),typeof location<"u"&&location.hostname&&LE.test(location.hostname)&&(n[HE]=kE);const r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ws.forceAllow_=!0}static forceDisallow(){Ws.forceDisallow_=!0}static isAvailable(){return Ws.forceAllow_?!0:!Ws.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fD()&&!hD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const A=vt(e);this.bytesSent+=A.length,this.stats_.incrementCounter("bytes_sent",A.length);const n=LC(A),r=bE(n,ND);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,A){this.myDisconnFrame=document.createElement("iframe");const n={};n[DD]="t",n[GE]=e,n[jE]=A,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const A=vt(e).length;this.bytesReceived+=A,this.stats_.incrementCounter("bytes_received",A)}}class Ug{constructor(e,A,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=aD(),window[UD+this.uniqueCallbackIdentifier]=e,window[ID+this.uniqueCallbackIdentifier]=A,this.myIFrame=Ug.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const i="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(o){Ft("frame writing exception"),o.stack&&Ft(o.stack),Ft(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ft("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,A){for(this.myID=e,this.myPW=A,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[GE]=this.myID,e[jE]=this.myPW,e[zE]=this.currentSerial;let A=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+XE+n.length<=WE;){const i=this.pendingSegs.shift();n=n+"&"+SD+r+"="+i.seg+"&"+bD+r+"="+i.ts+"&"+TD+r+"="+i.d,r++}return A=A+n,this.addLongPollTag_(A,this.currentSerial),!0}else return!1}enqueueSegment(e,A,n){this.pendingSegs.push({seg:e,ts:A,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,A){this.outstandingRequests.add(A);const n=()=>{this.outstandingRequests.delete(A),this.newRequest_()},r=setTimeout(n,Math.floor(HD)),s=()=>{clearTimeout(r),n()};this.addTag(e,s)}addTag(e,A){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const r=n.readyState;(!r||r==="loaded"||r==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),A())},n.onerror=()=>{Ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=16384,RD=45e3;let kc=null;typeof MozWebSocket<"u"?kc=MozWebSocket:typeof WebSocket<"u"&&(kc=WebSocket);class KA{constructor(e,A,n,r,s,i,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fa(this.connId),this.stats_=Qg(A),this.connURL=KA.connectionURL_(A,i,o,r,n),this.nodeAdmin=A.nodeAdmin}static connectionURL_(e,A,n,r,s){const i={};return i[DE]=Fg,typeof location<"u"&&location.hostname&&LE.test(location.hostname)&&(i[HE]=kE),A&&(i[NE]=A),n&&(i[RE]=n),r&&(i[Eh]=r),s&&(i[PE]=s),VE(e,OE,i)}open(e,A){this.onDisconnect=A,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yr.set("previous_websocket_failure",!0);try{let n;NS(),this.mySock=new kc(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const r=n.message||n.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const r=n.message||n.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){KA.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const A=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(A);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&kc!==null&&!KA.forceDisallow_}static previouslyFailed(){return Yr.isInMemoryStorage||Yr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const A=this.frames.join("");this.frames=null;const n=ta(A);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const A=Number(e);if(!isNaN(A))return this.handleNewFrameCount_(A),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const A=e.data;if(this.bytesReceived+=A.length,this.stats_.incrementCounter("bytes_received",A.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(A);else{const n=this.extractFrameCount_(A);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const A=vt(e);this.bytesSent+=A.length,this.stats_.incrementCounter("bytes_sent",A.length);const n=bE(A,LD);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(RD))}sendString_(e){try{this.mySock.send(e)}catch(A){this.log_("Exception thrown from WebSocket.send():",A.message||A.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}KA.responsesRequiredToBeHealthy=2;KA.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{static get ALL_TRANSPORTS(){return[Ws,KA]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const A=KA&&KA.isAvailable();let n=A&&!KA.previouslyFailed();if(e.webSocketOnly&&(A||zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[KA];else{const r=this.transports_=[];for(const s of ra.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);ra.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ra.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=6e4,OD=5e3,MD=10*1024,KD=100*1024,zd="t",Um="d",VD="s",Im="r",GD="e",xm="o",Sm="a",bm="n",Tm="p",jD="h";class zD{constructor(e,A,n,r,s,i,o,a,l,d){this.id=e,this.repoInfo_=A,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=i,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fa("c:"+this.id+":"),this.transportManager_=new ra(A),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const A=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(A,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Io(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>KD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>MD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return A=>{e===this.conn_?this.onConnectionLost_(A):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return A=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(A):e===this.secondaryConn_?this.onSecondaryMessageReceived_(A):this.log_("message on old connection"))}}sendRequest(e){const A={t:"d",d:e};this.sendData_(A)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(zd in e){const A=e[zd];A===Sm?this.upgradeIfSecondaryHealthy_():A===Im?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):A===xm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const A=Yi("t",e),n=Yi("d",e);if(A==="c")this.onSecondaryControl_(n);else if(A==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+A)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Tm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Sm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const A=Yi("t",e),n=Yi("d",e);A==="c"?this.onControl_(n):A==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const A=Yi(zd,e);if(Um in e){const n=e[Um];if(A===jD){const r={...n};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(A===bm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else A===VD?this.onConnectionShutdown_(n):A===Im?this.onReset_(n):A===GD?Ch("Server Error: "+n):A===xm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ch("Unknown control packet command: "+A)}}onHandshake_(e){const A=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,A),Fg!==n&&zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const A=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(A,n),Io(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,A){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(A,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Io(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(OD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Tm,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{put(e,A,n,r){}merge(e,A,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,A,n){}onDisconnectMerge(e,A,n){}onDisconnectCancel(e,A){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...A){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,A)}}on(e,A,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:A,context:n});const r=this.getInitialEvent(e);r&&A.apply(n,r)}off(e,A,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===A&&(!n||n===r[s].context)){r.splice(s,1);return}}validateEventType_(e){O(this.allowedEvents_.find(A=>A===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends $E{static getInstance(){return new Lc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=32,Nm=768;class Pe{constructor(e,A){if(A===void 0){this.pieces_=e.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=A}toString(){let e="";for(let A=this.pieceNum_;A<this.pieces_.length;A++)this.pieces_[A]!==""&&(e+="/"+this.pieces_[A]);return e||"/"}}function Se(){return new Pe("")}function pe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ur(t){return t.pieces_.length-t.pieceNum_}function Ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Pe(t.pieces_,e)}function Ig(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function WD(t){let e="";for(let A=t.pieceNum_;A<t.pieces_.length;A++)t.pieces_[A]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[A])));return e||"/"}function sa(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function JE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let A=t.pieceNum_;A<t.pieces_.length-1;A++)e.push(t.pieces_[A]);return new Pe(e,0)}function tt(t,e){const A=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)A.push(t.pieces_[n]);if(e instanceof Pe)for(let n=e.pieceNum_;n<e.pieces_.length;n++)A.push(e.pieces_[n]);else{const n=e.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&A.push(n[r])}return new Pe(A,0)}function me(t){return t.pieceNum_>=t.pieces_.length}function tA(t,e){const A=pe(t),n=pe(e);if(A===null)return e;if(A===n)return tA(Ve(t),Ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function XD(t,e){const A=sa(t,0),n=sa(e,0);for(let r=0;r<A.length&&r<n.length;r++){const s=Bs(A[r],n[r]);if(s!==0)return s}return A.length===n.length?0:A.length<n.length?-1:1}function xg(t,e){if(Ur(t)!==Ur(e))return!1;for(let A=t.pieceNum_,n=e.pieceNum_;A<=t.pieces_.length;A++,n++)if(t.pieces_[A]!==e.pieces_[n])return!1;return!0}function QA(t,e){let A=t.pieceNum_,n=e.pieceNum_;if(Ur(t)>Ur(e))return!1;for(;A<t.pieces_.length;){if(t.pieces_[A]!==e.pieces_[n])return!1;++A,++n}return!0}class YD{constructor(e,A){this.errorPrefix_=A,this.parts_=sa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Iu(this.parts_[n]);ZE(this)}}function $D(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Iu(e),ZE(t)}function JD(t){const e=t.parts_.pop();t.byteLength_-=Iu(e),t.parts_.length>0&&(t.byteLength_-=1)}function ZE(t){if(t.byteLength_>Nm)throw new Error(t.errorPrefix_+"has a key path longer than "+Nm+" bytes ("+t.byteLength_+").");if(t.parts_.length>Dm)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dm+") or object contains a cycle "+Vr(t))}function Vr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends $E{static getInstance(){return new Sg}constructor(){super(["visible"]);let e,A;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(A="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(A="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(A="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(A="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,A&&document.addEventListener(A,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=1e3,ZD=60*5*1e3,Hm=30*1e3,qD=1.3,eN=3e4,tN="server_kill",km=3;class bn extends YE{constructor(e,A,n,r,s,i,o,a){if(super(),this.repoInfo_=e,this.applicationId_=A,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=bn.nextPersistentConnectionId_++,this.log_=Fa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$i,this.maxReconnectDelay_=ZD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Lc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,A,n){const r=++this.requestNumber_,s={r,a:e,b:A};this.log_(vt(s)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const A=new ma,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:i=>{const o=i.d;i.s==="ok"?A.resolve(o):A.reject(o)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),A.promise}listen(e,A,n,r){this.initConnection_();const s=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+s),this.listens.has(i)||this.listens.set(i,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(i).has(s),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:A,query:e,tag:n};this.listens.get(i).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const A=this.outstandingGets_[e];this.sendRequest("g",A.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),A.onComplete&&A.onComplete(n)})}sendListen_(e){const A=e.query,n=A._path.toString(),r=A._queryIdentifier;this.log_("Listen on "+n+" for "+r);const s={p:n},i="q";e.tag&&(s.q=A._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(i,s,o=>{const a=o.d,l=o.s;bn.warnOnListenWarnings_(a,A),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",o),l!=="ok"&&this.removeListen_(n,r),e.onComplete&&e.onComplete(l,a))})}static warnOnListenWarnings_(e,A){if(e&&typeof e=="object"&&hn(e,"w")){const n=pi(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const r='".indexOn": "'+A._queryParams.getIndex().toString()+'"',s=A._path.toString();zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||MS(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,A=OS(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(A,n,r=>{const s=r.s,i=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const A=e.s,n=e.d||"error";A==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(A,n)})}unlisten(e,A){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,A)}sendUnlisten_(e,A,n,r){this.log_("Unlisten on "+e+" for "+A);const s={p:e},i="n";r&&(s.q=n,s.t=r),this.sendRequest(i,s)}onDisconnectPut(e,A,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,A,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:A,onComplete:n})}onDisconnectMerge(e,A,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,A,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:A,onComplete:n})}onDisconnectCancel(e,A){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,A):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:A})}sendOnDisconnect_(e,A,n,r){const s={p:A,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,i=>{r&&setTimeout(()=>{r(i.s,i.d)},Math.floor(0))})}put(e,A,n,r){this.putInternal("p",e,A,n,r)}merge(e,A,n,r){this.putInternal("m",e,A,n,r)}putInternal(e,A,n,r,s){this.initConnection_();const i={p:A,d:n};s!==void 0&&(i.h=s),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+A)}sendPut_(e){const A=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(A,n,s=>{this.log_(A+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const A={c:e};this.log_("reportStats",A),this.sendRequest("s",A,n=>{if(n.s!=="ok"){const s=n.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+vt(e));const A=e.r,n=this.requestCBHash_[A];n&&(delete this.requestCBHash_[A],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,A){this.log_("handleServerMessage",e,A),e==="d"?this.onDataUpdate_(A.p,A.d,!1,A.t):e==="m"?this.onDataUpdate_(A.p,A.d,!0,A.t):e==="c"?this.onListenRevoked_(A.p,A.q):e==="ac"?this.onAuthRevoked_(A.s,A.d):e==="apc"?this.onAppCheckRevoked_(A.s,A.d):e==="sd"?this.onSecurityDebugPacket_(A):Ch("Unrecognized action received from server: "+vt(e)+`
Are you using the latest client?`)}onReady_(e,A){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=A,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>eN&&(this.reconnectDelay_=$i),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let A=Math.max(0,this.reconnectDelay_-e);A=Math.random()*A,this.log_("Trying to reconnect in "+A+"ms"),this.scheduleConnect_(A),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),A=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+bn.nextConnectionId_++,s=this.lastSessionId;let i=!1,o=null;const a=function(){o?o.close():(i=!0,n())},l=function(c){O(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(c)};this.realtime_={close:a,sendRequest:l};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,u]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);i?Ft("getToken() completed but was canceled"):(Ft("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=u&&u.token,o=new zD(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,A,n,p=>{zt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(tN)},s))}catch(c){this.log_("Failed to get token: "+c),i||(this.repoInfo_.nodeAdmin&&zt(c),a())}}}interrupt(e){Ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],fh(this.interruptReasons_)&&(this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const A=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:A})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const A=this.outstandingPuts_[e];A&&"h"in A.request&&A.queued&&(A.onComplete&&A.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,A){let n;A?n=A.map(s=>_g(s)).join("$"):n="default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,A){const n=new Pe(e).toString();let r;if(this.listens.has(n)){const s=this.listens.get(n);r=s.get(A),s.delete(A),s.size===0&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,A){Ft("Auth token revoked: "+e+"/"+A),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=km&&(this.reconnectDelay_=Hm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,A){Ft("App check token revoked: "+e+"/"+A),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=km&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const A of e.values())this.sendListen_(A);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let A="js";e["sdk."+A+"."+IE.replace(/\./g,"-")]=1,lg()?e["framework.cordova"]=1:GC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Lc.getInstance().currentlyOnline();return fh(this.interruptReasons_)&&e}}bn.nextPersistentConnectionId_=0;bn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,A){this.name=e,this.node=A}static Wrap(e,A){return new ge(e,A)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,A){const n=new ge(Bi,e),r=new ge(Bi,A);return this.compare(n,r)!==0}minPost(){return ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl;class qE extends Tu{static get __EMPTY_NODE(){return sl}static set __EMPTY_NODE(e){sl=e}compare(e,A){return Bs(e.name,A.name)}isDefinedOn(e){throw Ii("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,A){return!1}minPost(){return ge.MIN}maxPost(){return new ge(us,sl)}makePost(e,A){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new ge(e,sl)}toString(){return".key"}}const si=new qE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,A,n,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(e=e,i=A?n(e.key,A):1,r&&(i*=-1),i<0)this.isReverse_?e=e.left:e=e.right;else if(i===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),A;if(this.resultGenerator_?A=this.resultGenerator_(e.key,e.value):A={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return A}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class mt{constructor(e,A,n,r,s){this.key=e,this.value=A,this.color=n??mt.RED,this.left=r??AA.EMPTY_NODE,this.right=s??AA.EMPTY_NODE}copy(e,A,n,r,s){return new mt(e??this.key,A??this.value,n??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,A,n){let r=this;const s=n(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,A,n),null):s===0?r=r.copy(null,A,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,A,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return AA.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,A){let n,r;if(n=this,A(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,A),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),A(e,n.key)===0){if(n.right.isEmpty())return AA.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,A))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),A=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,A)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}mt.RED=!0;mt.BLACK=!1;class AN{copy(e,A,n,r,s){return this}insert(e,A,n){return new mt(e,A,null)}remove(e,A){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class AA{constructor(e,A=AA.EMPTY_NODE){this.comparator_=e,this.root_=A}insert(e,A){return new AA(this.comparator_,this.root_.insert(e,A,this.comparator_).copy(null,null,mt.BLACK,null,null))}remove(e){return new AA(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,mt.BLACK,null,null))}get(e){let A,n=this.root_;for(;!n.isEmpty();){if(A=this.comparator_(e,n.key),A===0)return n.value;A<0?n=n.left:A>0&&(n=n.right)}return null}getPredecessorKey(e){let A,n=this.root_,r=null;for(;!n.isEmpty();)if(A=this.comparator_(e,n.key),A===0){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else A<0?n=n.left:A>0&&(r=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new il(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,A){return new il(this.root_,e,this.comparator_,!1,A)}getReverseIteratorFrom(e,A){return new il(this.root_,e,this.comparator_,!0,A)}getReverseIterator(e){return new il(this.root_,null,this.comparator_,!0,e)}}AA.EMPTY_NODE=new AN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t,e){return Bs(t.name,e.name)}function bg(t,e){return Bs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h;function rN(t){_h=t}const e_=function(t){return typeof t=="number"?"number:"+TE(t):"string:"+t},t_=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hn(e,".sv"),"Priority must be a string or number.")}else O(t===_h||t.isEmpty(),"priority of unexpected type.");O(t===_h||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm;class wt{static set __childrenNodeConstructor(e){Lm=e}static get __childrenNodeConstructor(){return Lm}constructor(e,A=wt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=A,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),t_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new wt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:wt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:pe(e)===".priority"?this.priorityNode_:wt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,A){return null}updateImmediateChild(e,A){return e===".priority"?this.updatePriority(A):A.isEmpty()&&e!==".priority"?this:wt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,A).updatePriority(this.priorityNode_)}updateChild(e,A){const n=pe(e);return n===null?A:A.isEmpty()&&n!==".priority"?this:(O(n!==".priority"||Ur(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,wt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(e),A)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,A){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+e_(this.priorityNode_.val())+":");const A=typeof this.value_;e+=A+":",A==="number"?e+=TE(this.value_):e+=this.value_,this.lazyHash_=SE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===wt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof wt.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const A=typeof e.value_,n=typeof this.value_,r=wt.VALUE_TYPE_ORDER.indexOf(A),s=wt.VALUE_TYPE_ORDER.indexOf(n);return O(r>=0,"Unknown leaf type: "+A),O(s>=0,"Unknown leaf type: "+n),r===s?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const A=e;return this.value_===A.value_&&this.priorityNode_.equals(A.priorityNode_)}else return!1}}wt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A_,n_;function sN(t){A_=t}function iN(t){n_=t}class oN extends Tu{compare(e,A){const n=e.node.getPriority(),r=A.node.getPriority(),s=n.compareTo(r);return s===0?Bs(e.name,A.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,A){return!e.getPriority().equals(A.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(us,new wt("[PRIORITY-POST]",n_))}makePost(e,A){const n=A_(e);return new ge(A,new wt("[PRIORITY-POST]",n))}toString(){return".priority"}}const At=new oN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=Math.log(2);class lN{constructor(e){const A=s=>parseInt(Math.log(s)/aN,10),n=s=>parseInt(Array(s+1).join("1"),2);this.count=A(e+1),this.current_=this.count-1;const r=n(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rc=function(t,e,A,n){t.sort(e);const r=function(a,l){const d=l-a;let c,u;if(d===0)return null;if(d===1)return c=t[a],u=A?A(c):c,new mt(u,c.node,mt.BLACK,null,null);{const p=parseInt(d/2,10)+a,w=r(a,p),m=r(p+1,l);return c=t[p],u=A?A(c):c,new mt(u,c.node,mt.BLACK,w,m)}},s=function(a){let l=null,d=null,c=t.length;const u=function(w,m){const I=c-w,B=c;c-=w;const h=r(I+1,B),g=t[I],v=A?A(g):g;p(new mt(v,g.node,m,null,h))},p=function(w){l?(l.left=w,l=w):(d=w,l=w)};for(let w=0;w<a.count;++w){const m=a.nextBitIsOne(),I=Math.pow(2,a.count-(w+1));m?u(I,mt.BLACK):(u(I,mt.BLACK),u(I,mt.RED))}return d},i=new lN(t.length),o=s(i);return new AA(n||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd;const _s={};class xn{static get Default(){return O(_s&&At,"ChildrenNode.ts has not been loaded"),Wd=Wd||new xn({".priority":_s},{".priority":At}),Wd}constructor(e,A){this.indexes_=e,this.indexSet_=A}get(e){const A=pi(this.indexes_,e);if(!A)throw new Error("No index defined for "+e);return A instanceof AA?A:null}hasIndex(e){return hn(this.indexSet_,e.toString())}addIndex(e,A){O(e!==si,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const s=A.getIterator(ge.Wrap);let i=s.getNext();for(;i;)r=r||e.isDefinedOn(i.node),n.push(i),i=s.getNext();let o;r?o=Rc(n,e.getCompare()):o=_s;const a=e.toString(),l={...this.indexSet_};l[a]=e;const d={...this.indexes_};return d[a]=o,new xn(d,l)}addToIndexes(e,A){const n=Ic(this.indexes_,(r,s)=>{const i=pi(this.indexSet_,s);if(O(i,"Missing index implementation for "+s),r===_s)if(i.isDefinedOn(e.node)){const o=[],a=A.getIterator(ge.Wrap);let l=a.getNext();for(;l;)l.name!==e.name&&o.push(l),l=a.getNext();return o.push(e),Rc(o,i.getCompare())}else return _s;else{const o=A.get(e.name);let a=r;return o&&(a=a.remove(new ge(e.name,o))),a.insert(e,e.node)}});return new xn(n,this.indexSet_)}removeFromIndexes(e,A){const n=Ic(this.indexes_,r=>{if(r===_s)return r;{const s=A.get(e.name);return s?r.remove(new ge(e.name,s)):r}});return new xn(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ji;class Ae{static get EMPTY_NODE(){return Ji||(Ji=new Ae(new AA(bg),null,xn.Default))}constructor(e,A,n){this.children_=e,this.priorityNode_=A,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&t_(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ji}updatePriority(e){return this.children_.isEmpty()?this:new Ae(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const A=this.children_.get(e);return A===null?Ji:A}}getChild(e){const A=pe(e);return A===null?this:this.getImmediateChild(A).getChild(Ve(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,A){if(O(A,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(A);{const n=new ge(e,A);let r,s;A.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,A),s=this.indexMap_.addToIndexes(n,this.children_));const i=r.isEmpty()?Ji:this.priorityNode_;return new Ae(r,i,s)}}updateChild(e,A){const n=pe(e);if(n===null)return A;{O(pe(e)!==".priority"||Ur(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Ve(e),A);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const A={};let n=0,r=0,s=!0;if(this.forEachChild(At,(i,o)=>{A[i]=o.val(e),n++,s&&Ae.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):s=!1}),!e&&s&&r<2*n){const i=[];for(const o in A)i[o]=A[o];return i}else return e&&!this.getPriority().isEmpty()&&(A[".priority"]=this.getPriority().val()),A}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+e_(this.getPriority().val())+":"),this.forEachChild(At,(A,n)=>{const r=n.hash();r!==""&&(e+=":"+A+":"+r)}),this.lazyHash_=e===""?"":SE(e)}return this.lazyHash_}getPredecessorChildName(e,A,n){const r=this.resolveIndex_(n);if(r){const s=r.getPredecessorKey(new ge(e,A));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const A=this.resolveIndex_(e);if(A){const n=A.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const A=this.getFirstChildName(e);return A?new ge(A,this.children_.get(A)):null}getLastChildName(e){const A=this.resolveIndex_(e);if(A){const n=A.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const A=this.getLastChildName(e);return A?new ge(A,this.children_.get(A)):null}forEachChild(e,A){const n=this.resolveIndex_(e);return n?n.inorderTraversal(r=>A(r.name,r.node)):this.children_.inorderTraversal(A)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,A){const n=this.resolveIndex_(A);if(n)return n.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ge.Wrap);let s=r.peek();for(;s!=null&&A.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,A){const n=this.resolveIndex_(A);if(n)return n.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ge.Wrap);let s=r.peek();for(;s!=null&&A.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qa?-1:0}withIndex(e){if(e===si||this.indexMap_.hasIndex(e))return this;{const A=this.indexMap_.addIndex(e,this.children_);return new Ae(this.children_,this.priorityNode_,A)}}isIndexed(e){return e===si||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const A=e;if(this.getPriority().equals(A.getPriority()))if(this.children_.count()===A.children_.count()){const n=this.getIterator(At),r=A.getIterator(At);let s=n.getNext(),i=r.getNext();for(;s&&i;){if(s.name!==i.name||!s.node.equals(i.node))return!1;s=n.getNext(),i=r.getNext()}return s===null&&i===null}else return!1;else return!1}}resolveIndex_(e){return e===si?null:this.indexMap_.get(e.toString())}}Ae.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class cN extends Ae{constructor(){super(new AA(bg),Ae.EMPTY_NODE,xn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ae.EMPTY_NODE}isEmpty(){return!1}}const Qa=new cN;Object.defineProperties(ge,{MIN:{value:new ge(Bi,Ae.EMPTY_NODE)},MAX:{value:new ge(us,Qa)}});qE.__EMPTY_NODE=Ae.EMPTY_NODE;wt.__childrenNodeConstructor=Ae;rN(Qa);iN(Qa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=!0;function yt(t,e=null){if(t===null)return Ae.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const A=t;return new wt(A,yt(e))}if(!(t instanceof Array)&&uN){const A=[];let n=!1;if(xt(t,(i,o)=>{if(i.substring(0,1)!=="."){const a=yt(o);a.isEmpty()||(n=n||!a.getPriority().isEmpty(),A.push(new ge(i,a)))}}),A.length===0)return Ae.EMPTY_NODE;const s=Rc(A,nN,i=>i.name,bg);if(n){const i=Rc(A,At.getCompare());return new Ae(s,yt(e),new xn({".priority":i},{".priority":At}))}else return new Ae(s,yt(e),xn.Default)}else{let A=Ae.EMPTY_NODE;return xt(t,(n,r)=>{if(hn(t,n)&&n.substring(0,1)!=="."){const s=yt(r);(s.isLeafNode()||!s.isEmpty())&&(A=A.updateImmediateChild(n,s))}}),A.updatePriority(yt(e))}}sN(yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN extends Tu{constructor(e){super(),this.indexPath_=e,O(!me(e)&&pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,A){const n=this.extractChild(e.node),r=this.extractChild(A.node),s=n.compareTo(r);return s===0?Bs(e.name,A.name):s}makePost(e,A){const n=yt(e),r=Ae.EMPTY_NODE.updateChild(this.indexPath_,n);return new ge(A,r)}maxPost(){const e=Ae.EMPTY_NODE.updateChild(this.indexPath_,Qa);return new ge(us,e)}toString(){return sa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends Tu{compare(e,A){const n=e.node.compareTo(A.node);return n===0?Bs(e.name,A.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,A){return!e.equals(A)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(e,A){const n=yt(e);return new ge(A,n)}toString(){return".value"}}const hN=new fN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){return{type:"value",snapshotNode:t}}function mi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ia(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function oa(t,e,A){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:A}}function pN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.index_=e}updateChild(e,A,n,r,s,i){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(A);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()||(i!=null&&(n.isEmpty()?e.hasChild(A)?i.trackChildChange(ia(A,o)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?i.trackChildChange(mi(A,n)):i.trackChildChange(oa(A,n,o))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(A,n).withIndex(this.index_)}updateFullNode(e,A,n){return n!=null&&(e.isLeafNode()||e.forEachChild(At,(r,s)=>{A.hasChild(r)||n.trackChildChange(ia(r,s))}),A.isLeafNode()||A.forEachChild(At,(r,s)=>{if(e.hasChild(r)){const i=e.getImmediateChild(r);i.equals(s)||n.trackChildChange(oa(r,s,i))}else n.trackChildChange(mi(r,s))})),A.withIndex(this.index_)}updatePriority(e,A){return e.isEmpty()?Ae.EMPTY_NODE:e.updatePriority(A)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.indexedFilter_=new Tg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=aa.getStartPost_(e),this.endPost_=aa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const A=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return A&&n}updateChild(e,A,n,r,s,i){return this.matches(new ge(A,n))||(n=Ae.EMPTY_NODE),this.indexedFilter_.updateChild(e,A,n,r,s,i)}updateFullNode(e,A,n){A.isLeafNode()&&(A=Ae.EMPTY_NODE);let r=A.withIndex(this.index_);r=r.updatePriority(Ae.EMPTY_NODE);const s=this;return A.forEachChild(At,(i,o)=>{s.matches(new ge(i,o))||(r=r.updateImmediateChild(i,Ae.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,A){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const A=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),A)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const A=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),A)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.withinDirectionalStart=A=>this.reverse_?this.withinEndPost(A):this.withinStartPost(A),this.withinDirectionalEnd=A=>this.reverse_?this.withinStartPost(A):this.withinEndPost(A),this.withinStartPost=A=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),A);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=A=>{const n=this.index_.compare(A,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new aa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,A,n,r,s,i){return this.rangedFilter_.matches(new ge(A,n))||(n=Ae.EMPTY_NODE),e.getImmediateChild(A).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,A,n,r,s,i):this.fullLimitUpdateChild_(e,A,n,s,i)}updateFullNode(e,A,n){let r;if(A.isLeafNode()||A.isEmpty())r=Ae.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<A.numChildren()&&A.isIndexed(this.index_)){r=Ae.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=A.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=A.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let i=0;for(;s.hasNext()&&i<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))r=r.updateImmediateChild(o.name,o.node),i++;else break;else continue}}else{r=A.withIndex(this.index_),r=r.updatePriority(Ae.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let i=0;for(;s.hasNext();){const o=s.getNext();i<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?i++:r=r.updateImmediateChild(o.name,Ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,A){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,A,n,r,s){let i;if(this.reverse_){const c=this.index_.getCompare();i=(u,p)=>c(p,u)}else i=this.index_.getCompare();const o=e;O(o.numChildren()===this.limit_,"");const a=new ge(A,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(o.hasChild(A)){const c=o.getImmediateChild(A);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;u!=null&&(u.name===A||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const p=u==null?1:i(u,a);if(d&&!n.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(oa(A,n,c)),o.updateImmediateChild(A,n);{s!=null&&s.trackChildChange(ia(A,c));const m=o.updateImmediateChild(A,Ae.EMPTY_NODE);return u!=null&&this.rangedFilter_.matches(u)?(s!=null&&s.trackChildChange(mi(u.name,u.node)),m.updateImmediateChild(u.name,u.node)):m}}else return n.isEmpty()?e:d&&i(l,a)>=0?(s!=null&&(s.trackChildChange(ia(l.name,l.node)),s.trackChildChange(mi(A,n))),o.updateImmediateChild(A,n).updateImmediateChild(l.name,Ae.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=At}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bi}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===At}copy(){const e=new Dg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wN(t){return t.loadsAllData()?new Tg(t.getIndex()):t.hasLimit()?new gN(t):new aa(t)}function Rm(t){const e={};if(t.isDefault())return e;let A;if(t.index_===At?A="$priority":t.index_===hN?A="$value":t.index_===si?A="$key":(O(t.index_ instanceof dN,"Unrecognized index type!"),A=t.index_.toString()),e.orderBy=vt(A),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=vt(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+vt(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=vt(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+vt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Pm(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let A=t.viewFrom_;A===""&&(t.isViewFromLeft()?A="l":A="r"),e.vf=A}return t.index_!==At&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends YE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,A){return A!==void 0?"tag$"+A:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,A,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=A,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Fa("p:rest:"),this.listens_={}}listen(e,A,n,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const i=Pc.getListenId_(e,n),o={};this.listens_[i]=o;const a=Rm(e._queryParams);this.restRequest_(s+".json",a,(l,d)=>{let c=d;if(l===404&&(c=null,l=null),l===null&&this.onDataUpdate_(s,c,!1,n),pi(this.listens_,i)===o){let u;l?l===401?u="permission_denied":u="rest_error:"+l:u="ok",r(u,null)}})}unlisten(e,A){const n=Pc.getListenId_(e,A);delete this.listens_[n]}get(e){const A=Rm(e._queryParams),n=e._path.toString(),r=new ma;return this.restRequest_(n+".json",A,(s,i)=>{let o=i;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(n,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(e){}restRequest_(e,A={},n){return A.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(A.auth=r.accessToken),s&&s.token&&(A.ac=s.token);const i=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Si(A);this.log_("Sending REST request for "+i);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&o.readyState===4){this.log_("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);let a=null;if(o.status>=200&&o.status<300){try{a=ta(o.responseText)}catch{zt("Failed to parse JSON response for "+i+": "+o.responseText)}n(null,a)}else o.status!==401&&o.status!==404&&zt("Got unsuccessful REST response for "+i+" Status: "+o.status),n(o.status);n=null}},o.open("GET",i,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.rootNode_=Ae.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,A){this.rootNode_=this.rootNode_.updateChild(e,A)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(){return{value:null,children:new Map}}function s_(t,e,A){if(me(e))t.value=A,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,A);else{const n=pe(e);t.children.has(n)||t.children.set(n,Oc());const r=t.children.get(n);e=Ve(e),s_(r,e,A)}}function Fh(t,e,A){t.value!==null?A(e,t.value):mN(t,(n,r)=>{const s=new Pe(e.toString()+"/"+n);Fh(r,s,A)})}function mN(t,e){t.children.forEach((A,n)=>{e(n,A)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),A={...e};return this.last_&&xt(this.last_,(n,r)=>{A[n]=A[n]-r}),this.last_=e,A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=10*1e3,vN=30*1e3,CN=5*60*1e3;class EN{constructor(e,A){this.server_=A,this.statsToReport_={},this.statsListener_=new yN(e);const n=Om+(vN-Om)*Math.random();Io(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),A={};let n=!1;xt(e,(r,s)=>{s>0&&hn(this.statsToReport_,r)&&(A[r]=s,n=!0)}),n&&this.server_.reportStats(A),Io(this.reportStats_.bind(this),Math.floor(Math.random()*2*CN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GA;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(GA||(GA={}));function Ng(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,A,n){this.path=e,this.affectedTree=A,this.revert=n,this.type=GA.ACK_USER_WRITE,this.source=Ng()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const A=this.affectedTree.subtree(new Pe(e));return new Mc(Se(),A,this.revert)}}else return O(pe(this.path)===e,"operationForChild called for unrelated child."),new Mc(Ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,A){this.source=e,this.path=A,this.type=GA.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new la(this.source,Se()):new la(this.source,Ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,A,n){this.source=e,this.path=A,this.snap=n,this.type=GA.OVERWRITE}operationForChild(e){return me(this.path)?new ds(this.source,Se(),this.snap.getImmediateChild(e)):new ds(this.source,Ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,A,n){this.source=e,this.path=A,this.children=n,this.type=GA.MERGE}operationForChild(e){if(me(this.path)){const A=this.children.subtree(new Pe(e));return A.isEmpty()?null:A.value?new ds(this.source,Se(),A.value):new yi(this.source,Se(),A)}else return O(pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yi(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,A,n){this.node_=e,this.fullyInitialized_=A,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const A=pe(e);return this.isCompleteForChild(A)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function FN(t,e,A,n){const r=[],s=[];return e.forEach(i=>{i.type==="child_changed"&&t.index_.indexedValueChanged(i.oldSnap,i.snapshotNode)&&s.push(pN(i.childName,i.snapshotNode))}),Zi(t,r,"child_removed",e,n,A),Zi(t,r,"child_added",e,n,A),Zi(t,r,"child_moved",s,n,A),Zi(t,r,"child_changed",e,n,A),Zi(t,r,"value",e,n,A),r}function Zi(t,e,A,n,r,s){const i=n.filter(o=>o.type===A);i.sort((o,a)=>UN(t,o,a)),i.forEach(o=>{const a=QN(t,o,s);r.forEach(l=>{l.respondsTo(o.type)&&e.push(l.createEvent(a,t.query_))})})}function QN(t,e,A){return e.type==="value"||e.type==="child_removed"||(e.prevName=A.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function UN(t,e,A){if(e.childName==null||A.childName==null)throw Ii("Should only compare child_ events.");const n=new ge(e.childName,e.snapshotNode),r=new ge(A.childName,A.snapshotNode);return t.index_.compare(n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t,e){return{eventCache:t,serverCache:e}}function xo(t,e,A,n){return Du(new fs(e,A,n),t.serverCache)}function i_(t,e,A,n){return Du(t.eventCache,new fs(e,A,n))}function Qh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function hs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd;const IN=()=>(Xd||(Xd=new AA(dD)),Xd);class Ke{static fromObject(e){let A=new Ke(null);return xt(e,(n,r)=>{A=A.set(new Pe(n),r)}),A}constructor(e,A=IN()){this.value=e,this.children=A}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,A){if(this.value!=null&&A(this.value))return{path:Se(),value:this.value};if(me(e))return null;{const n=pe(e),r=this.children.get(n);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Ve(e),A);return s!=null?{path:tt(new Pe(n),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const A=pe(e),n=this.children.get(A);return n!==null?n.subtree(Ve(e)):new Ke(null)}}set(e,A){if(me(e))return new Ke(A,this.children);{const n=pe(e),s=(this.children.get(n)||new Ke(null)).set(Ve(e),A),i=this.children.insert(n,s);return new Ke(this.value,i)}}remove(e){if(me(e))return this.children.isEmpty()?new Ke(null):new Ke(null,this.children);{const A=pe(e),n=this.children.get(A);if(n){const r=n.remove(Ve(e));let s;return r.isEmpty()?s=this.children.remove(A):s=this.children.insert(A,r),this.value===null&&s.isEmpty()?new Ke(null):new Ke(this.value,s)}else return this}}get(e){if(me(e))return this.value;{const A=pe(e),n=this.children.get(A);return n?n.get(Ve(e)):null}}setTree(e,A){if(me(e))return A;{const n=pe(e),s=(this.children.get(n)||new Ke(null)).setTree(Ve(e),A);let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),new Ke(this.value,i)}}fold(e){return this.fold_(Se(),e)}fold_(e,A){const n={};return this.children.inorderTraversal((r,s)=>{n[r]=s.fold_(tt(e,r),A)}),A(e,this.value,n)}findOnPath(e,A){return this.findOnPath_(e,Se(),A)}findOnPath_(e,A,n){const r=this.value?n(A,this.value):!1;if(r)return r;if(me(e))return null;{const s=pe(e),i=this.children.get(s);return i?i.findOnPath_(Ve(e),tt(A,s),n):null}}foreachOnPath(e,A){return this.foreachOnPath_(e,Se(),A)}foreachOnPath_(e,A,n){if(me(e))return this;{this.value&&n(A,this.value);const r=pe(e),s=this.children.get(r);return s?s.foreachOnPath_(Ve(e),tt(A,r),n):new Ke(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,A){this.children.inorderTraversal((n,r)=>{r.foreach_(tt(e,n),A)}),this.value&&A(e,this.value)}foreachChild(e){this.children.inorderTraversal((A,n)=>{n.value&&e(A,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.writeTree_=e}static empty(){return new XA(new Ke(null))}}function So(t,e,A){if(me(e))return new XA(new Ke(A));{const n=t.writeTree_.findRootMostValueAndPath(e);if(n!=null){const r=n.path;let s=n.value;const i=tA(r,e);return s=s.updateChild(i,A),new XA(t.writeTree_.set(r,s))}else{const r=new Ke(A),s=t.writeTree_.setTree(e,r);return new XA(s)}}}function Uh(t,e,A){let n=t;return xt(A,(r,s)=>{n=So(n,tt(e,r),s)}),n}function Mm(t,e){if(me(e))return XA.empty();{const A=t.writeTree_.setTree(e,new Ke(null));return new XA(A)}}function Ih(t,e){return ms(t,e)!=null}function ms(t,e){const A=t.writeTree_.findRootMostValueAndPath(e);return A!=null?t.writeTree_.get(A.path).getChild(tA(A.path,e)):null}function Km(t){const e=[],A=t.writeTree_.value;return A!=null?A.isLeafNode()||A.forEachChild(At,(n,r)=>{e.push(new ge(n,r))}):t.writeTree_.children.inorderTraversal((n,r)=>{r.value!=null&&e.push(new ge(n,r.value))}),e}function Cr(t,e){if(me(e))return t;{const A=ms(t,e);return A!=null?new XA(new Ke(A)):new XA(t.writeTree_.subtree(e))}}function xh(t){return t.writeTree_.isEmpty()}function vi(t,e){return o_(Se(),t.writeTree_,e)}function o_(t,e,A){if(e.value!=null)return A.updateChild(t,e.value);{let n=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(O(s.value!==null,"Priority writes must always be leaf nodes"),n=s.value):A=o_(tt(t,r),s,A)}),!A.getChild(t).isEmpty()&&n!==null&&(A=A.updateChild(tt(t,".priority"),n)),A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e){return u_(e,t)}function xN(t,e,A,n,r){O(n>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:A,writeId:n,visible:r}),r&&(t.visibleWrites=So(t.visibleWrites,e,A)),t.lastWriteId=n}function SN(t,e,A,n){O(n>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:A,writeId:n,visible:!0}),t.visibleWrites=Uh(t.visibleWrites,e,A),t.lastWriteId=n}function bN(t,e){for(let A=0;A<t.allWrites.length;A++){const n=t.allWrites[A];if(n.writeId===e)return n}return null}function TN(t,e){const A=t.allWrites.findIndex(o=>o.writeId===e);O(A>=0,"removeWrite called with nonexistent writeId.");const n=t.allWrites[A];t.allWrites.splice(A,1);let r=n.visible,s=!1,i=t.allWrites.length-1;for(;r&&i>=0;){const o=t.allWrites[i];o.visible&&(i>=A&&DN(o,n.path)?r=!1:QA(n.path,o.path)&&(s=!0)),i--}if(r){if(s)return NN(t),!0;if(n.snap)t.visibleWrites=Mm(t.visibleWrites,n.path);else{const o=n.children;xt(o,a=>{t.visibleWrites=Mm(t.visibleWrites,tt(n.path,a))})}return!0}else return!1}function DN(t,e){if(t.snap)return QA(t.path,e);for(const A in t.children)if(t.children.hasOwnProperty(A)&&QA(tt(t.path,A),e))return!0;return!1}function NN(t){t.visibleWrites=a_(t.allWrites,HN,Se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function HN(t){return t.visible}function a_(t,e,A){let n=XA.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const i=s.path;let o;if(s.snap)QA(A,i)?(o=tA(A,i),n=So(n,o,s.snap)):QA(i,A)&&(o=tA(i,A),n=So(n,Se(),s.snap.getChild(o)));else if(s.children){if(QA(A,i))o=tA(A,i),n=Uh(n,o,s.children);else if(QA(i,A))if(o=tA(i,A),me(o))n=Uh(n,Se(),s.children);else{const a=pi(s.children,pe(o));if(a){const l=a.getChild(Ve(o));n=So(n,Se(),l)}}}else throw Ii("WriteRecord should have .snap or .children")}}return n}function l_(t,e,A,n,r){if(!n&&!r){const s=ms(t.visibleWrites,e);if(s!=null)return s;{const i=Cr(t.visibleWrites,e);if(xh(i))return A;if(A==null&&!Ih(i,Se()))return null;{const o=A||Ae.EMPTY_NODE;return vi(i,o)}}}else{const s=Cr(t.visibleWrites,e);if(!r&&xh(s))return A;if(!r&&A==null&&!Ih(s,Se()))return null;{const i=function(l){return(l.visible||r)&&(!n||!~n.indexOf(l.writeId))&&(QA(l.path,e)||QA(e,l.path))},o=a_(t.allWrites,i,e),a=A||Ae.EMPTY_NODE;return vi(o,a)}}}function kN(t,e,A){let n=Ae.EMPTY_NODE;const r=ms(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(At,(s,i)=>{n=n.updateImmediateChild(s,i)}),n;if(A){const s=Cr(t.visibleWrites,e);return A.forEachChild(At,(i,o)=>{const a=vi(Cr(s,new Pe(i)),o);n=n.updateImmediateChild(i,a)}),Km(s).forEach(i=>{n=n.updateImmediateChild(i.name,i.node)}),n}else{const s=Cr(t.visibleWrites,e);return Km(s).forEach(i=>{n=n.updateImmediateChild(i.name,i.node)}),n}}function LN(t,e,A,n,r){O(n||r,"Either existingEventSnap or existingServerSnap must exist");const s=tt(e,A);if(Ih(t.visibleWrites,s))return null;{const i=Cr(t.visibleWrites,s);return xh(i)?r.getChild(A):vi(i,r.getChild(A))}}function RN(t,e,A,n){const r=tt(e,A),s=ms(t.visibleWrites,r);if(s!=null)return s;if(n.isCompleteForChild(A)){const i=Cr(t.visibleWrites,r);return vi(i,n.getNode().getImmediateChild(A))}else return null}function PN(t,e){return ms(t.visibleWrites,e)}function ON(t,e,A,n,r,s,i){let o;const a=Cr(t.visibleWrites,e),l=ms(a,Se());if(l!=null)o=l;else if(A!=null)o=vi(a,A);else return[];if(o=o.withIndex(i),!o.isEmpty()&&!o.isLeafNode()){const d=[],c=i.getCompare(),u=s?o.getReverseIteratorFrom(n,i):o.getIteratorFrom(n,i);let p=u.getNext();for(;p&&d.length<r;)c(p,n)!==0&&d.push(p),p=u.getNext();return d}else return[]}function MN(){return{visibleWrites:XA.empty(),allWrites:[],lastWriteId:-1}}function Kc(t,e,A,n){return l_(t.writeTree,t.treePath,e,A,n)}function Rg(t,e){return kN(t.writeTree,t.treePath,e)}function Vm(t,e,A,n){return LN(t.writeTree,t.treePath,e,A,n)}function Vc(t,e){return PN(t.writeTree,tt(t.treePath,e))}function KN(t,e,A,n,r,s){return ON(t.writeTree,t.treePath,e,A,n,r,s)}function Pg(t,e,A){return RN(t.writeTree,t.treePath,e,A)}function c_(t,e){return u_(tt(t.treePath,e),t.writeTree)}function u_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.changeMap=new Map}trackChildChange(e){const A=e.type,n=e.childName;O(A==="child_added"||A==="child_changed"||A==="child_removed","Only child changes supported for tracking"),O(n!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const s=r.type;if(A==="child_added"&&s==="child_removed")this.changeMap.set(n,oa(n,e.snapshotNode,r.snapshotNode));else if(A==="child_removed"&&s==="child_added")this.changeMap.delete(n);else if(A==="child_removed"&&s==="child_changed")this.changeMap.set(n,ia(n,r.oldSnap));else if(A==="child_changed"&&s==="child_added")this.changeMap.set(n,mi(n,e.snapshotNode));else if(A==="child_changed"&&s==="child_changed")this.changeMap.set(n,oa(n,e.snapshotNode,r.oldSnap));else throw Ii("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{getCompleteChild(e){return null}getChildAfterChild(e,A,n){return null}}const d_=new GN;class Og{constructor(e,A,n=null){this.writes_=e,this.viewCache_=A,this.optCompleteServerCache_=n}getCompleteChild(e){const A=this.viewCache_.eventCache;if(A.isCompleteForChild(e))return A.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new fs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pg(this.writes_,e,n)}}getChildAfterChild(e,A,n){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hs(this.viewCache_),s=KN(this.writes_,r,A,1,n,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){return{filter:t}}function zN(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function WN(t,e,A,n,r){const s=new VN;let i,o;if(A.type===GA.OVERWRITE){const l=A;l.source.fromUser?i=Sh(t,e,l.path,l.snap,n,r,s):(O(l.source.fromServer,"Unknown source."),o=l.source.tagged||e.serverCache.isFiltered()&&!me(l.path),i=Gc(t,e,l.path,l.snap,n,r,o,s))}else if(A.type===GA.MERGE){const l=A;l.source.fromUser?i=YN(t,e,l.path,l.children,n,r,s):(O(l.source.fromServer,"Unknown source."),o=l.source.tagged||e.serverCache.isFiltered(),i=bh(t,e,l.path,l.children,n,r,o,s))}else if(A.type===GA.ACK_USER_WRITE){const l=A;l.revert?i=ZN(t,e,l.path,n,r,s):i=$N(t,e,l.path,l.affectedTree,n,r,s)}else if(A.type===GA.LISTEN_COMPLETE)i=JN(t,e,A.path,n,s);else throw Ii("Unknown operation type: "+A.type);const a=s.getChanges();return XN(e,i,a),{viewCache:i,changes:a}}function XN(t,e,A){const n=e.eventCache;if(n.isFullyInitialized()){const r=n.getNode().isLeafNode()||n.getNode().isEmpty(),s=Qh(t);(A.length>0||!t.eventCache.isFullyInitialized()||r&&!n.getNode().equals(s)||!n.getNode().getPriority().equals(s.getPriority()))&&A.push(r_(Qh(e)))}}function f_(t,e,A,n,r,s){const i=e.eventCache;if(Vc(n,A)!=null)return e;{let o,a;if(me(A))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=hs(e),d=l instanceof Ae?l:Ae.EMPTY_NODE,c=Rg(n,d);o=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const l=Kc(n,hs(e));o=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{const l=pe(A);if(l===".priority"){O(Ur(A)===1,"Can't have a priority with additional path components");const d=i.getNode();a=e.serverCache.getNode();const c=Vm(n,A,d,a);c!=null?o=t.filter.updatePriority(d,c):o=i.getNode()}else{const d=Ve(A);let c;if(i.isCompleteForChild(l)){a=e.serverCache.getNode();const u=Vm(n,A,i.getNode(),a);u!=null?c=i.getNode().getImmediateChild(l).updateChild(d,u):c=i.getNode().getImmediateChild(l)}else c=Pg(n,l,e.serverCache);c!=null?o=t.filter.updateChild(i.getNode(),l,c,d,r,s):o=i.getNode()}}return xo(e,o,i.isFullyInitialized()||me(A),t.filter.filtersNodes())}}function Gc(t,e,A,n,r,s,i,o){const a=e.serverCache;let l;const d=i?t.filter:t.filter.getIndexedFilter();if(me(A))l=d.updateFullNode(a.getNode(),n,null);else if(d.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(A,n);l=d.updateFullNode(a.getNode(),p,null)}else{const p=pe(A);if(!a.isCompleteForPath(A)&&Ur(A)>1)return e;const w=Ve(A),I=a.getNode().getImmediateChild(p).updateChild(w,n);p===".priority"?l=d.updatePriority(a.getNode(),I):l=d.updateChild(a.getNode(),p,I,w,d_,null)}const c=i_(e,l,a.isFullyInitialized()||me(A),d.filtersNodes()),u=new Og(r,c,s);return f_(t,c,A,r,u,o)}function Sh(t,e,A,n,r,s,i){const o=e.eventCache;let a,l;const d=new Og(r,e,s);if(me(A))l=t.filter.updateFullNode(e.eventCache.getNode(),n,i),a=xo(e,l,!0,t.filter.filtersNodes());else{const c=pe(A);if(c===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),n),a=xo(e,l,o.isFullyInitialized(),o.isFiltered());else{const u=Ve(A),p=o.getNode().getImmediateChild(c);let w;if(me(u))w=n;else{const m=d.getCompleteChild(c);m!=null?Ig(u)===".priority"&&m.getChild(JE(u)).isEmpty()?w=m:w=m.updateChild(u,n):w=Ae.EMPTY_NODE}if(p.equals(w))a=e;else{const m=t.filter.updateChild(o.getNode(),c,w,u,d,i);a=xo(e,m,o.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Gm(t,e){return t.eventCache.isCompleteForChild(e)}function YN(t,e,A,n,r,s,i){let o=e;return n.foreach((a,l)=>{const d=tt(A,a);Gm(e,pe(d))&&(o=Sh(t,o,d,l,r,s,i))}),n.foreach((a,l)=>{const d=tt(A,a);Gm(e,pe(d))||(o=Sh(t,o,d,l,r,s,i))}),o}function jm(t,e,A){return A.foreach((n,r)=>{e=e.updateChild(n,r)}),e}function bh(t,e,A,n,r,s,i,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,l;me(A)?l=n:l=new Ke(null).setTree(A,n);const d=e.serverCache.getNode();return l.children.inorderTraversal((c,u)=>{if(d.hasChild(c)){const p=e.serverCache.getNode().getImmediateChild(c),w=jm(t,p,u);a=Gc(t,a,new Pe(c),w,r,s,i,o)}}),l.children.inorderTraversal((c,u)=>{const p=!e.serverCache.isCompleteForChild(c)&&u.value===null;if(!d.hasChild(c)&&!p){const w=e.serverCache.getNode().getImmediateChild(c),m=jm(t,w,u);a=Gc(t,a,new Pe(c),m,r,s,i,o)}}),a}function $N(t,e,A,n,r,s,i){if(Vc(r,A)!=null)return e;const o=e.serverCache.isFiltered(),a=e.serverCache;if(n.value!=null){if(me(A)&&a.isFullyInitialized()||a.isCompleteForPath(A))return Gc(t,e,A,a.getNode().getChild(A),r,s,o,i);if(me(A)){let l=new Ke(null);return a.getNode().forEachChild(si,(d,c)=>{l=l.set(new Pe(d),c)}),bh(t,e,A,l,r,s,o,i)}else return e}else{let l=new Ke(null);return n.foreach((d,c)=>{const u=tt(A,d);a.isCompleteForPath(u)&&(l=l.set(d,a.getNode().getChild(u)))}),bh(t,e,A,l,r,s,o,i)}}function JN(t,e,A,n,r){const s=e.serverCache,i=i_(e,s.getNode(),s.isFullyInitialized()||me(A),s.isFiltered());return f_(t,i,A,n,d_,r)}function ZN(t,e,A,n,r,s){let i;if(Vc(n,A)!=null)return e;{const o=new Og(n,e,r),a=e.eventCache.getNode();let l;if(me(A)||pe(A)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Kc(n,hs(e));else{const c=e.serverCache.getNode();O(c instanceof Ae,"serverChildren would be complete if leaf node"),d=Rg(n,c)}d=d,l=t.filter.updateFullNode(a,d,s)}else{const d=pe(A);let c=Pg(n,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=a.getImmediateChild(d)),c!=null?l=t.filter.updateChild(a,d,c,Ve(A),o,s):e.eventCache.getNode().hasChild(d)?l=t.filter.updateChild(a,d,Ae.EMPTY_NODE,Ve(A),o,s):l=a,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(i=Kc(n,hs(e)),i.isLeafNode()&&(l=t.filter.updateFullNode(l,i,s)))}return i=e.serverCache.isFullyInitialized()||Vc(n,Se())!=null,xo(e,l,i,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,A){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Tg(n.getIndex()),s=wN(n);this.processor_=jN(s);const i=A.serverCache,o=A.eventCache,a=r.updateFullNode(Ae.EMPTY_NODE,i.getNode(),null),l=s.updateFullNode(Ae.EMPTY_NODE,o.getNode(),null),d=new fs(a,i.isFullyInitialized(),r.filtersNodes()),c=new fs(l,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=Du(c,d),this.eventGenerator_=new _N(this.query_)}get query(){return this.query_}}function eH(t){return t.viewCache_.serverCache.getNode()}function tH(t,e){const A=hs(t.viewCache_);return A&&(t.query._queryParams.loadsAllData()||!me(e)&&!A.getImmediateChild(pe(e)).isEmpty())?A.getChild(e):null}function zm(t){return t.eventRegistrations_.length===0}function AH(t,e){t.eventRegistrations_.push(e)}function Wm(t,e,A){const n=[];if(A){O(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const i=s.createCancelEvent(A,r);i&&n.push(i)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const i=t.eventRegistrations_[s];if(!i.matches(e))r.push(i);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return n}function Xm(t,e,A,n){e.type===GA.MERGE&&e.source.queryId!==null&&(O(hs(t.viewCache_),"We should always have a full cache before handling merges"),O(Qh(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=WN(t.processor_,r,e,A,n);return zN(t.processor_,s.viewCache),O(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,h_(t,s.changes,s.viewCache.eventCache.getNode(),null)}function nH(t,e){const A=t.viewCache_.eventCache,n=[];return A.getNode().isLeafNode()||A.getNode().forEachChild(At,(s,i)=>{n.push(mi(s,i))}),A.isFullyInitialized()&&n.push(r_(A.getNode())),h_(t,n,A.getNode(),e)}function h_(t,e,A,n){const r=n?[n]:t.eventRegistrations_;return FN(t.eventGenerator_,e,A,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;class rH{constructor(){this.views=new Map}}function sH(t){O(!jc,"__referenceConstructor has already been defined"),jc=t}function iH(){return O(jc,"Reference.ts has not been loaded"),jc}function oH(t){return t.views.size===0}function Mg(t,e,A,n){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return O(s!=null,"SyncTree gave us an op for an invalid query."),Xm(s,e,A,n)}else{let s=[];for(const i of t.views.values())s=s.concat(Xm(i,e,A,n));return s}}function aH(t,e,A,n,r){const s=e._queryIdentifier,i=t.views.get(s);if(!i){let o=Kc(A,r?n:null),a=!1;o?a=!0:n instanceof Ae?(o=Rg(A,n),a=!1):(o=Ae.EMPTY_NODE,a=!1);const l=Du(new fs(o,a,!1),new fs(n,r,!1));return new qN(e,l)}return i}function lH(t,e,A,n,r,s){const i=aH(t,e,n,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,i),AH(i,A),nH(i,A)}function cH(t,e,A,n){const r=e._queryIdentifier,s=[];let i=[];const o=Ir(t);if(r==="default")for(const[a,l]of t.views.entries())i=i.concat(Wm(l,A,n)),zm(l)&&(t.views.delete(a),l.query._queryParams.loadsAllData()||s.push(l.query));else{const a=t.views.get(r);a&&(i=i.concat(Wm(a,A,n)),zm(a)&&(t.views.delete(r),a.query._queryParams.loadsAllData()||s.push(a.query)))}return o&&!Ir(t)&&s.push(new(iH())(e._repo,e._path)),{removed:s,events:i}}function p_(t){const e=[];for(const A of t.views.values())A.query._queryParams.loadsAllData()||e.push(A);return e}function ii(t,e){let A=null;for(const n of t.views.values())A=A||tH(n,e);return A}function g_(t,e){if(e._queryParams.loadsAllData())return Nu(t);{const n=e._queryIdentifier;return t.views.get(n)}}function w_(t,e){return g_(t,e)!=null}function Ir(t){return Nu(t)!=null}function Nu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;function uH(t){O(!zc,"__referenceConstructor has already been defined"),zc=t}function dH(){return O(zc,"Reference.ts has not been loaded"),zc}let fH=1;class Ym{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ke(null),this.pendingWriteTree_=MN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function B_(t,e,A,n,r){return xN(t.pendingWriteTree_,e,A,n,r),r?Ni(t,new ds(Ng(),e,A)):[]}function hH(t,e,A,n){SN(t.pendingWriteTree_,e,A,n);const r=Ke.fromObject(A);return Ni(t,new yi(Ng(),e,r))}function or(t,e,A=!1){const n=bN(t.pendingWriteTree_,e);if(TN(t.pendingWriteTree_,e)){let s=new Ke(null);return n.snap!=null?s=s.set(Se(),!0):xt(n.children,i=>{s=s.set(new Pe(i),!0)}),Ni(t,new Mc(n.path,s,A))}else return[]}function Hu(t,e,A){return Ni(t,new ds(Hg(),e,A))}function pH(t,e,A){const n=Ke.fromObject(A);return Ni(t,new yi(Hg(),e,n))}function gH(t,e){return Ni(t,new la(Hg(),e))}function wH(t,e,A){const n=Vg(t,A);if(n){const r=Gg(n),s=r.path,i=r.queryId,o=tA(s,e),a=new la(kg(i),o);return jg(t,s,a)}else return[]}function Th(t,e,A,n,r=!1){const s=e._path,i=t.syncPointTree_.get(s);let o=[];if(i&&(e._queryIdentifier==="default"||w_(i,e))){const a=cH(i,e,A,n);oH(i)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const l=a.removed;if(o=a.events,!r){const d=l.findIndex(u=>u._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(s,(u,p)=>Ir(p));if(d&&!c){const u=t.syncPointTree_.subtree(s);if(!u.isEmpty()){const p=yH(u);for(let w=0;w<p.length;++w){const m=p[w],I=m.query,B=v_(t,m);t.listenProvider_.startListening(bo(I),Wc(t,I),B.hashFn,B.onComplete)}}}!c&&l.length>0&&!n&&(d?t.listenProvider_.stopListening(bo(e),null):l.forEach(u=>{const p=t.queryToTagMap.get(ku(u));t.listenProvider_.stopListening(bo(u),p)}))}vH(t,l)}return o}function BH(t,e,A,n){const r=Vg(t,n);if(r!=null){const s=Gg(r),i=s.path,o=s.queryId,a=tA(i,e),l=new ds(kg(o),a,A);return jg(t,i,l)}else return[]}function mH(t,e,A,n){const r=Vg(t,n);if(r){const s=Gg(r),i=s.path,o=s.queryId,a=tA(i,e),l=Ke.fromObject(A),d=new yi(kg(o),a,l);return jg(t,i,d)}else return[]}function $m(t,e,A,n=!1){const r=e._path;let s=null,i=!1;t.syncPointTree_.foreachOnPath(r,(u,p)=>{const w=tA(u,r);s=s||ii(p,w),i=i||Ir(p)});let o=t.syncPointTree_.get(r);o?(i=i||Ir(o),s=s||ii(o,Se())):(o=new rH,t.syncPointTree_=t.syncPointTree_.set(r,o));let a;s!=null?a=!0:(a=!1,s=Ae.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((p,w)=>{const m=ii(w,Se());m&&(s=s.updateImmediateChild(p,m))}));const l=w_(o,e);if(!l&&!e._queryParams.loadsAllData()){const u=ku(e);O(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");const p=CH();t.queryToTagMap.set(u,p),t.tagToQueryMap.set(p,u)}const d=Lg(t.pendingWriteTree_,r);let c=lH(o,e,A,d,s,a);if(!l&&!i&&!n){const u=g_(o,e);c=c.concat(EH(t,e,u))}return c}function Kg(t,e,A){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(i,o)=>{const a=tA(i,e),l=ii(o,a);if(l)return l});return l_(r,e,s,A,!0)}function Ni(t,e){return m_(e,t.syncPointTree_,null,Lg(t.pendingWriteTree_,Se()))}function m_(t,e,A,n){if(me(t.path))return y_(t,e,A,n);{const r=e.get(Se());A==null&&r!=null&&(A=ii(r,Se()));let s=[];const i=pe(t.path),o=t.operationForChild(i),a=e.children.get(i);if(a&&o){const l=A?A.getImmediateChild(i):null,d=c_(n,i);s=s.concat(m_(o,a,l,d))}return r&&(s=s.concat(Mg(r,t,n,A))),s}}function y_(t,e,A,n){const r=e.get(Se());A==null&&r!=null&&(A=ii(r,Se()));let s=[];return e.children.inorderTraversal((i,o)=>{const a=A?A.getImmediateChild(i):null,l=c_(n,i),d=t.operationForChild(i);d&&(s=s.concat(y_(d,o,a,l)))}),r&&(s=s.concat(Mg(r,t,n,A))),s}function v_(t,e){const A=e.query,n=Wc(t,A);return{hashFn:()=>(eH(e)||Ae.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return n?wH(t,A._path,n):gH(t,A._path);{const s=pD(r,A);return Th(t,A,null,s)}}}}function Wc(t,e){const A=ku(e);return t.queryToTagMap.get(A)}function ku(t){return t._path.toString()+"$"+t._queryIdentifier}function Vg(t,e){return t.tagToQueryMap.get(e)}function Gg(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Pe(t.substr(0,e))}}function jg(t,e,A){const n=t.syncPointTree_.get(e);O(n,"Missing sync point for query tag that we're tracking");const r=Lg(t.pendingWriteTree_,e);return Mg(n,A,r,null)}function yH(t){return t.fold((e,A,n)=>{if(A&&Ir(A))return[Nu(A)];{let r=[];return A&&(r=p_(A)),xt(n,(s,i)=>{r=r.concat(i)}),r}})}function bo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(dH())(t._repo,t._path):t}function vH(t,e){for(let A=0;A<e.length;++A){const n=e[A];if(!n._queryParams.loadsAllData()){const r=ku(n),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function CH(){return fH++}function EH(t,e,A){const n=e._path,r=Wc(t,e),s=v_(t,A),i=t.listenProvider_.startListening(bo(e),r,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(n);if(r)O(!Ir(o.value),"If we're adding a query, it shouldn't be shadowed");else{const a=o.fold((l,d,c)=>{if(!me(l)&&d&&Ir(d))return[Nu(d).query];{let u=[];return d&&(u=u.concat(p_(d).map(p=>p.query))),xt(c,(p,w)=>{u=u.concat(w)}),u}});for(let l=0;l<a.length;++l){const d=a[l];t.listenProvider_.stopListening(bo(d),Wc(t,d))}}return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.node_=e}getImmediateChild(e){const A=this.node_.getImmediateChild(e);return new zg(A)}node(){return this.node_}}class Wg{constructor(e,A){this.syncTree_=e,this.path_=A}getImmediateChild(e){const A=tt(this.path_,e);return new Wg(this.syncTree_,A)}node(){return Kg(this.syncTree_,this.path_)}}const _H=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Jm=function(t,e,A){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return FH(t[".sv"],e,A);if(typeof t[".sv"]=="object")return QH(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},FH=function(t,e,A){switch(t){case"timestamp":return A.timestamp;default:O(!1,"Unexpected server value: "+t)}},QH=function(t,e,A){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const n=t.increment;typeof n!="number"&&O(!1,"Unexpected increment value: "+n);const r=e.node();if(O(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;const i=r.getValue();return typeof i!="number"?n:i+n},C_=function(t,e,A,n){return Xg(e,new Wg(A,t),n)},E_=function(t,e,A){return Xg(t,new zg(e),A)};function Xg(t,e,A){const n=t.getPriority().val(),r=Jm(n,e.getImmediateChild(".priority"),A);let s;if(t.isLeafNode()){const i=t,o=Jm(i.getValue(),e,A);return o!==i.getValue()||r!==i.getPriority().val()?new wt(o,yt(r)):t}else{const i=t;return s=i,r!==i.getPriority().val()&&(s=s.updatePriority(new wt(r))),i.forEachChild(At,(o,a)=>{const l=Xg(a,e.getImmediateChild(o),A);l!==a&&(s=s.updateImmediateChild(o,l))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e="",A=null,n={children:{},childCount:0}){this.name=e,this.parent=A,this.node=n}}function $g(t,e){let A=e instanceof Pe?e:new Pe(e),n=t,r=pe(A);for(;r!==null;){const s=pi(n.node.children,r)||{children:{},childCount:0};n=new Yg(r,n,s),A=Ve(A),r=pe(A)}return n}function Hi(t){return t.node.value}function __(t,e){t.node.value=e,Dh(t)}function F_(t){return t.node.childCount>0}function UH(t){return Hi(t)===void 0&&!F_(t)}function Lu(t,e){xt(t.node.children,(A,n)=>{e(new Yg(A,t,n))})}function Q_(t,e,A,n){A&&e(t),Lu(t,r=>{Q_(r,e,!0)})}function IH(t,e,A){let n=t.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function Ua(t){return new Pe(t.parent===null?t.name:Ua(t.parent)+"/"+t.name)}function Dh(t){t.parent!==null&&xH(t.parent,t.name,t)}function xH(t,e,A){const n=UH(A),r=hn(t.node.children,e);n&&r?(delete t.node.children[e],t.node.childCount--,Dh(t)):!n&&!r&&(t.node.children[e]=A.node,t.node.childCount++,Dh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH=/[\[\].#$\/\u0000-\u001F\u007F]/,bH=/[\[\].#$\u0000-\u001F\u007F]/,Yd=10*1024*1024,Jg=function(t){return typeof t=="string"&&t.length!==0&&!SH.test(t)},U_=function(t){return typeof t=="string"&&t.length!==0&&!bH.test(t)},TH=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),U_(t)},DH=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Eg(t)||t&&typeof t=="object"&&hn(t,".sv")},NH=function(t,e,A,n){Ru(Uu(t,"value"),e,A)},Ru=function(t,e,A){const n=A instanceof Pe?new YD(A,t):A;if(e===void 0)throw new Error(t+"contains undefined "+Vr(n));if(typeof e=="function")throw new Error(t+"contains a function "+Vr(n)+" with contents = "+e.toString());if(Eg(e))throw new Error(t+"contains "+e.toString()+" "+Vr(n));if(typeof e=="string"&&e.length>Yd/3&&Iu(e)>Yd)throw new Error(t+"contains a string greater than "+Yd+" utf8 bytes "+Vr(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(xt(e,(i,o)=>{if(i===".value")r=!0;else if(i!==".priority"&&i!==".sv"&&(s=!0,!Jg(i)))throw new Error(t+" contains an invalid key ("+i+") "+Vr(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$D(n,i),Ru(t,o,n),JD(n)}),r&&s)throw new Error(t+' contains ".value" child '+Vr(n)+" in addition to actual children.")}},HH=function(t,e){let A,n;for(A=0;A<e.length;A++){n=e[A];const s=sa(n);for(let i=0;i<s.length;i++)if(!(s[i]===".priority"&&i===s.length-1)){if(!Jg(s[i]))throw new Error(t+"contains an invalid key ("+s[i]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(XD);let r=null;for(A=0;A<e.length;A++){if(n=e[A],r!==null&&QA(r,n))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+n.toString());r=n}},kH=function(t,e,A,n){const r=Uu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];xt(e,(i,o)=>{const a=new Pe(i);if(Ru(r,o,tt(A,a)),Ig(a)===".priority"&&!DH(o))throw new Error(r+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),HH(r,s)},I_=function(t,e,A,n){if(!U_(A))throw new Error(Uu(t,e)+'was an invalid path = "'+A+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},LH=function(t,e,A,n){A&&(A=A.replace(/^\/*\.info(\/|$)/,"/")),I_(t,e,A)},x_=function(t,e){if(pe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},RH=function(t,e){const A=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Jg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||A.length!==0&&!TH(A))throw new Error(Uu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pu(t,e){let A=null;for(let n=0;n<e.length;n++){const r=e[n],s=r.getPath();A!==null&&!xg(s,A.path)&&(t.eventLists_.push(A),A=null),A===null&&(A={events:[],path:s}),A.events.push(r)}A&&t.eventLists_.push(A)}function S_(t,e,A){Pu(t,A),b_(t,n=>xg(n,e))}function $A(t,e,A){Pu(t,A),b_(t,n=>QA(n,e)||QA(e,n))}function b_(t,e){t.recursionDepth_++;let A=!0;for(let n=0;n<t.eventLists_.length;n++){const r=t.eventLists_[n];if(r){const s=r.path;e(s)?(OH(t.eventLists_[n]),t.eventLists_[n]=null):A=!1}}A&&(t.eventLists_=[]),t.recursionDepth_--}function OH(t){for(let e=0;e<t.events.length;e++){const A=t.events[e];if(A!==null){t.events[e]=null;const n=A.getEventRunner();Uo&&Ft("event: "+A.toString()),Di(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH="repo_interrupt",KH=25;class VH{constructor(e,A,n,r){this.repoInfo_=e,this.forceRestClient_=A,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new PH,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oc(),this.transactionQueueTree_=new Yg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function GH(t,e,A){if(t.stats_=Qg(t.repoInfo_),t.forceRestClient_||mD())t.server_=new Pc(t.repoInfo_,(n,r,s,i)=>{Zm(t,n,r,s,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>qm(t,!0),0);else{if(typeof A<"u"&&A!==null){if(typeof A!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{vt(A)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new bn(t.repoInfo_,e,(n,r,s,i)=>{Zm(t,n,r,s,i)},n=>{qm(t,n)},n=>{zH(t,n)},t.authTokenProvider_,t.appCheckProvider_,A),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=_D(t.repoInfo_,()=>new EN(t.stats_,t.server_)),t.infoData_=new BN,t.infoSyncTree_=new Ym({startListening:(n,r,s,i)=>{let o=[];const a=t.infoData_.getNode(n._path);return a.isEmpty()||(o=Hu(t.infoSyncTree_,n._path,a),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),Zg(t,"connected",!1),t.serverSyncTree_=new Ym({startListening:(n,r,s,i)=>(t.server_.listen(n,s,r,(o,a)=>{const l=i(o,a);$A(t.eventQueue_,n._path,l)}),[]),stopListening:(n,r)=>{t.server_.unlisten(n,r)}})}function jH(t){const A=t.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+A}function Ou(t){return _H({timestamp:jH(t)})}function Zm(t,e,A,n,r){t.dataUpdateCount++;const s=new Pe(e);A=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,A):A;let i=[];if(r)if(n){const a=Ic(A,l=>yt(l));i=mH(t.serverSyncTree_,s,a,r)}else{const a=yt(A);i=BH(t.serverSyncTree_,s,a,r)}else if(n){const a=Ic(A,l=>yt(l));i=pH(t.serverSyncTree_,s,a)}else{const a=yt(A);i=Hu(t.serverSyncTree_,s,a)}let o=s;i.length>0&&(o=Ci(t,s)),$A(t.eventQueue_,o,i)}function qm(t,e){Zg(t,"connected",e),e===!1&&YH(t)}function zH(t,e){xt(e,(A,n)=>{Zg(t,A,n)})}function Zg(t,e,A){const n=new Pe("/.info/"+e),r=yt(A);t.infoData_.updateSnapshot(n,r);const s=Hu(t.infoSyncTree_,n,r);$A(t.eventQueue_,n,s)}function qg(t){return t.nextWriteId_++}function WH(t,e,A,n,r){Mu(t,"set",{path:e.toString(),value:A,priority:n});const s=Ou(t),i=yt(A,n),o=Kg(t.serverSyncTree_,e),a=E_(i,o,s),l=qg(t),d=B_(t.serverSyncTree_,e,a,l,!0);Pu(t.eventQueue_,d),t.server_.put(e.toString(),i.val(!0),(u,p)=>{const w=u==="ok";w||zt("set at "+e+" failed: "+u);const m=or(t.serverSyncTree_,l,!w);$A(t.eventQueue_,e,m),Nh(t,r,u,p)});const c=tw(t,e);Ci(t,c),$A(t.eventQueue_,c,[])}function XH(t,e,A,n){Mu(t,"update",{path:e.toString(),value:A});let r=!0;const s=Ou(t),i={};if(xt(A,(o,a)=>{r=!1,i[o]=C_(tt(e,o),yt(a),t.serverSyncTree_,s)}),r)Ft("update() called with empty data.  Don't do anything."),Nh(t,n,"ok",void 0);else{const o=qg(t),a=hH(t.serverSyncTree_,e,i,o);Pu(t.eventQueue_,a),t.server_.merge(e.toString(),A,(l,d)=>{const c=l==="ok";c||zt("update at "+e+" failed: "+l);const u=or(t.serverSyncTree_,o,!c),p=u.length>0?Ci(t,e):e;$A(t.eventQueue_,p,u),Nh(t,n,l,d)}),xt(A,l=>{const d=tw(t,tt(e,l));Ci(t,d)}),$A(t.eventQueue_,e,[])}}function YH(t){Mu(t,"onDisconnectEvents");const e=Ou(t),A=Oc();Fh(t.onDisconnect_,Se(),(r,s)=>{const i=C_(r,s,t.serverSyncTree_,e);s_(A,r,i)});let n=[];Fh(A,Se(),(r,s)=>{n=n.concat(Hu(t.serverSyncTree_,r,s));const i=tw(t,r);Ci(t,i)}),t.onDisconnect_=Oc(),$A(t.eventQueue_,Se(),n)}function $H(t,e,A){let n;pe(e._path)===".info"?n=$m(t.infoSyncTree_,e,A):n=$m(t.serverSyncTree_,e,A),S_(t.eventQueue_,e._path,n)}function T_(t,e,A){let n;pe(e._path)===".info"?n=Th(t.infoSyncTree_,e,A):n=Th(t.serverSyncTree_,e,A),S_(t.eventQueue_,e._path,n)}function JH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(MH)}function Mu(t,...e){let A="";t.persistentConnection_&&(A=t.persistentConnection_.id+":"),Ft(A,...e)}function Nh(t,e,A,n){e&&Di(()=>{if(A==="ok")e(null);else{const r=(A||"error").toUpperCase();let s=r;n&&(s+=": "+n);const i=new Error(s);i.code=r,e(i)}})}function D_(t,e,A){return Kg(t.serverSyncTree_,e,A)||Ae.EMPTY_NODE}function ew(t,e=t.transactionQueueTree_){if(e||Ku(t,e),Hi(e)){const A=H_(t,e);O(A.length>0,"Sending zero length transaction queue"),A.every(r=>r.status===0)&&ZH(t,Ua(e),A)}else F_(e)&&Lu(e,A=>{ew(t,A)})}function ZH(t,e,A){const n=A.map(l=>l.currentWriteId),r=D_(t,e,n);let s=r;const i=r.hash();for(let l=0;l<A.length;l++){const d=A[l];O(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=tA(e,d.path);s=s.updateChild(c,d.currentOutputSnapshotRaw)}const o=s.val(!0),a=e;t.server_.put(a.toString(),o,l=>{Mu(t,"transaction put response",{path:a.toString(),status:l});let d=[];if(l==="ok"){const c=[];for(let u=0;u<A.length;u++)A[u].status=2,d=d.concat(or(t.serverSyncTree_,A[u].currentWriteId)),A[u].onComplete&&c.push(()=>A[u].onComplete(null,!0,A[u].currentOutputSnapshotResolved)),A[u].unwatcher();Ku(t,$g(t.transactionQueueTree_,e)),ew(t,t.transactionQueueTree_),$A(t.eventQueue_,e,d);for(let u=0;u<c.length;u++)Di(c[u])}else{if(l==="datastale")for(let c=0;c<A.length;c++)A[c].status===3?A[c].status=4:A[c].status=0;else{zt("transaction at "+a.toString()+" failed: "+l);for(let c=0;c<A.length;c++)A[c].status=4,A[c].abortReason=l}Ci(t,e)}},i)}function Ci(t,e){const A=N_(t,e),n=Ua(A),r=H_(t,A);return qH(t,r,n),n}function qH(t,e,A){if(e.length===0)return;const n=[];let r=[];const i=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const a=e[o],l=tA(A,a.path);let d=!1,c;if(O(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,c=a.abortReason,r=r.concat(or(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=KH)d=!0,c="maxretry",r=r.concat(or(t.serverSyncTree_,a.currentWriteId,!0));else{const u=D_(t,a.path,i);a.currentInputSnapshot=u;const p=e[o].update(u.val());if(p!==void 0){Ru("transaction failed: Data returned ",p,a.path);let w=yt(p);typeof p=="object"&&p!=null&&hn(p,".priority")||(w=w.updatePriority(u.getPriority()));const I=a.currentWriteId,B=Ou(t),h=E_(w,u,B);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=h,a.currentWriteId=qg(t),i.splice(i.indexOf(I),1),r=r.concat(B_(t.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),r=r.concat(or(t.serverSyncTree_,I,!0))}else d=!0,c="nodata",r=r.concat(or(t.serverSyncTree_,a.currentWriteId,!0))}$A(t.eventQueue_,A,r),r=[],d&&(e[o].status=2,function(u){setTimeout(u,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(c==="nodata"?n.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):n.push(()=>e[o].onComplete(new Error(c),!1,null))))}Ku(t,t.transactionQueueTree_);for(let o=0;o<n.length;o++)Di(n[o]);ew(t,t.transactionQueueTree_)}function N_(t,e){let A,n=t.transactionQueueTree_;for(A=pe(e);A!==null&&Hi(n)===void 0;)n=$g(n,A),e=Ve(e),A=pe(e);return n}function H_(t,e){const A=[];return k_(t,e,A),A.sort((n,r)=>n.order-r.order),A}function k_(t,e,A){const n=Hi(e);if(n)for(let r=0;r<n.length;r++)A.push(n[r]);Lu(e,r=>{k_(t,r,A)})}function Ku(t,e){const A=Hi(e);if(A){let n=0;for(let r=0;r<A.length;r++)A[r].status!==2&&(A[n]=A[r],n++);A.length=n,__(e,A.length>0?A:void 0)}Lu(e,n=>{Ku(t,n)})}function tw(t,e){const A=Ua(N_(t,e)),n=$g(t.transactionQueueTree_,e);return IH(n,r=>{$d(t,r)}),$d(t,n),Q_(n,r=>{$d(t,r)}),A}function $d(t,e){const A=Hi(e);if(A){const n=[];let r=[],s=-1;for(let i=0;i<A.length;i++)A[i].status===3||(A[i].status===1?(O(s===i-1,"All SENT items should be at beginning of queue."),s=i,A[i].status=3,A[i].abortReason="set"):(O(A[i].status===0,"Unexpected transaction status in abort"),A[i].unwatcher(),r=r.concat(or(t.serverSyncTree_,A[i].currentWriteId,!0)),A[i].onComplete&&n.push(A[i].onComplete.bind(null,new Error("set"),!1,null))));s===-1?__(e,void 0):A.length=s+1,$A(t.eventQueue_,Ua(e),r);for(let i=0;i<n.length;i++)Di(n[i])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t){let e="";const A=t.split("/");for(let n=0;n<A.length;n++)if(A[n].length>0){let r=A[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function tk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const A of t.split("&")){if(A.length===0)continue;const n=A.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):zt(`Invalid query segment '${A}' in query '${t}'`)}return e}const ey=function(t,e){const A=Ak(t),n=A.namespace;A.domain==="firebase.com"&&On(A.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&A.domain!=="localhost"&&On("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),A.secure||cD();const r=A.scheme==="ws"||A.scheme==="wss";return{repoInfo:new KE(A.host,A.secure,n,r,e,"",n!==A.subdomain),path:new Pe(A.pathString)}},Ak=function(t){let e="",A="",n="",r="",s="",i=!0,o="https",a=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(o=t.substring(0,l-1),t=t.substring(l+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(r=ek(t.substring(d,c)));const u=tk(t.substring(Math.min(t.length,c)));l=e.indexOf(":"),l>=0?(i=o==="https"||o==="wss",a=parseInt(e.substring(l+1),10)):l=e.length;const p=e.slice(0,l);if(p.toLowerCase()==="localhost")A="localhost";else if(p.split(".").length<=2)A=p;else{const w=e.indexOf(".");n=e.substring(0,w).toLowerCase(),A=e.substring(w+1),s=n}"ns"in u&&(s=u.ns)}return{host:e,port:a,domain:A,subdomain:n,secure:i,scheme:o,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,A,n,r){this.eventType=e,this.eventRegistration=A,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+vt(this.snapshot.exportVal())}}class rk{constructor(e,A,n){this.eventRegistration=e,this.error=A,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,A){this.snapshotCallback=e,this.cancelCallback=A}onValue(e,A){this.snapshotCallback.call(null,e,A)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,A,n,r){this._repo=e,this._path=A,this._queryParams=n,this._orderByCalled=r}get key(){return me(this._path)?null:Ig(this._path)}get ref(){return new Nr(this._repo,this._path)}get _queryIdentifier(){const e=Pm(this._queryParams),A=_g(e);return A==="{}"?"default":A}get _queryObject(){return Pm(this._queryParams)}isEqual(e){if(e=BA(e),!(e instanceof Aw))return!1;const A=this._repo===e._repo,n=xg(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return A&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+WD(this._path)}}class Nr extends Aw{constructor(e,A){super(e,A,new Dg,!1)}get parent(){const e=JE(this._path);return e===null?null:new Nr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Xc{constructor(e,A,n){this._node=e,this.ref=A,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const A=new Pe(e),n=Hh(this.ref,e);return new Xc(this._node.getChild(A),n,At)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,r)=>e(new Xc(r,Hh(this.ref,n),At)))}hasChild(e){const A=new Pe(e);return!this._node.getChild(A).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function iA(t,e){return t=BA(t),t._checkNotDeleted("ref"),e!==void 0?Hh(t._root,e):t._root}function Hh(t,e){return t=BA(t),pe(t._path)===null?LH("child","path",e):I_("child","path",e),new Nr(t._repo,tt(t._path,e))}function Yc(t){return x_("remove",t._path),ca(t,null)}function ca(t,e){t=BA(t),x_("set",t._path),NH("set",e,t._path);const A=new ma;return WH(t._repo,t._path,e,null,A.wrapCallback(()=>{})),A.promise}function Vu(t,e){kH("update",e,t._path);const A=new ma;return XH(t._repo,t._path,e,A.wrapCallback(()=>{})),A.promise}class Gu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,A){const n=A._queryParams.getIndex();return new nk("value",this,new Xc(e.snapshotNode,new Nr(A._repo,A._path),n))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,A){return this.callbackContext.hasCancelCallback?new rk(this,e,A):null}matches(e){return e instanceof Gu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function sk(t,e,A,n,r){const s=new L_(A,void 0),i=new Gu(s);return $H(t._repo,t,i),()=>T_(t._repo,t,i)}function R_(t,e,A,n){return sk(t,"value",e)}function P_(t,e,A){let n=null;const r=A?new L_(A):null;n=new Gu(r),T_(t._repo,t,n)}sH(Nr);uH(Nr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="FIREBASE_DATABASE_EMULATOR_HOST",kh={};let ok=!1;function ak(t,e,A,n){const r=e.lastIndexOf(":"),s=e.substring(0,r),i=xi(s);t.repoInfo_=new KE(e,i,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,A),n&&(t.authTokenProvider_=n)}function lk(t,e,A,n,r){let s=n||t.options.databaseURL;s===void 0&&(t.options.projectId||On("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ft("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let i=ey(s,r),o=i.repoInfo,a;typeof process<"u"&&vm&&(a=vm[ik]),a?(s=`http://${a}?ns=${o.namespace}`,i=ey(s,r),o=i.repoInfo):i.repoInfo.secure;const l=new vD(t.name,t.options,e);RH("Invalid Firebase Database URL",i),me(i.path)||On("Database URL must point to the root of a Firebase Database (not including a child path).");const d=uk(o,t,l,new yD(t,A));return new dk(d,t)}function ck(t,e){const A=kh[e];(!A||A[t.key]!==t)&&On(`Database ${e}(${t.repoInfo_}) has already been deleted.`),JH(t),delete A[t.key]}function uk(t,e,A,n){let r=kh[e.name];r||(r={},kh[e.name]=r);let s=r[t.toURLString()];return s&&On("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new VH(t,ok,A,n),r[t.toURLString()]=s,s}class dk{constructor(e,A){this._repoInternal=e,this.app=A,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(GH(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nr(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ck(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&On("Cannot call "+e+" on a deleted database.")}}function fk(t=YC(),e){const A=dg(t,"database").getImmediate({identifier:e});if(!A._instanceStarted){const n=US("database");n&&hk(A,...n)}return A}function hk(t,e,A,n={}){t=BA(t),t._checkNotDeleted("useEmulator");const r=`${e}:${A}`,s=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&as(n,s.repoInfo_.emulatorOptions))return;On("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let i;if(s.repoInfo_.nodeAdmin)n.mockUserToken&&On('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Yl(Yl.OWNER);else if(n.mockUserToken){const o=typeof n.mockUserToken=="string"?n.mockUserToken:IS(n.mockUserToken,t.app.options.projectId);i=new Yl(o)}xi(e)&&(KC(e),VC("Database",!0)),ak(s,r,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t){rD(bi),gi(new ls("database",(e,{instanceIdentifier:A})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return lk(n,r,s,A)},"PUBLIC").setMultipleInstances(!0)),vr(Cm,Em,t),vr(Cm,Em,"esm2020")}bn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};bn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};pk();const gk={apiKey:"AIzaSyD-CUcGgOEmiKVqhsMGNi3nw0hPFKP5QSs",authDomain:"refboard-21681.firebaseapp.com",projectId:"refboard-21681",storageBucket:"refboard-21681.firebasestorage.app",messagingSenderId:"1052217843844",appId:"1:1052217843844:web:d13c695547c279d832e2d1",measurementId:"G-LSVG7VY51R",databaseURL:"https://refboard-21681-default-rtdb.firebaseio.com"},O_=XC(gk),ju=AD(O_),wk=fk(O_,"https://refboard-21681-default-rtdb.firebaseio.com"),nw=new on;nw.setCustomParameters({prompt:"select_account consent",access_type:"offline"});nw.addScope("https://www.googleapis.com/auth/drive");async function Bk(){try{const t=await uT(ju,nw),e=t.user,A=on.credentialFromResult(t),n=A==null?void 0:A.accessToken;return n&&localStorage.setItem("google_access_token",n),{success:!0,user:{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL}}}catch(t){return console.error("Sign in error:",t),{success:!1,error:t.message||"Failed to sign in"}}}async function mk(){try{await jb(ju),localStorage.removeItem("google_access_token")}catch(t){throw console.error("Sign out error:",t),t}}function M_(){return ju.currentUser}function K_(t){return Gb(ju,e=>{t(e?{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL}:null)})}function V_(){return wk}const G_=Object.freeze(Object.defineProperty({__proto__:null,getCurrentUser:M_,getFirebaseDatabase:V_,onAuthChange:K_,signInWithGoogle:Bk,signOut:mk},Symbol.toStringTag,{value:"Module"})),yk=({thumbnail:t,boardName:e,index:A})=>{const[n,r]=Lo.useState(!1),[s,i]=Lo.useState(!1);return f.jsxs(f.Fragment,{children:[n?f.jsx("span",{className:"text-4xl",children:""}):f.jsx("img",{src:t,alt:e,className:`w-full h-full object-cover rounded transition-opacity duration-300 ${s?"opacity-100":"opacity-0"}`,onLoad:()=>i(!0),onError:()=>{console.warn("Failed to load thumbnail for board:",e),r(!0),i(!1)},loading:"lazy",style:{animationDelay:`${A*50}ms`}}),!s&&!n&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-8 h-8 border-2 border-gray-500 border-t-transparent rounded-full animate-spin"})})]})},vk=({onBoardSelect:t})=>{const[e,A]=x.useState([]),[n,r]=x.useState([]),[s,i]=x.useState(!0),[o,a]=x.useState(!1),[l,d]=x.useState(""),c=M_();x.useEffect(()=>{u()},[c]);async function u(){try{i(!0);const[h,g]=await Promise.all([$x(),tS()]);A(h),r(g)}catch(h){console.error("Failed to load boards:",h)}finally{i(!1)}}const p=()=>{d(" "),a(!0)},w=()=>{l.trim()&&(t("new",l.trim()),a(!1))},m=async(h,g)=>{if(h.stopPropagation(),window.confirm("   ?"))try{await Jx(g),await u()}catch(v){console.error("Failed to delete board:",v),alert("  .")}},I=(h,g)=>{t(h,g)},B=(h,g)=>f.jsxs("div",{onClick:()=>I(h.id,h.name),className:"group bg-gray-800 rounded-lg p-4 cursor-pointer hover:bg-gray-700 transition-colors border border-gray-700 hover:border-blue-500 relative",children:[f.jsxs("div",{className:"aspect-video bg-gray-700 rounded mb-3 flex items-center justify-center relative overflow-hidden",children:[h.thumbnail?f.jsx(yk,{thumbnail:h.thumbnail,boardName:h.name,index:g}):f.jsx("span",{className:"text-4xl",children:""}),h.owners&&h.owners.length>0&&f.jsxs("div",{className:"absolute top-2 left-2 bg-blue-600/90 text-white text-xs px-2 py-1 rounded-full shadow-sm backdrop-blur-sm z-10 flex items-center gap-1",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),f.jsx("span",{children:h.owners[0].displayName})]}),f.jsx("button",{onClick:v=>m(v,h.id),className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:" ",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),f.jsx("h3",{className:"font-semibold truncate",children:h.name}),f.jsx("p",{className:"text-sm text-gray-400",children:new Date(h.modifiedTime).toLocaleDateString("ko-KR")})]},h.id);return f.jsxs("div",{className:"w-screen h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white flex flex-col relative",children:[f.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border-b border-gray-700 p-4",children:f.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold",children:"RefBoard"}),f.jsx("p",{className:"text-sm text-gray-400",children:(c==null?void 0:c.displayName)||(c==null?void 0:c.email)})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:async()=>{const{signOut:h}=await qr(async()=>{const{signOut:g}=await Promise.resolve().then(()=>G_);return{signOut:g}},void 0);await h(),window.location.reload()},className:"bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg font-semibold transition-colors",children:""}),f.jsx("button",{onClick:p,className:"bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg font-semibold transition-colors",children:"+  "})]})]})}),f.jsx("div",{className:"flex-1 overflow-auto p-8",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:s?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):e.length===0&&n.length===0?f.jsxs("div",{className:"text-center py-20",children:[f.jsx("div",{className:"text-6xl mb-4",children:""}),f.jsx("h2",{className:"text-2xl font-semibold mb-2",children:" "}),f.jsx("p",{className:"text-gray-400 mb-6",children:"   !"}),f.jsx("button",{onClick:p,className:"bg-blue-600 hover:bg-blue-700 px-8 py-3 rounded-lg font-semibold transition-colors inline-block",children:"  "})]}):f.jsxs("div",{className:"space-y-8",children:[e.length>0&&f.jsxs("div",{children:[f.jsxs("h2",{className:"text-lg font-semibold mb-4 text-gray-300",children:["  (",e.length,")"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map((h,g)=>B(h,g))})]}),n.length>0&&f.jsxs("div",{children:[f.jsxs("h2",{className:"text-lg font-semibold mb-4 text-gray-300 flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"  (",n.length,")"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map((h,g)=>B(h,e.length+g))})]})]})})}),f.jsx("button",{onClick:()=>u(),className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all z-40 group",title:"  ",children:f.jsx("svg",{className:"w-6 h-6 group-hover:rotate-180 transition-transform duration-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),o&&f.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md border border-gray-700",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"  "}),f.jsx("input",{type:"text",value:l,onChange:h=>d(h.target.value),placeholder:"  ",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 mb-6 focus:outline-none focus:border-blue-500",autoFocus:!0,onKeyDown:h=>h.key==="Enter"&&w()}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:""}),f.jsx("button",{onClick:w,className:"bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg font-semibold transition-colors",children:""})]})]})})]})},Ck=({boardId:t,boardName:e,items:A=[],onClose:n})=>{const[r,s]=x.useState(""),[i,o]=x.useState("reader"),[a,l]=x.useState([]),[d,c]=x.useState(!1),[u,p]=x.useState(null),[w,m]=x.useState(null);x.useEffect(()=>{I()},[t]);async function I(){try{c(!0);const v=await qx(t);l(v.filter(E=>E.role!=="owner"))}catch(v){console.error("Failed to load permissions:",v)}finally{c(!1)}}const B=async()=>{try{if(!confirm('    "   "    ? (     )'))return;c(!0),p(null),m(null);const v=A.filter(y=>(y.type==="image"||y.type==="video")&&y.driveFileId).map(y=>y.driveFileId);if(v.length===0){m("   ."),c(!1);return}const E=await sS(v);m(`   : ${E.success} , ${E.failed} .`)}catch(v){console.error("Failed to fix permissions:",v),p("   .")}finally{c(!1)}},h=async()=>{if(!r.trim()){p(" .");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){p("   .");return}try{c(!0),p(null),m(null),await bC(t,r.trim(),i);const E=A.filter(y=>(y.type==="image"||y.type==="video")&&y.driveFileId).map(y=>y.driveFileId);if(E.length>0)try{const y=await Promise.allSettled(E.map(N=>rS([N],r.trim(),i))),Q=y.filter(N=>N.status==="fulfilled").length,F=y.filter(N=>N.status==="rejected").length;console.log(`Shared ${Q}/${E.length} media files (images/videos) with ${r}`),F>0&&(console.warn(`Failed to share ${F} media files. Check console for details.`),y.forEach((N,D)=>{N.status==="rejected"&&console.error(`Failed to share media file ${E[D]}:`,N.reason)}))}catch(y){console.error("Failed to share media files:",y)}m(`${r} !`),s(""),await I()}catch(E){p(" .  ."),console.error("Share error:",E)}finally{c(!1)}},g=async(v,E)=>{if(window.confirm(`${E||" "}  ?`))try{c(!0),await eS(t,v),m(" ."),await I()}catch(y){p("  ."),console.error("Remove permission error:",y)}finally{c(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100]",children:f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden border border-gray-700",children:[f.jsx("div",{className:"p-6 border-b border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold",children:" "}),f.jsx("p",{className:"text-sm text-gray-400 mt-1",children:e})]}),f.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[60vh]",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:" "}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("input",{type:"email",value:r,onChange:v=>s(v.target.value),placeholder:" ",className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",onKeyDown:v=>v.key==="Enter"&&h()}),f.jsxs("select",{value:i,onChange:v=>o(v.target.value),className:"bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",children:[f.jsx("option",{value:"reader",children:" "}),f.jsx("option",{value:"writer",children:" "})]}),f.jsx("button",{onClick:h,disabled:d,className:"bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg font-semibold transition-colors disabled:opacity-50",children:""})]})]}),u&&f.jsx("div",{className:"bg-red-900/30 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg text-sm",children:u}),w&&f.jsx("div",{className:"bg-green-900/30 border border-green-500/50 text-green-200 px-4 py-3 rounded-lg text-sm",children:w}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-3",children:[" (",a.length,")"]}),d&&a.length===0?f.jsxs("div",{className:"text-center py-8 text-gray-400",children:[f.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"})," ..."]}):a.length===0?f.jsx("div",{className:"text-center py-8 text-gray-400",children:"   ."}):f.jsx("div",{className:"space-y-2",children:a.map(v=>{var E;return f.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 rounded-lg px-4 py-3 border border-gray-600",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center font-bold",children:v.displayName?v.displayName[0].toUpperCase():(E=v.emailAddress)==null?void 0:E[0].toUpperCase()}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:v.displayName||v.emailAddress||"   "}),v.emailAddress&&v.displayName&&f.jsx("p",{className:"text-sm text-gray-400",children:v.emailAddress}),f.jsx("p",{className:"text-xs text-gray-400",children:v.role==="reader"?" ":" "})]})]}),f.jsx("button",{onClick:()=>g(v.id,v.emailAddress),className:"text-red-400 hover:text-red-300 transition-colors text-sm px-3 py-1 rounded hover:bg-red-900/20",children:""})]},v.id)})})]}),f.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[f.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-300",children:" "}),f.jsxs("div",{className:"flex items-center justify-between bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-sm",children:"  ?"}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"       ."})]}),f.jsx("button",{onClick:B,disabled:d,className:"bg-gray-600 hover:bg-gray-500 px-4 py-2 rounded text-xs font-semibold transition-colors border border-gray-500 whitespace-nowrap ml-4",children:"  "})]})]}),f.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4 text-sm text-blue-200",children:[f.jsx("p",{className:"font-medium mb-1",children:"  "}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[f.jsx("li",{children:"    ."}),f.jsxs("li",{children:[f.jsx("strong",{children:" "}),":    ."]}),f.jsxs("li",{children:[f.jsx("strong",{children:" "}),":    ."]}),f.jsx("li",{children:"  Google Drive    ."})]})]})]})]})})},Ek=({cursors:t})=>f.jsx(f.Fragment,{children:t.map(e=>f.jsxs("div",{className:"absolute pointer-events-none z-[9999] transition-all duration-75 ease-out",style:{left:`${e.x}px`,top:`${e.y}px`,transform:"translate(-2px, -2px)"},children:[f.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"},children:f.jsx("path",{d:"M5.65376 12.3673H5.46026L5.31717 12.4976L0.500002 16.8829L0.500002 1.19841L11.7841 12.3673H5.65376Z",fill:e.color,stroke:"white",strokeWidth:"1"})}),f.jsx("div",{className:"absolute top-6 left-2 px-2 py-1 rounded text-xs font-medium whitespace-nowrap",style:{backgroundColor:e.color,color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:e.userName||e.userEmail.split("@")[0]})]},e.userId))}),oA=V_(),UA=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),rw=500*1024,sw={};function _k(t){const e=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"];let A=0;for(let n=0;n<t.length;n++)A=t.charCodeAt(n)+((A<<5)-A);return e[Math.abs(A)%e.length]}let ty=0;const Fk=100;function Ay(t,e,A,n,r,s){const i=Date.now();if(i-ty<Fk)return;ty=i;const o=iA(oA,`boards/${t}/cursors/${UA}`),a={sessionId:UA,userId:e,userName:A,userEmail:n,x:r,y:s,color:_k(UA),lastUpdate:i};ca(o,a).catch(l=>{console.error("Failed to update cursor:",l)})}function Qk(t,e){const A=iA(oA,`boards/${t}/cursors`),n=r=>{const s=[],i=Date.now();r.forEach(o=>{const a=o.val();a.sessionId!==UA&&i-a.lastUpdate<3e4&&s.push(a)}),e(s)};return R_(A,n),()=>{P_(A,"value",n)}}function Uk(t,e,A,n){const r=iA(oA,`boards/${t}/presence/${UA}`),s={sessionId:UA,userId:e,userName:A,userEmail:n,joinedAt:Date.now(),lastSeen:Date.now()};ca(r,s).catch(o=>{console.error("Failed to set presence:",o)});const i=setInterval(()=>{ca(iA(oA,`boards/${t}/presence/${UA}/lastSeen`),Date.now())},5e3);window[`presenceInterval_${t}_${UA}`]=i}function Ik(t){const e=window[`presenceInterval_${t}_${UA}`];e&&(clearInterval(e),delete window[`presenceInterval_${t}_${UA}`]);const A=iA(oA,`boards/${t}/presence/${UA}`);Yc(A).catch(console.error);const n=iA(oA,`boards/${t}/cursors/${UA}`);Yc(n).catch(console.error)}function xk(t,e){const A=Math.ceil(t.length/e),n=new Array(A);for(let r=0,s=0;r<A;++r,s+=e)n[r]=t.substr(s,e);return n}async function j_(t,e,A){const n=xk(A,rw),r=15;for(let s=0;s<n.length;s+=r){const i={};n.slice(s,s+r).forEach((a,l)=>{const d=s+l;i[`boards/${t}/chunks/${e}/${d}`]=a});try{await Vu(iA(oA),i)}catch(a){throw console.error(`Failed to save chunk batch ${s/r}:`,a),a}}}async function Sk(t,e){const A=iA(oA,`boards/${t}/data`);await ca(A,e)}async function ol(t,e,A){const n=iA(oA,`boards/${t}/data/items/${e}`),r={...A};if(Object.keys(r).forEach(i=>{r[i]===void 0&&delete r[i]}),r.src){if(Object.keys(r).some(o=>o!=="src"&&o!=="hasChunks"))console.log(`[RefBoard] Excluding image data from position/size update for item ${e} to save bandwidth`),delete r.src;else if(r.src.length>rw){console.log(`[RefBoard] Item ${e} is large (${(r.src.length/1024).toFixed(2)}KB). Splitting into chunks...`);try{await j_(t,e,r.src),sw[e]=r.src,r.src=null,r.hasChunks=!0}catch(o){console.error("Failed to save chunks:",o);return}}}const s=JSON.stringify(r).length;if(s>5*1024*1024){console.warn(`[RefBoard] Update payload too large (${(s/1024/1024).toFixed(2)}MB). Skipping sync to prevent errors.`);return}Vu(n,r).catch(i=>{console.error("Failed to update remote item:",i)})}async function ny(t,e){const A={};let n=0,r=0;for(const s of e){const i=`boards/${t}/data/items/${s.id}`,o=JSON.parse(JSON.stringify(s));o.src&&o.src.length>rw&&(console.log(`[RefBoard] Item ${s.id} is large. Splitting into chunks...`),await j_(t,s.id,o.src),sw[s.id]=o.src,o.src=null,o.hasChunks=!0);const a=JSON.stringify(o).length;if(a>9*1024*1024){console.error(`[RefBoard] Item ${s.id} is too large (${(a/1024/1024).toFixed(2)}MB) to sync.`),r++;continue}A[i]=o,n+=a}r>0&&alert(`${r} items were too large to sync in real-time. Try resizing them or using lower resolution.`),n>0&&Vu(iA(oA),A).catch(console.error)}function bk(t,e){const A=iA(oA,`boards/${t}/data/items/${e}`);Yc(A).catch(console.error);const n=iA(oA,`boards/${t}/chunks/${e}`);Yc(n).catch(console.error)}function Tk(t,e,A,n,r){const s=iA(oA,`boards/${t}/data`),i=async o=>{const a=o.val();if(a){if(a.items){const l=Object.values(a.items),d=await Promise.all(l.map(async c=>{if(c.hasChunks&&!c.src){const u=sw[c.id];u?c.src=u:c.src=null}return c}));e(d)}else e([]);a.groups?A(Object.values(a.groups)):A([]),a.arrows?n(Object.values(a.arrows)):n([]),a.paths?r(Object.values(a.paths)):r([])}};return R_(s,i),()=>{P_(s,"value",i)}}function $c(t,e,A){const n={},r={};A.forEach(s=>{r[s.id]=s}),n[`boards/${t}/data/${e}`]=JSON.parse(JSON.stringify(r)),Vu(iA(oA),n).catch(console.error)}const Dk=t=>{const[e,A]=x.useState([]),n=(u,p,w,m,I)=>{const B=I*Math.PI/180,h=Math.cos(B),g=Math.sin(B),v=u+w/2,E=p+m/2;return[{x:u-v,y:p-E},{x:u+w-v,y:p-E},{x:u+w-v,y:p+m-E},{x:u-v,y:p+m-E}].map(Q=>({x:Q.x*h-Q.y*g+v,y:Q.x*g+Q.y*h+E}))},r=u=>{t&&t!=="new"&&$c(t,"groups",u)};return{groups:e,setGroups:A,createGroup:(u,p)=>{const w=p.filter(P=>typeof P.x=="number"&&!isNaN(P.x)&&typeof P.y=="number"&&!isNaN(P.y)&&typeof P.width=="number"&&!isNaN(P.width)&&typeof P.height=="number"&&!isNaN(P.height));if(w.length<2)return;const m=w.map(P=>P.id);let I=1/0,B=1/0,h=-1/0,g=-1/0;w.forEach(P=>{let Z;if(P.type==="image"||P.type==="video"){const X=P.rotation||0;Z=n(P.x,P.y,P.width,P.height,X)}else Z=[{x:P.x,y:P.y},{x:P.x+P.width,y:P.y},{x:P.x+P.width,y:P.y+P.height},{x:P.x,y:P.y+P.height}];Z.forEach(X=>{I=Math.min(I,X.x),B=Math.min(B,X.y),h=Math.max(h,X.x),g=Math.max(g,X.y)})});const v=10,E=I-v,y=B-v,Q=h-I+v*2,F=g-B+v*2,N={id:`group-${Date.now()}`,name:`Group ${e.length+1}`,childIds:m,x:E,y,width:Q,height:F,fontSize:12,color:"#ffffff"},D=[...e,N];A(D),r(D)},updateGroup:(u,p)=>{const w=e.map(m=>{if(m.id===u){const I={...m,...p};return(!I.childIds||!Array.isArray(I.childIds))&&(I.childIds=m.childIds||[]),I}return m});A(w),r(w)},updateGroupName:(u,p)=>{const w=e.map(m=>m.id===u?{...m,name:p}:m);A(w),r(w)},deleteGroup:u=>{const p=e.filter(w=>w.id!==u);A(p),r(p)},addItemToGroup:(u,p)=>{const w=e.map(m=>m.id===u?{...m,childIds:[...m.childIds||[],p]}:m);A(w),r(w)},removeItemFromGroup:u=>{const p=e.map(w=>({...w,childIds:(w.childIds||[]).filter(m=>m!==u)}));A(p),r(p)},getItemGroup:u=>e.find(p=>p&&p.childIds&&Array.isArray(p.childIds)&&p.childIds.includes(u))||null}},Nk=t=>{const[e,A]=x.useState([]),n=x.useCallback(o=>{t&&t!=="new"&&$c(t,"arrows",o)},[t]),r=x.useCallback((o,a)=>{const l={id:`arrow-${Date.now()}`,sourceId:o,targetId:a,color:"#3b82f6",strokeWidth:2};A(d=>{const c=[...d,l];return n(c),c})},[n]),s=x.useCallback(o=>{A(a=>{const l=a.filter(d=>d.id!==o);return n(l),l})},[n]),i=x.useCallback(o=>{A(a=>{const l=a.filter(d=>d.sourceId!==o&&d.targetId!==o);return n(l),l})},[n]);return{arrows:e,setArrows:A,createArrow:r,deleteArrow:s,deleteArrowsForItem:i}},Hk=()=>{const[t,e]=x.useState(new Set);return x.useEffect(()=>{const A=s=>{let i=s.key;i==="Control"&&(i="Ctrl"),i==="Alt"&&(i="Alt"),i==="Shift"&&(i="Shift"),e(o=>{const a=new Set(o);return a.add(i.toUpperCase()),a})},n=s=>{let i=s.key;i==="Control"&&(i="Ctrl"),i==="Alt"&&(i="Alt"),i==="Shift"&&(i="Shift"),e(o=>{const a=new Set(o);return a.delete(i.toUpperCase()),a})},r=()=>{e(new Set)};return window.addEventListener("keydown",A),window.addEventListener("keyup",n),window.addEventListener("blur",r),()=>{window.removeEventListener("keydown",A),window.removeEventListener("keyup",n),window.removeEventListener("blur",r)}},[]),t},al=2*60*60*1e3,qi=15*60*1e3,kk=()=>{const[t,e]=x.useState(!1),[A,n]=x.useState(Date.now()),[r,s]=x.useState(null);x.useEffect(()=>{const a=localStorage.getItem("workStartTime"),l=localStorage.getItem("adEndTime");if(a){const d=parseInt(a),c=Date.now(),u=c-d;if(l){const p=parseInt(l);if(c<p){e(!0),s(p),n(d);const w=p-c;setTimeout(()=>{e(!1),s(null),localStorage.removeItem("adEndTime");const m=Date.now();n(m),localStorage.setItem("workStartTime",m.toString())},w);return}else localStorage.removeItem("adEndTime")}if(u>=al){e(!0);const p=Date.now()+qi;s(p),localStorage.setItem("adEndTime",p.toString()),setTimeout(()=>{e(!1),s(null),localStorage.removeItem("adEndTime");const w=Date.now();n(w),localStorage.setItem("workStartTime",w.toString())},qi)}else n(d)}},[]),x.useEffect(()=>{const a=setInterval(()=>{const l=Date.now(),d=l-A;if(t&&r){if(l>=r){e(!1),s(null),localStorage.removeItem("adEndTime");const c=Date.now();n(c),localStorage.setItem("workStartTime",c.toString())}return}if(d>=al&&!t){e(!0);const c=Date.now()+qi;s(c),localStorage.setItem("adEndTime",c.toString()),setTimeout(()=>{e(!1),s(null),localStorage.removeItem("adEndTime");const u=Date.now();n(u),localStorage.setItem("workStartTime",u.toString())},qi)}},1e3);return()=>clearInterval(a)},[A,t,r]),x.useEffect(()=>{localStorage.setItem("workStartTime",A.toString())},[A]);const i=x.useCallback(()=>{if(t&&r){const d=r-Date.now();return Math.ceil(d/(60*1e3))}const a=Date.now()-A,l=al-a;return Math.max(0,Math.ceil(l/(60*1e3)))},[A,t,r]),o=x.useCallback(()=>{e(!1),s(null),localStorage.removeItem("adEndTime");const a=Date.now();n(a),localStorage.setItem("workStartTime",a.toString())},[]);return{showBreakReminder:t,dismissReminder:o,getRemainingWorkTime:i,workInterval:al/6e4,adDuration:qi/6e4}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lh=function(t,e){return Lh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(A[r]=n[r])},Lh(t,e)};function JA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lh(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}var Rh=function(){return Rh=Object.assign||function(e){for(var A,n=1,r=arguments.length;n<r;n++){A=arguments[n];for(var s in A)Object.prototype.hasOwnProperty.call(A,s)&&(e[s]=A[s])}return e},Rh.apply(this,arguments)};function Vt(t,e,A,n){function r(s){return s instanceof A?s:new A(function(i){i(s)})}return new(A||(A=Promise))(function(s,i){function o(d){try{l(n.next(d))}catch(c){i(c)}}function a(d){try{l(n.throw(d))}catch(c){i(c)}}function l(d){d.done?s(d.value):r(d.value).then(o,a)}l((n=n.apply(t,[])).next())})}function Dt(t,e){var A={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,r,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(l){return function(d){return a([l,d])}}function a(l){if(n)throw new TypeError("Generator is already executing.");for(;A;)try{if(n=1,r&&(s=l[0]&2?r.return:l[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,l[1])).done)return s;switch(r=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return A.label++,{value:l[1],done:!1};case 5:A.label++,r=l[1],l=[0];continue;case 7:l=A.ops.pop(),A.trys.pop();continue;default:if(s=A.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){A=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){A.label=l[1];break}if(l[0]===6&&A.label<s[1]){A.label=s[1],s=l;break}if(s&&A.label<s[2]){A.label=s[2],A.ops.push(l);break}s[2]&&A.ops.pop(),A.trys.pop();continue}l=e.call(t,A)}catch(d){l=[6,d],r=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ll(t,e,A){if(arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Mn=function(){function t(e,A,n,r){this.left=e,this.top=A,this.width=n,this.height=r}return t.prototype.add=function(e,A,n,r){return new t(this.left+e,this.top+A,this.width+n,this.height+r)},t.fromClientRect=function(e,A){return new t(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height)},t.fromDOMRectList=function(e,A){var n=Array.from(A).find(function(r){return r.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),zu=function(t,e){return Mn.fromClientRect(t,e.getBoundingClientRect())},Lk=function(t){var e=t.body,A=t.documentElement;if(!e||!A)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,A.scrollWidth),Math.max(e.offsetWidth,A.offsetWidth),Math.max(e.clientWidth,A.clientWidth)),r=Math.max(Math.max(e.scrollHeight,A.scrollHeight),Math.max(e.offsetHeight,A.offsetHeight),Math.max(e.clientHeight,A.clientHeight));return new Mn(0,0,n,r)},Wu=function(t){for(var e=[],A=0,n=t.length;A<n;){var r=t.charCodeAt(A++);if(r>=55296&&r<=56319&&A<n){var s=t.charCodeAt(A++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),A--)}else e.push(r)}return e},st=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var n=[],r=-1,s="";++r<A;){var i=t[r];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(r+1===A||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},ry="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rk=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var cl=0;cl<ry.length;cl++)Rk[ry.charCodeAt(cl)]=cl;var sy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ao=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ul=0;ul<sy.length;ul++)ao[sy.charCodeAt(ul)]=ul;var Pk=function(t){var e=t.length*.75,A=t.length,n,r=0,s,i,o,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<A;n+=4)s=ao[t.charCodeAt(n)],i=ao[t.charCodeAt(n+1)],o=ao[t.charCodeAt(n+2)],a=ao[t.charCodeAt(n+3)],d[r++]=s<<2|i>>4,d[r++]=(i&15)<<4|o>>2,d[r++]=(o&3)<<6|a&63;return l},Ok=function(t){for(var e=t.length,A=[],n=0;n<e;n+=2)A.push(t[n+1]<<8|t[n]);return A},Mk=function(t){for(var e=t.length,A=[],n=0;n<e;n+=4)A.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return A},ts=5,iw=11,Jd=2,Kk=iw-ts,z_=65536>>ts,Vk=1<<ts,Zd=Vk-1,Gk=1024>>ts,jk=z_+Gk,zk=jk,Wk=32,Xk=zk+Wk,Yk=65536>>iw,$k=1<<Kk,Jk=$k-1,iy=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},Zk=function(t,e,A){return t.slice?t.slice(e,A):new Uint32Array(Array.prototype.slice.call(t,e,A))},qk=function(t,e){var A=Pk(t),n=Array.isArray(A)?Mk(A):new Uint32Array(A),r=Array.isArray(A)?Ok(A):new Uint16Array(A),s=24,i=iy(r,s/2,n[4]/2),o=n[5]===2?iy(r,(s+n[4])/2):Zk(n,Math.ceil((s+n[4])/4));return new eL(n[0],n[1],n[2],n[3],i,o)},eL=function(){function t(e,A,n,r,s,i){this.initialValue=e,this.errorValue=A,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=i}return t.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=this.index[e>>ts],A=(A<<Jd)+(e&Zd),this.data[A];if(e<=65535)return A=this.index[z_+(e-55296>>ts)],A=(A<<Jd)+(e&Zd),this.data[A];if(e<this.highStart)return A=Xk-Yk+(e>>iw),A=this.index[A],A+=e>>ts&Jk,A=this.index[A],A=(A<<Jd)+(e&Zd),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),oy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tL=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dl=0;dl<oy.length;dl++)tL[oy.charCodeAt(dl)]=dl;var AL="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ay=50,nL=1,W_=2,X_=3,rL=4,sL=5,ly=7,Y_=8,cy=9,ar=10,Ph=11,uy=12,Oh=13,iL=14,lo=15,Mh=16,fl=17,eo=18,oL=19,dy=20,Kh=21,to=22,qd=23,Fs=24,cA=25,co=26,uo=27,Qs=28,aL=29,Gr=30,lL=31,hl=32,pl=33,Vh=34,Gh=35,jh=36,ua=37,zh=38,$l=39,Jl=40,ef=41,$_=42,cL=43,uL=[9001,65288],J_="!",Ee="",gl="",Wh=qk(AL),vn=[Gr,jh],Xh=[nL,W_,X_,sL],Z_=[ar,Y_],fy=[uo,co],dL=Xh.concat(Z_),hy=[zh,$l,Jl,Vh,Gh],fL=[lo,Oh],hL=function(t,e){e===void 0&&(e="strict");var A=[],n=[],r=[];return t.forEach(function(s,i){var o=Wh.get(s);if(o>ay?(r.push(!0),o-=ay):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(i),A.push(Mh);if(o===rL||o===Ph){if(i===0)return n.push(i),A.push(Gr);var a=A[i-1];return dL.indexOf(a)===-1?(n.push(n[i-1]),A.push(a)):(n.push(i),A.push(Gr))}if(n.push(i),o===lL)return A.push(e==="strict"?Kh:ua);if(o===$_||o===aL)return A.push(Gr);if(o===cL)return s>=131072&&s<=196605||s>=196608&&s<=262141?A.push(ua):A.push(Gr);A.push(o)}),[n,A,r]},tf=function(t,e,A,n){var r=n[A];if(Array.isArray(t)?t.indexOf(r)!==-1:t===r)for(var s=A;s<=n.length;){s++;var i=n[s];if(i===e)return!0;if(i!==ar)break}if(r===ar)for(var s=A;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var a=A;a<=n.length;){a++;var i=n[a];if(i===e)return!0;if(i!==ar)break}if(o!==ar)break}return!1},py=function(t,e){for(var A=t;A>=0;){var n=e[A];if(n===ar)A--;else return n}return 0},pL=function(t,e,A,n,r){if(A[n]===0)return Ee;var s=n-1;if(Array.isArray(r)&&r[s]===!0)return Ee;var i=s-1,o=s+1,a=e[s],l=i>=0?e[i]:0,d=e[o];if(a===W_&&d===X_)return Ee;if(Xh.indexOf(a)!==-1)return J_;if(Xh.indexOf(d)!==-1||Z_.indexOf(d)!==-1)return Ee;if(py(s,e)===Y_)return gl;if(Wh.get(t[s])===Ph||(a===hl||a===pl)&&Wh.get(t[o])===Ph||a===ly||d===ly||a===cy||[ar,Oh,lo].indexOf(a)===-1&&d===cy||[fl,eo,oL,Fs,Qs].indexOf(d)!==-1||py(s,e)===to||tf(qd,to,s,e)||tf([fl,eo],Kh,s,e)||tf(uy,uy,s,e))return Ee;if(a===ar)return gl;if(a===qd||d===qd)return Ee;if(d===Mh||a===Mh)return gl;if([Oh,lo,Kh].indexOf(d)!==-1||a===iL||l===jh&&fL.indexOf(a)!==-1||a===Qs&&d===jh||d===dy||vn.indexOf(d)!==-1&&a===cA||vn.indexOf(a)!==-1&&d===cA||a===uo&&[ua,hl,pl].indexOf(d)!==-1||[ua,hl,pl].indexOf(a)!==-1&&d===co||vn.indexOf(a)!==-1&&fy.indexOf(d)!==-1||fy.indexOf(a)!==-1&&vn.indexOf(d)!==-1||[uo,co].indexOf(a)!==-1&&(d===cA||[to,lo].indexOf(d)!==-1&&e[o+1]===cA)||[to,lo].indexOf(a)!==-1&&d===cA||a===cA&&[cA,Qs,Fs].indexOf(d)!==-1)return Ee;if([cA,Qs,Fs,fl,eo].indexOf(d)!==-1)for(var c=s;c>=0;){var u=e[c];if(u===cA)return Ee;if([Qs,Fs].indexOf(u)!==-1)c--;else break}if([uo,co].indexOf(d)!==-1)for(var c=[fl,eo].indexOf(a)!==-1?i:s;c>=0;){var u=e[c];if(u===cA)return Ee;if([Qs,Fs].indexOf(u)!==-1)c--;else break}if(zh===a&&[zh,$l,Vh,Gh].indexOf(d)!==-1||[$l,Vh].indexOf(a)!==-1&&[$l,Jl].indexOf(d)!==-1||[Jl,Gh].indexOf(a)!==-1&&d===Jl||hy.indexOf(a)!==-1&&[dy,co].indexOf(d)!==-1||hy.indexOf(d)!==-1&&a===uo||vn.indexOf(a)!==-1&&vn.indexOf(d)!==-1||a===Fs&&vn.indexOf(d)!==-1||vn.concat(cA).indexOf(a)!==-1&&d===to&&uL.indexOf(t[o])===-1||vn.concat(cA).indexOf(d)!==-1&&a===eo)return Ee;if(a===ef&&d===ef){for(var p=A[s],w=1;p>0&&(p--,e[p]===ef);)w++;if(w%2!==0)return Ee}return a===hl&&d===pl?Ee:gl},gL=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var A=hL(t,e.lineBreak),n=A[0],r=A[1],s=A[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(o){return[cA,Gr,$_].indexOf(o)!==-1?ua:o}));var i=e.wordBreak==="keep-all"?s.map(function(o,a){return o&&t[a]>=19968&&t[a]<=40959}):void 0;return[n,r,i]},wL=function(){function t(e,A,n,r){this.codePoints=e,this.required=A===J_,this.start=n,this.end=r}return t.prototype.slice=function(){return st.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),BL=function(t,e){var A=Wu(t),n=gL(A,e),r=n[0],s=n[1],i=n[2],o=A.length,a=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var d=Ee;l<o&&(d=pL(A,s,r,++l,i))===Ee;);if(d!==Ee||l===o){var c=new wL(A,d,a,l);return a=l,{value:c,done:!1}}return{done:!0,value:null}}}},mL=1,yL=2,Ia=4,gy=8,Jc=10,wy=47,To=92,vL=9,CL=32,wl=34,Ao=61,EL=35,_L=36,FL=37,Bl=39,ml=40,no=41,QL=95,Zt=45,UL=33,IL=60,xL=62,SL=64,bL=91,TL=93,DL=61,NL=123,yl=63,HL=125,By=124,kL=126,LL=128,my=65533,Af=42,$r=43,RL=44,PL=58,OL=59,da=46,ML=0,KL=8,VL=11,GL=14,jL=31,zL=127,An=-1,q_=48,eF=97,tF=101,WL=102,XL=117,YL=122,AF=65,nF=69,rF=70,$L=85,JL=90,Nt=function(t){return t>=q_&&t<=57},ZL=function(t){return t>=55296&&t<=57343},Us=function(t){return Nt(t)||t>=AF&&t<=rF||t>=eF&&t<=WL},qL=function(t){return t>=eF&&t<=YL},e4=function(t){return t>=AF&&t<=JL},t4=function(t){return qL(t)||e4(t)},A4=function(t){return t>=LL},vl=function(t){return t===Jc||t===vL||t===CL},Zc=function(t){return t4(t)||A4(t)||t===QL},yy=function(t){return Zc(t)||Nt(t)||t===Zt},n4=function(t){return t>=ML&&t<=KL||t===VL||t>=GL&&t<=jL||t===zL},qn=function(t,e){return t!==To?!1:e!==Jc},Cl=function(t,e,A){return t===Zt?Zc(e)||qn(e,A):Zc(t)?!0:!!(t===To&&qn(t,e))},nf=function(t,e,A){return t===$r||t===Zt?Nt(e)?!0:e===da&&Nt(A):Nt(t===da?e:t)},r4=function(t){var e=0,A=1;(t[e]===$r||t[e]===Zt)&&(t[e]===Zt&&(A=-1),e++);for(var n=[];Nt(t[e]);)n.push(t[e++]);var r=n.length?parseInt(st.apply(void 0,n),10):0;t[e]===da&&e++;for(var s=[];Nt(t[e]);)s.push(t[e++]);var i=s.length,o=i?parseInt(st.apply(void 0,s),10):0;(t[e]===nF||t[e]===tF)&&e++;var a=1;(t[e]===$r||t[e]===Zt)&&(t[e]===Zt&&(a=-1),e++);for(var l=[];Nt(t[e]);)l.push(t[e++]);var d=l.length?parseInt(st.apply(void 0,l),10):0;return A*(r+o*Math.pow(10,-i))*Math.pow(10,a*d)},s4={type:2},i4={type:3},o4={type:4},a4={type:13},l4={type:8},c4={type:21},u4={type:9},d4={type:10},f4={type:11},h4={type:12},p4={type:14},El={type:23},g4={type:1},w4={type:25},B4={type:24},m4={type:26},y4={type:27},v4={type:28},C4={type:29},E4={type:31},Yh={type:32},sF=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Wu(e))},t.prototype.read=function(){for(var e=[],A=this.consumeToken();A!==Yh;)e.push(A),A=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case wl:return this.consumeStringToken(wl);case EL:var A=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(yy(A)||qn(n,r)){var s=Cl(A,n,r)?yL:mL,i=this.consumeName();return{type:5,value:i,flags:s}}break;case _L:if(this.peekCodePoint(0)===Ao)return this.consumeCodePoint(),a4;break;case Bl:return this.consumeStringToken(Bl);case ml:return s4;case no:return i4;case Af:if(this.peekCodePoint(0)===Ao)return this.consumeCodePoint(),p4;break;case $r:if(nf(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case RL:return o4;case Zt:var o=e,a=this.peekCodePoint(0),l=this.peekCodePoint(1);if(nf(o,a,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Cl(o,a,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===Zt&&l===xL)return this.consumeCodePoint(),this.consumeCodePoint(),B4;break;case da:if(nf(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case wy:if(this.peekCodePoint(0)===Af)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===Af&&(d=this.consumeCodePoint(),d===wy))return this.consumeToken();if(d===An)return this.consumeToken()}break;case PL:return m4;case OL:return y4;case IL:if(this.peekCodePoint(0)===UL&&this.peekCodePoint(1)===Zt&&this.peekCodePoint(2)===Zt)return this.consumeCodePoint(),this.consumeCodePoint(),w4;break;case SL:var c=this.peekCodePoint(0),u=this.peekCodePoint(1),p=this.peekCodePoint(2);if(Cl(c,u,p)){var i=this.consumeName();return{type:7,value:i}}break;case bL:return v4;case To:if(qn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case TL:return C4;case DL:if(this.peekCodePoint(0)===Ao)return this.consumeCodePoint(),l4;break;case NL:return f4;case HL:return h4;case XL:case $L:var w=this.peekCodePoint(0),m=this.peekCodePoint(1);return w===$r&&(Us(m)||m===yl)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case By:if(this.peekCodePoint(0)===Ao)return this.consumeCodePoint(),u4;if(this.peekCodePoint(0)===By)return this.consumeCodePoint(),c4;break;case kL:if(this.peekCodePoint(0)===Ao)return this.consumeCodePoint(),d4;break;case An:return Yh}return vl(e)?(this.consumeWhiteSpace(),E4):Nt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Zc(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:st(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],A=this.consumeCodePoint();Us(A)&&e.length<6;)e.push(A),A=this.consumeCodePoint();for(var n=!1;A===yl&&e.length<6;)e.push(A),A=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(st.apply(void 0,e.map(function(a){return a===yl?q_:a})),16),s=parseInt(st.apply(void 0,e.map(function(a){return a===yl?rF:a})),16);return{type:30,start:r,end:s}}var i=parseInt(st.apply(void 0,e),16);if(this.peekCodePoint(0)===Zt&&Us(this.peekCodePoint(1))){this.consumeCodePoint(),A=this.consumeCodePoint();for(var o=[];Us(A)&&o.length<6;)o.push(A),A=this.consumeCodePoint();var s=parseInt(st.apply(void 0,o),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ml?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ml?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===An)return{type:22,value:""};var A=this.peekCodePoint(0);if(A===Bl||A===wl){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===An||this.peekCodePoint(0)===no)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),El)}for(;;){var r=this.consumeCodePoint();if(r===An||r===no)return{type:22,value:st.apply(void 0,e)};if(vl(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===An||this.peekCodePoint(0)===no?(this.consumeCodePoint(),{type:22,value:st.apply(void 0,e)}):(this.consumeBadUrlRemnants(),El);if(r===wl||r===Bl||r===ml||n4(r))return this.consumeBadUrlRemnants(),El;if(r===To)if(qn(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),El;else e.push(r)}},t.prototype.consumeWhiteSpace=function(){for(;vl(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===no||e===An)return;qn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var A=5e4,n="";e>0;){var r=Math.min(A,e);n+=st.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var A="",n=0;do{var r=this._value[n];if(r===An||r===void 0||r===e)return A+=this.consumeStringSlice(n),{type:0,value:A};if(r===Jc)return this._value.splice(0,n),g4;if(r===To){var s=this._value[n+1];s!==An&&s!==void 0&&(s===Jc?(A+=this.consumeStringSlice(n),n=-1,this._value.shift()):qn(r,s)&&(A+=this.consumeStringSlice(n),A+=st(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],A=Ia,n=this.peekCodePoint(0);for((n===$r||n===Zt)&&e.push(this.consumeCodePoint());Nt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===da&&Nt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=gy;Nt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===nF||n===tF)&&((r===$r||r===Zt)&&Nt(s)||Nt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=gy;Nt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[r4(e),A]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),A=e[0],n=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Cl(r,s,i)){var o=this.consumeName();return{type:15,number:A,flags:n,unit:o}}return r===FL?(this.consumeCodePoint(),{type:16,number:A,flags:n}):{type:17,number:A,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Us(e)){for(var A=st(e);Us(this.peekCodePoint(0))&&A.length<6;)A+=st(this.consumeCodePoint());vl(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(A,16);return n===0||ZL(n)||n>1114111?my:n}return e===An?my:e},t.prototype.consumeName=function(){for(var e="";;){var A=this.consumeCodePoint();if(yy(A))e+=st(A);else if(qn(A,this.peekCodePoint(0)))e+=st(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(A),e}},t}(),iF=function(){function t(e){this._tokens=e}return t.create=function(e){var A=new sF;return A.write(e),new t(A.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var A=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return A;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var A=this.consumeComponentValue();if(A.type===32)return e;e.push(A),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var A={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||F4(n,e))return A;this.reconsumeToken(n),A.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var A={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return A;this.reconsumeToken(n),A.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Yh:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),xa=function(t){return t.type===15},ki=function(t){return t.type===17},Re=function(t){return t.type===20},_4=function(t){return t.type===0},$h=function(t,e){return Re(t)&&t.value===e},oF=function(t){return t.type!==31},Ei=function(t){return t.type!==31&&t.type!==4},pn=function(t){var e=[],A=[];return t.forEach(function(n){if(n.type===4){if(A.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(A),A=[];return}n.type!==31&&A.push(n)}),A.length&&e.push(A),e},F4=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},xr=function(t){return t.type===17||t.type===15},at=function(t){return t.type===16||xr(t)},aF=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Qt={type:17,number:0,flags:Ia},ow={type:16,number:50,flags:Ia},lr={type:16,number:100,flags:Ia},fo=function(t,e,A){var n=t[0],r=t[1];return[Ge(n,e),Ge(typeof r<"u"?r:n,A)]},Ge=function(t,e){if(t.type===16)return t.number/100*e;if(xa(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},lF="deg",cF="grad",uF="rad",dF="turn",Xu={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case lF:return Math.PI*e.number/180;case cF:return Math.PI/200*e.number;case uF:return e.number;case dF:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},fF=function(t){return t.type===15&&(t.unit===lF||t.unit===cF||t.unit===uF||t.unit===dF)},hF=function(t){var e=t.filter(Re).map(function(A){return A.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Qt,Qt];case"to top":case"bottom":return IA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Qt,lr];case"to right":case"left":return IA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[lr,lr];case"to bottom":case"top":return IA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[lr,Qt];case"to left":case"right":return IA(270)}return 0},IA=function(t){return Math.PI*t/180},Er={name:"color",parse:function(t,e){if(e.type===18){var A=Q4[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return A(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3);return cr(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3),i=e.value.substring(3,4);return cr(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6);return cr(parseInt(n,16),parseInt(r,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6),i=e.value.substring(6,8);return cr(parseInt(n,16),parseInt(r,16),parseInt(s,16),parseInt(i,16)/255)}}if(e.type===20){var o=Tn[e.value.toUpperCase()];if(typeof o<"u")return o}return Tn.TRANSPARENT}},_r=function(t){return(255&t)===0},gt=function(t){var e=255&t,A=255&t>>8,n=255&t>>16,r=255&t>>24;return e<255?"rgba("+r+","+n+","+A+","+e/255+")":"rgb("+r+","+n+","+A+")"},cr=function(t,e,A,n){return(t<<24|e<<16|A<<8|Math.round(n*255)<<0)>>>0},vy=function(t,e){if(t.type===17)return t.number;if(t.type===16){var A=e===3?1:255;return e===3?t.number/100*A:Math.round(t.number/100*A)}return 0},Cy=function(t,e){var A=e.filter(Ei);if(A.length===3){var n=A.map(vy),r=n[0],s=n[1],i=n[2];return cr(r,s,i,1)}if(A.length===4){var o=A.map(vy),r=o[0],s=o[1],i=o[2],a=o[3];return cr(r,s,i,a)}return 0};function rf(t,e,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(e-t)*A*6+t:A<1/2?e:A<2/3?(e-t)*6*(2/3-A)+t:t}var Ey=function(t,e){var A=e.filter(Ei),n=A[0],r=A[1],s=A[2],i=A[3],o=(n.type===17?IA(n.number):Xu.parse(t,n))/(Math.PI*2),a=at(r)?r.number/100:0,l=at(s)?s.number/100:0,d=typeof i<"u"&&at(i)?Ge(i,1):1;if(a===0)return cr(l*255,l*255,l*255,1);var c=l<=.5?l*(a+1):l+a-l*a,u=l*2-c,p=rf(u,c,o+1/3),w=rf(u,c,o),m=rf(u,c,o-1/3);return cr(p*255,w*255,m*255,d)},Q4={hsl:Ey,hsla:Ey,rgb:Cy,rgba:Cy},Do=function(t,e){return Er.parse(t,iF.create(e).parseComponentValue())},Tn={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},U4={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(A){if(Re(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},I4={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Yu=function(t,e){var A=Er.parse(t,e[0]),n=e[1];return n&&at(n)?{color:A,stop:n}:{color:A,stop:null}},_y=function(t,e){var A=t[0],n=t[t.length-1];A.stop===null&&(A.stop=Qt),n.stop===null&&(n.stop=lr);for(var r=[],s=0,i=0;i<t.length;i++){var o=t[i].stop;if(o!==null){var a=Ge(o,e);a>s?r.push(a):r.push(s),s=a}else r.push(null)}for(var l=null,i=0;i<r.length;i++){var d=r[i];if(d===null)l===null&&(l=i);else if(l!==null){for(var c=i-l,u=r[l-1],p=(d-u)/(c+1),w=1;w<=c;w++)r[l+w-1]=p*w;l=null}}return t.map(function(m,I){var B=m.color;return{color:B,stop:Math.max(Math.min(1,r[I]/e),0)}})},x4=function(t,e,A){var n=e/2,r=A/2,s=Ge(t[0],e)-n,i=r-Ge(t[1],A);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},S4=function(t,e,A){var n=typeof t=="number"?t:x4(t,e,A),r=Math.abs(e*Math.sin(n))+Math.abs(A*Math.cos(n)),s=e/2,i=A/2,o=r/2,a=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[r,s-l,s+l,i-a,i+a]},LA=function(t,e){return Math.sqrt(t*t+e*e)},Fy=function(t,e,A,n,r){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(i,o){var a=o[0],l=o[1],d=LA(A-a,n-l);return(r?d<i.optimumDistance:d>i.optimumDistance)?{optimumCorner:o,optimumDistance:d}:i},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},b4=function(t,e,A,n,r){var s=0,i=0;switch(t.size){case 0:t.shape===0?s=i=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(A),Math.abs(A-r)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),i=Math.min(Math.abs(A),Math.abs(A-r)));break;case 2:if(t.shape===0)s=i=Math.min(LA(e,A),LA(e,A-r),LA(e-n,A),LA(e-n,A-r));else if(t.shape===1){var o=Math.min(Math.abs(A),Math.abs(A-r))/Math.min(Math.abs(e),Math.abs(e-n)),a=Fy(n,r,e,A,!0),l=a[0],d=a[1];s=LA(l-e,(d-A)/o),i=o*s}break;case 1:t.shape===0?s=i=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(A),Math.abs(A-r)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),i=Math.max(Math.abs(A),Math.abs(A-r)));break;case 3:if(t.shape===0)s=i=Math.max(LA(e,A),LA(e,A-r),LA(e-n,A),LA(e-n,A-r));else if(t.shape===1){var o=Math.max(Math.abs(A),Math.abs(A-r))/Math.max(Math.abs(e),Math.abs(e-n)),c=Fy(n,r,e,A,!1),l=c[0],d=c[1];s=LA(l-e,(d-A)/o),i=o*s}break}return Array.isArray(t.size)&&(s=Ge(t.size[0],n),i=t.size.length===2?Ge(t.size[1],r):s),[s,i]},T4=function(t,e){var A=IA(180),n=[];return pn(e).forEach(function(r,s){if(s===0){var i=r[0];if(i.type===20&&i.value==="to"){A=hF(r);return}else if(fF(i)){A=Xu.parse(t,i);return}}var o=Yu(t,r);n.push(o)}),{angle:A,stops:n,type:1}},_l=function(t,e){var A=IA(180),n=[];return pn(e).forEach(function(r,s){if(s===0){var i=r[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){A=hF(r);return}else if(fF(i)){A=(Xu.parse(t,i)+IA(270))%IA(360);return}}var o=Yu(t,r);n.push(o)}),{angle:A,stops:n,type:1}},D4=function(t,e){var A=IA(180),n=[],r=1,s=0,i=3,o=[];return pn(e).forEach(function(a,l){var d=a[0];if(l===0){if(Re(d)&&d.value==="linear"){r=1;return}else if(Re(d)&&d.value==="radial"){r=2;return}}if(d.type===18){if(d.name==="from"){var c=Er.parse(t,d.values[0]);n.push({stop:Qt,color:c})}else if(d.name==="to"){var c=Er.parse(t,d.values[0]);n.push({stop:lr,color:c})}else if(d.name==="color-stop"){var u=d.values.filter(Ei);if(u.length===2){var c=Er.parse(t,u[1]),p=u[0];ki(p)&&n.push({stop:{type:16,number:p.number*100,flags:p.flags},color:c})}}}}),r===1?{angle:(A+IA(180))%IA(360),stops:n,type:r}:{size:i,shape:s,stops:n,position:o,type:r}},pF="closest-side",gF="farthest-side",wF="closest-corner",BF="farthest-corner",mF="circle",yF="ellipse",vF="cover",CF="contain",N4=function(t,e){var A=0,n=3,r=[],s=[];return pn(e).forEach(function(i,o){var a=!0;if(o===0){var l=!1;a=i.reduce(function(c,u){if(l)if(Re(u))switch(u.value){case"center":return s.push(ow),c;case"top":case"left":return s.push(Qt),c;case"right":case"bottom":return s.push(lr),c}else(at(u)||xr(u))&&s.push(u);else if(Re(u))switch(u.value){case mF:return A=0,!1;case yF:return A=1,!1;case"at":return l=!0,!1;case pF:return n=0,!1;case vF:case gF:return n=1,!1;case CF:case wF:return n=2,!1;case BF:return n=3,!1}else if(xr(u)||at(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return c},a)}if(a){var d=Yu(t,i);r.push(d)}}),{size:n,shape:A,stops:r,position:s,type:2}},Fl=function(t,e){var A=0,n=3,r=[],s=[];return pn(e).forEach(function(i,o){var a=!0;if(o===0?a=i.reduce(function(d,c){if(Re(c))switch(c.value){case"center":return s.push(ow),!1;case"top":case"left":return s.push(Qt),!1;case"right":case"bottom":return s.push(lr),!1}else if(at(c)||xr(c))return s.push(c),!1;return d},a):o===1&&(a=i.reduce(function(d,c){if(Re(c))switch(c.value){case mF:return A=0,!1;case yF:return A=1,!1;case CF:case pF:return n=0,!1;case gF:return n=1,!1;case wF:return n=2,!1;case vF:case BF:return n=3,!1}else if(xr(c)||at(c))return Array.isArray(n)||(n=[]),n.push(c),!1;return d},a)),a){var l=Yu(t,i);r.push(l)}}),{size:n,shape:A,stops:r,position:s,type:2}},H4=function(t){return t.type===1},k4=function(t){return t.type===2},aw={name:"image",parse:function(t,e){if(e.type===22){var A={url:e.value,type:0};return t.cache.addImage(e.value),A}if(e.type===18){var n=EF[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function L4(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!EF[t.name])}var EF={"linear-gradient":T4,"-moz-linear-gradient":_l,"-ms-linear-gradient":_l,"-o-linear-gradient":_l,"-webkit-linear-gradient":_l,"radial-gradient":N4,"-moz-radial-gradient":Fl,"-ms-radial-gradient":Fl,"-o-radial-gradient":Fl,"-webkit-radial-gradient":Fl,"-webkit-gradient":D4},R4={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var A=e[0];return A.type===20&&A.value==="none"?[]:e.filter(function(n){return Ei(n)&&L4(n)}).map(function(n){return aw.parse(t,n)})}},P4={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(A){if(Re(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},O4={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return pn(e).map(function(A){return A.filter(at)}).map(aF)}},M4={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return pn(e).map(function(A){return A.filter(Re).map(function(n){return n.value}).join(" ")}).map(K4)}},K4=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},oi;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(oi||(oi={}));var V4={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return pn(e).map(function(A){return A.filter(G4)})}},G4=function(t){return Re(t)||at(t)},$u=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},j4=$u("top"),z4=$u("right"),W4=$u("bottom"),X4=$u("left"),Ju=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,A){return aF(A.filter(at))}}},Y4=Ju("top-left"),$4=Ju("top-right"),J4=Ju("bottom-right"),Z4=Ju("bottom-left"),Zu=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,A){switch(A){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},q4=Zu("top"),eR=Zu("right"),tR=Zu("bottom"),AR=Zu("left"),qu=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return xa(A)?A.number:0}}},nR=qu("top"),rR=qu("right"),sR=qu("bottom"),iR=qu("left"),oR={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},aR={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},lR={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Re).reduce(function(A,n){return A|cR(n.value)},0)}},cR=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},uR={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},dR={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},qc;(function(t){t.NORMAL="normal",t.STRICT="strict"})(qc||(qc={}));var fR={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return qc.STRICT;case"normal":default:return qc.NORMAL}}},hR={name:"line-height",initialValue:"normal",prefix:!1,type:4},Qy=function(t,e){return Re(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:at(t)?Ge(t,e):e},pR={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:aw.parse(t,e)}},gR={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Jh={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ed=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},wR=ed("top"),BR=ed("right"),mR=ed("bottom"),yR=ed("left"),vR={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Re).map(function(A){switch(A.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},CR={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},td=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ER=td("top"),_R=td("right"),FR=td("bottom"),QR=td("left"),UR={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},IR={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},xR={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&$h(e[0],"none")?[]:pn(e).map(function(A){for(var n={color:Tn.TRANSPARENT,offsetX:Qt,offsetY:Qt,blur:Qt},r=0,s=0;s<A.length;s++){var i=A[s];xr(i)?(r===0?n.offsetX=i:r===1?n.offsetY=i:n.blur=i,r++):n.color=Er.parse(t,i)}return n})}},SR={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},bR={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var A=NR[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return A(e.values)}return null}},TR=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number});return e.length===6?e:null},DR=function(t){var e=t.filter(function(a){return a.type===17}).map(function(a){return a.number}),A=e[0],n=e[1];e[2],e[3];var r=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var i=e[12],o=e[13];return e[14],e[15],e.length===16?[A,n,r,s,i,o]:null},NR={matrix:TR,matrix3d:DR},Uy={type:16,number:50,flags:Ia},HR=[Uy,Uy],kR={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var A=e.filter(at);return A.length!==2?HR:[A[0],A[1]]}},LR={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},No;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(No||(No={}));var RR={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return No.BREAK_ALL;case"keep-all":return No.KEEP_ALL;case"normal":default:return No.NORMAL}}},PR={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(ki(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},_F={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},OR={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return ki(e)?e.number:1}},MR={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},KR={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Re).map(function(A){switch(A.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(A){return A!==0})}},VR={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var A=[],n=[];return e.forEach(function(r){switch(r.type){case 20:case 0:A.push(r.value);break;case 17:A.push(r.number.toString());break;case 4:n.push(A.join(" ")),A.length=0;break}}),A.length&&n.push(A.join(" ")),n.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},GR={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},jR={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(ki(e))return e.number;if(Re(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},zR={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Re).map(function(A){return A.value})}},WR={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ht=function(t,e){return(t&e)!==0},XR={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var A=e[0];return A.type===20&&A.value==="none"?[]:e}},YR={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var A=e[0];if(A.type===20&&A.value==="none")return null;for(var n=[],r=e.filter(oF),s=0;s<r.length;s++){var i=r[s],o=r[s+1];if(i.type===20){var a=o&&ki(o)?o.number:1;n.push({counter:i.value,increment:a})}}return n}},$R={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var A=[],n=e.filter(oF),r=0;r<n.length;r++){var s=n[r],i=n[r+1];if(Re(s)&&s.value!=="none"){var o=i&&ki(i)?i.number:0;A.push({counter:s.value,reset:o})}}return A}},JR={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(xa).map(function(A){return _F.parse(t,A)})}},ZR={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var A=e[0];if(A.type===20&&A.value==="none")return null;var n=[],r=e.filter(_4);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var i=r[s].value,o=r[s+1].value;n.push({open:i,close:o})}return n}},Iy=function(t,e,A){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?A?n.open:n.close:""},qR={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&$h(e[0],"none")?[]:pn(e).map(function(A){for(var n={color:255,offsetX:Qt,offsetY:Qt,blur:Qt,spread:Qt,inset:!1},r=0,s=0;s<A.length;s++){var i=A[s];$h(i,"inset")?n.inset=!0:xr(i)?(r===0?n.offsetX=i:r===1?n.offsetY=i:r===2?n.blur=i:n.spread=i,r++):n.color=Er.parse(t,i)}return n})}},e2={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var A=[0,1,2],n=[];return e.filter(Re).forEach(function(r){switch(r.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),A.forEach(function(r){n.indexOf(r)===-1&&n.push(r)}),n}},t2={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},A2={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return xa(e)?e.number:0}},n2=function(){function t(e,A){var n,r;this.animationDuration=Y(e,JR,A.animationDuration),this.backgroundClip=Y(e,U4,A.backgroundClip),this.backgroundColor=Y(e,I4,A.backgroundColor),this.backgroundImage=Y(e,R4,A.backgroundImage),this.backgroundOrigin=Y(e,P4,A.backgroundOrigin),this.backgroundPosition=Y(e,O4,A.backgroundPosition),this.backgroundRepeat=Y(e,M4,A.backgroundRepeat),this.backgroundSize=Y(e,V4,A.backgroundSize),this.borderTopColor=Y(e,j4,A.borderTopColor),this.borderRightColor=Y(e,z4,A.borderRightColor),this.borderBottomColor=Y(e,W4,A.borderBottomColor),this.borderLeftColor=Y(e,X4,A.borderLeftColor),this.borderTopLeftRadius=Y(e,Y4,A.borderTopLeftRadius),this.borderTopRightRadius=Y(e,$4,A.borderTopRightRadius),this.borderBottomRightRadius=Y(e,J4,A.borderBottomRightRadius),this.borderBottomLeftRadius=Y(e,Z4,A.borderBottomLeftRadius),this.borderTopStyle=Y(e,q4,A.borderTopStyle),this.borderRightStyle=Y(e,eR,A.borderRightStyle),this.borderBottomStyle=Y(e,tR,A.borderBottomStyle),this.borderLeftStyle=Y(e,AR,A.borderLeftStyle),this.borderTopWidth=Y(e,nR,A.borderTopWidth),this.borderRightWidth=Y(e,rR,A.borderRightWidth),this.borderBottomWidth=Y(e,sR,A.borderBottomWidth),this.borderLeftWidth=Y(e,iR,A.borderLeftWidth),this.boxShadow=Y(e,qR,A.boxShadow),this.color=Y(e,oR,A.color),this.direction=Y(e,aR,A.direction),this.display=Y(e,lR,A.display),this.float=Y(e,uR,A.cssFloat),this.fontFamily=Y(e,VR,A.fontFamily),this.fontSize=Y(e,GR,A.fontSize),this.fontStyle=Y(e,WR,A.fontStyle),this.fontVariant=Y(e,zR,A.fontVariant),this.fontWeight=Y(e,jR,A.fontWeight),this.letterSpacing=Y(e,dR,A.letterSpacing),this.lineBreak=Y(e,fR,A.lineBreak),this.lineHeight=Y(e,hR,A.lineHeight),this.listStyleImage=Y(e,pR,A.listStyleImage),this.listStylePosition=Y(e,gR,A.listStylePosition),this.listStyleType=Y(e,Jh,A.listStyleType),this.marginTop=Y(e,wR,A.marginTop),this.marginRight=Y(e,BR,A.marginRight),this.marginBottom=Y(e,mR,A.marginBottom),this.marginLeft=Y(e,yR,A.marginLeft),this.opacity=Y(e,OR,A.opacity);var s=Y(e,vR,A.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Y(e,CR,A.overflowWrap),this.paddingTop=Y(e,ER,A.paddingTop),this.paddingRight=Y(e,_R,A.paddingRight),this.paddingBottom=Y(e,FR,A.paddingBottom),this.paddingLeft=Y(e,QR,A.paddingLeft),this.paintOrder=Y(e,e2,A.paintOrder),this.position=Y(e,IR,A.position),this.textAlign=Y(e,UR,A.textAlign),this.textDecorationColor=Y(e,MR,(n=A.textDecorationColor)!==null&&n!==void 0?n:A.color),this.textDecorationLine=Y(e,KR,(r=A.textDecorationLine)!==null&&r!==void 0?r:A.textDecoration),this.textShadow=Y(e,xR,A.textShadow),this.textTransform=Y(e,SR,A.textTransform),this.transform=Y(e,bR,A.transform),this.transformOrigin=Y(e,kR,A.transformOrigin),this.visibility=Y(e,LR,A.visibility),this.webkitTextStrokeColor=Y(e,t2,A.webkitTextStrokeColor),this.webkitTextStrokeWidth=Y(e,A2,A.webkitTextStrokeWidth),this.wordBreak=Y(e,RR,A.wordBreak),this.zIndex=Y(e,PR,A.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return _r(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return ht(this.display,4)||ht(this.display,33554432)||ht(this.display,268435456)||ht(this.display,536870912)||ht(this.display,67108864)||ht(this.display,134217728)},t}(),r2=function(){function t(e,A){this.content=Y(e,XR,A.content),this.quotes=Y(e,ZR,A.quotes)}return t}(),xy=function(){function t(e,A){this.counterIncrement=Y(e,YR,A.counterIncrement),this.counterReset=Y(e,$R,A.counterReset)}return t}(),Y=function(t,e,A){var n=new sF,r=A!==null&&typeof A<"u"?A.toString():e.initialValue;n.write(r);var s=new iF(n.read());switch(e.type){case 2:var i=s.parseComponentValue();return e.parse(t,Re(i)?i.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Xu.parse(t,s.parseComponentValue());case"color":return Er.parse(t,s.parseComponentValue());case"image":return aw.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return xr(o)?o:Qt;case"length-percentage":var a=s.parseComponentValue();return at(a)?a:Qt;case"time":return _F.parse(t,s.parseComponentValue())}break}},s2="data-html2canvas-debug",i2=function(t){var e=t.getAttribute(s2);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Zh=function(t,e){var A=i2(t);return A===1||e===A},gn=function(){function t(e,A){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Zh(A,3))debugger;this.styles=new n2(e,window.getComputedStyle(A,null)),tp(A)&&(this.styles.animationDuration.some(function(n){return n>0})&&(A.style.animationDuration="0s"),this.styles.transform!==null&&(A.style.transform="none")),this.bounds=zu(this.context,A),Zh(A,4)&&(this.flags|=16)}return t}(),o2="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Sy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ho=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ql=0;Ql<Sy.length;Ql++)ho[Sy.charCodeAt(Ql)]=Ql;var a2=function(t){var e=t.length*.75,A=t.length,n,r=0,s,i,o,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<A;n+=4)s=ho[t.charCodeAt(n)],i=ho[t.charCodeAt(n+1)],o=ho[t.charCodeAt(n+2)],a=ho[t.charCodeAt(n+3)],d[r++]=s<<2|i>>4,d[r++]=(i&15)<<4|o>>2,d[r++]=(o&3)<<6|a&63;return l},l2=function(t){for(var e=t.length,A=[],n=0;n<e;n+=2)A.push(t[n+1]<<8|t[n]);return A},c2=function(t){for(var e=t.length,A=[],n=0;n<e;n+=4)A.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return A},As=5,lw=11,sf=2,u2=lw-As,FF=65536>>As,d2=1<<As,of=d2-1,f2=1024>>As,h2=FF+f2,p2=h2,g2=32,w2=p2+g2,B2=65536>>lw,m2=1<<u2,y2=m2-1,by=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},v2=function(t,e,A){return t.slice?t.slice(e,A):new Uint32Array(Array.prototype.slice.call(t,e,A))},C2=function(t,e){var A=a2(t),n=Array.isArray(A)?c2(A):new Uint32Array(A),r=Array.isArray(A)?l2(A):new Uint16Array(A),s=24,i=by(r,s/2,n[4]/2),o=n[5]===2?by(r,(s+n[4])/2):v2(n,Math.ceil((s+n[4])/4));return new E2(n[0],n[1],n[2],n[3],i,o)},E2=function(){function t(e,A,n,r,s,i){this.initialValue=e,this.errorValue=A,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=i}return t.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=this.index[e>>As],A=(A<<sf)+(e&of),this.data[A];if(e<=65535)return A=this.index[FF+(e-55296>>As)],A=(A<<sf)+(e&of),this.data[A];if(e<this.highStart)return A=w2-B2+(e>>lw),A=this.index[A],A+=e>>As&y2,A=this.index[A],A=(A<<sf)+(e&of),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Ty="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ul=0;Ul<Ty.length;Ul++)_2[Ty.charCodeAt(Ul)]=Ul;var F2=1,af=2,lf=3,Dy=4,Ny=5,Q2=7,Hy=8,cf=9,uf=10,ky=11,Ly=12,Ry=13,Py=14,df=15,U2=function(t){for(var e=[],A=0,n=t.length;A<n;){var r=t.charCodeAt(A++);if(r>=55296&&r<=56319&&A<n){var s=t.charCodeAt(A++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),A--)}else e.push(r)}return e},I2=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var n=[],r=-1,s="";++r<A;){var i=t[r];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(r+1===A||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},x2=C2(o2),vA="",ff="",S2=function(t){return x2.get(t)},b2=function(t,e,A){var n=A-2,r=e[n],s=e[A-1],i=e[A];if(s===af&&i===lf)return vA;if(s===af||s===lf||s===Dy||i===af||i===lf||i===Dy)return ff;if(s===Hy&&[Hy,cf,ky,Ly].indexOf(i)!==-1||(s===ky||s===cf)&&(i===cf||i===uf)||(s===Ly||s===uf)&&i===uf||i===Ry||i===Ny||i===Q2||s===F2)return vA;if(s===Ry&&i===Py){for(;r===Ny;)r=e[--n];if(r===Py)return vA}if(s===df&&i===df){for(var o=0;r===df;)o++,r=e[--n];if(o%2===0)return vA}return ff},T2=function(t){var e=U2(t),A=e.length,n=0,r=0,s=e.map(S2);return{next:function(){if(n>=A)return{done:!0,value:null};for(var i=vA;n<A&&(i=b2(e,s,++n))===vA;);if(i!==vA||n===A){var o=I2.apply(null,e.slice(r,n));return r=n,{value:o,done:!1}}return{done:!0,value:null}}}},D2=function(t){for(var e=T2(t),A=[],n;!(n=e.next()).done;)n.value&&A.push(n.value.slice());return A},N2=function(t){var e=123;if(t.createRange){var A=t.createRange();if(A.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),A.selectNode(n);var r=A.getBoundingClientRect(),s=Math.round(r.height);if(t.body.removeChild(n),s===e)return!0}}return!1},H2=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var A=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,r=Wu(n.data).map(function(a){return st(a)}),s=0,i={},o=r.every(function(a,l){A.setStart(n,s),A.setEnd(n,s+a.length);var d=A.getBoundingClientRect();s+=a.length;var c=d.x>i.x||d.y>i.y;return i=d,l===0?!0:c});return t.body.removeChild(e),o},k2=function(){return typeof new Image().crossOrigin<"u"},L2=function(){return typeof new XMLHttpRequest().responseType=="string"},R2=function(t){var e=new Image,A=t.createElement("canvas"),n=A.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),A.toDataURL()}catch{return!1}return!0},Oy=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},P2=function(t){var e=t.createElement("canvas"),A=100;e.width=A,e.height=A;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,A,A);var r=new Image,s=e.toDataURL();r.src=s;var i=qh(A,A,0,0,r);return n.fillStyle="red",n.fillRect(0,0,A,A),My(i).then(function(o){n.drawImage(o,0,0);var a=n.getImageData(0,0,A,A).data;n.fillStyle="red",n.fillRect(0,0,A,A);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=A+"px",Oy(a)?My(qh(A,A,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),Oy(n.getImageData(0,0,A,A).data)}).catch(function(){return!1})},qh=function(t,e,A,n,r){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",A.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(r),i},My=function(t){return new Promise(function(e,A){var n=new Image;n.onload=function(){return e(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},_t={get SUPPORT_RANGE_BOUNDS(){var t=N2(document);return Object.defineProperty(_t,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=_t.SUPPORT_RANGE_BOUNDS&&H2(document);return Object.defineProperty(_t,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=R2(document);return Object.defineProperty(_t,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?P2(document):Promise.resolve(!1);return Object.defineProperty(_t,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=k2();return Object.defineProperty(_t,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=L2();return Object.defineProperty(_t,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(_t,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(_t,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Ho=function(){function t(e,A){this.text=e,this.bounds=A}return t}(),O2=function(t,e,A,n){var r=V2(e,A),s=[],i=0;return r.forEach(function(o){if(A.textDecorationLine.length||o.trim().length>0)if(_t.SUPPORT_RANGE_BOUNDS){var a=Ky(n,i,o.length).getClientRects();if(a.length>1){var l=cw(o),d=0;l.forEach(function(u){s.push(new Ho(u,Mn.fromDOMRectList(t,Ky(n,d+i,u.length).getClientRects()))),d+=u.length})}else s.push(new Ho(o,Mn.fromDOMRectList(t,a)))}else{var c=n.splitText(o.length);s.push(new Ho(o,M2(t,n))),n=c}else _t.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));i+=o.length}),s},M2=function(t,e){var A=e.ownerDocument;if(A){var n=A.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(n,e);var s=zu(t,n);return n.firstChild&&r.replaceChild(n.firstChild,n),s}}return Mn.EMPTY},Ky=function(t,e,A){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(t,e),r.setEnd(t,e+A),r},cw=function(t){if(_t.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(A){return A.segment})}return D2(t)},K2=function(t,e){if(_t.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(A.segment(t)).map(function(n){return n.segment})}return j2(t,e)},V2=function(t,e){return e.letterSpacing!==0?cw(t):K2(t,e)},G2=[32,160,4961,65792,65793,4153,4241],j2=function(t,e){for(var A=BL(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],r,s=function(){if(r.value){var i=r.value.slice(),o=Wu(i),a="";o.forEach(function(l){G2.indexOf(l)===-1?a+=st(l):(a.length&&n.push(a),n.push(st(l)),a="")}),a.length&&n.push(a)}};!(r=A.next()).done;)s();return n},z2=function(){function t(e,A,n){this.text=W2(A.data,n.textTransform),this.textBounds=O2(e,this.text,n,A)}return t}(),W2=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(X2,Y2);case 2:return t.toUpperCase();default:return t}},X2=/(^|\s|:|-|\(|\))([a-z])/g,Y2=function(t,e,A){return t.length>0?e+A.toUpperCase():t},QF=function(t){JA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return e}(gn),UF=function(t){JA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return e}(gn),IF=function(t){JA(e,t);function e(A,n){var r=t.call(this,A,n)||this,s=new XMLSerializer,i=zu(A,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e}(gn),xF=function(t){JA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.value=n.value,r}return e}(gn),ep=function(t){JA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.start=n.start,r.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,r}return e}(gn),$2=[{type:15,flags:0,unit:"px",number:3}],J2=[{type:16,flags:0,number:50}],Z2=function(t){return t.width>t.height?new Mn(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Mn(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},q2=function(t){var e=t.type===eP?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},eu="checkbox",tu="radio",eP="password",Vy=707406591,uw=function(t){JA(e,t);function e(A,n){var r=t.call(this,A,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=q2(n),(r.type===eu||r.type===tu)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Z2(r.bounds)),r.type){case eu:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=$2;break;case tu:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=J2;break}return r}return e}(gn),SF=function(t){JA(e,t);function e(A,n){var r=t.call(this,A,n)||this,s=n.options[n.selectedIndex||0];return r.value=s&&s.text||"",r}return e}(gn),bF=function(t){JA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.value=n.value,r}return e}(gn),TF=function(t){JA(e,t);function e(A,n){var r=t.call(this,A,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=NF(A,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Do(A,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Tn.TRANSPARENT,i=n.contentWindow.document.body?Do(A,getComputedStyle(n.contentWindow.document.body).backgroundColor):Tn.TRANSPARENT;r.backgroundColor=_r(s)?_r(i)?r.styles.backgroundColor:i:s}}catch{}return r}return e}(gn),tP=["OL","UL","MENU"],Zl=function(t,e,A,n){for(var r=e.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,HF(r)&&r.data.trim().length>0)A.textNodes.push(new z2(t,r,A.styles));else if(Xs(r))if(PF(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return Zl(t,o,A,n)});else{var i=DF(t,r);i.styles.isVisible()&&(AP(r,i,n)?i.flags|=4:nP(i.styles)&&(i.flags|=2),tP.indexOf(r.tagName)!==-1&&(i.flags|=8),A.elements.push(i),r.slot,r.shadowRoot?Zl(t,r.shadowRoot,i,n):!Au(r)&&!kF(r)&&!nu(r)&&Zl(t,r,i,n))}},DF=function(t,e){return Ap(e)?new QF(t,e):LF(e)?new UF(t,e):kF(e)?new IF(t,e):rP(e)?new xF(t,e):sP(e)?new ep(t,e):iP(e)?new uw(t,e):nu(e)?new SF(t,e):Au(e)?new bF(t,e):RF(e)?new TF(t,e):new gn(t,e)},NF=function(t,e){var A=DF(t,e);return A.flags|=4,Zl(t,e,A,A),A},AP=function(t,e,A){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||dw(t)&&A.styles.isTransparent()},nP=function(t){return t.isPositioned()||t.isFloating()},HF=function(t){return t.nodeType===Node.TEXT_NODE},Xs=function(t){return t.nodeType===Node.ELEMENT_NODE},tp=function(t){return Xs(t)&&typeof t.style<"u"&&!ql(t)},ql=function(t){return typeof t.className=="object"},rP=function(t){return t.tagName==="LI"},sP=function(t){return t.tagName==="OL"},iP=function(t){return t.tagName==="INPUT"},oP=function(t){return t.tagName==="HTML"},kF=function(t){return t.tagName==="svg"},dw=function(t){return t.tagName==="BODY"},LF=function(t){return t.tagName==="CANVAS"},Gy=function(t){return t.tagName==="VIDEO"},Ap=function(t){return t.tagName==="IMG"},RF=function(t){return t.tagName==="IFRAME"},jy=function(t){return t.tagName==="STYLE"},aP=function(t){return t.tagName==="SCRIPT"},Au=function(t){return t.tagName==="TEXTAREA"},nu=function(t){return t.tagName==="SELECT"},PF=function(t){return t.tagName==="SLOT"},zy=function(t){return t.tagName.indexOf("-")>0},lP=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var A=this.counters[e];return A&&A.length?A[A.length-1]:1},t.prototype.getCounterValues=function(e){var A=this.counters[e];return A||[]},t.prototype.pop=function(e){var A=this;e.forEach(function(n){return A.counters[n].pop()})},t.prototype.parse=function(e){var A=this,n=e.counterIncrement,r=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var a=A.counters[o.counter];a&&o.increment!==0&&(s=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=o.increment)});var i=[];return s&&r.forEach(function(o){var a=A.counters[o.counter];i.push(o.counter),a||(a=A.counters[o.counter]=[]),a.push(o.reset)}),i},t}(),Wy={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Xy={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},cP={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},uP={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Is=function(t,e,A,n,r,s){return t<e||t>A?fa(t,r,s.length>0):n.integers.reduce(function(i,o,a){for(;t>=o;)t-=o,i+=n.values[a];return i},"")+s},OF=function(t,e,A,n){var r="";do A||t--,r=n(t)+r,t/=e;while(t*e>=e);return r},rt=function(t,e,A,n,r){var s=A-e+1;return(t<0?"-":"")+(OF(Math.abs(t),s,n,function(i){return st(Math.floor(i%s)+e)})+r)},Pr=function(t,e,A){A===void 0&&(A=". ");var n=e.length;return OF(Math.abs(t),n,!1,function(r){return e[Math.floor(r%n)]})+A},Ts=1,Yn=2,$n=4,po=8,Cn=function(t,e,A,n,r,s){if(t<-9999||t>9999)return fa(t,4,r.length>0);var i=Math.abs(t),o=r;if(i===0)return e[0]+o;for(var a=0;i>0&&a<=4;a++){var l=i%10;l===0&&ht(s,Ts)&&o!==""?o=e[l]+o:l>1||l===1&&a===0||l===1&&a===1&&ht(s,Yn)||l===1&&a===1&&ht(s,$n)&&t>100||l===1&&a>1&&ht(s,po)?o=e[l]+(a>0?A[a-1]:"")+o:l===1&&a>0&&(o=A[a-1]+o),i=Math.floor(i/10)}return(t<0?n:"")+o},Yy="",$y="",Jy="",hf="",fa=function(t,e,A){var n=A?". ":"",r=A?"":"",s=A?", ":"",i=A?" ":"";switch(e){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var o=rt(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Pr(t,"",r);case 6:return Is(t,1,3999,Wy,3,n).toLowerCase();case 7:return Is(t,1,3999,Wy,3,n);case 8:return rt(t,945,969,!1,n);case 9:return rt(t,97,122,!1,n);case 10:return rt(t,65,90,!1,n);case 11:return rt(t,1632,1641,!0,n);case 12:case 49:return Is(t,1,9999,Xy,3,n);case 35:return Is(t,1,9999,Xy,3,n).toLowerCase();case 13:return rt(t,2534,2543,!0,n);case 14:case 30:return rt(t,6112,6121,!0,n);case 15:return Pr(t,"",r);case 16:return Pr(t,"",r);case 17:case 48:return Cn(t,"",Yy,"",r,Yn|$n|po);case 47:return Cn(t,"",$y,"",r,Ts|Yn|$n|po);case 42:return Cn(t,"",Yy,"",r,Yn|$n|po);case 41:return Cn(t,"",$y,"",r,Ts|Yn|$n|po);case 26:return Cn(t,"","",Jy,r,0);case 25:return Cn(t,"","",Jy,r,Ts|Yn|$n);case 31:return Cn(t,"","",hf,s,Ts|Yn|$n);case 33:return Cn(t,"","",hf,s,0);case 32:return Cn(t,"","",hf,s,Ts|Yn|$n);case 18:return rt(t,2406,2415,!0,n);case 20:return Is(t,1,19999,uP,3,n);case 21:return rt(t,2790,2799,!0,n);case 22:return rt(t,2662,2671,!0,n);case 22:return Is(t,1,10999,cP,3,n);case 23:return Pr(t,"");case 24:return Pr(t,"");case 27:return rt(t,3302,3311,!0,n);case 28:return Pr(t,"",r);case 29:return Pr(t,"",r);case 34:return rt(t,3792,3801,!0,n);case 37:return rt(t,6160,6169,!0,n);case 38:return rt(t,4160,4169,!0,n);case 39:return rt(t,2918,2927,!0,n);case 40:return rt(t,1776,1785,!0,n);case 43:return rt(t,3046,3055,!0,n);case 44:return rt(t,3174,3183,!0,n);case 45:return rt(t,3664,3673,!0,n);case 46:return rt(t,3872,3881,!0,n);case 3:default:return rt(t,48,57,!0,n)}},MF="data-html2canvas-ignore",Zy=function(){function t(e,A,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=A,this.counters=new lP,this.quoteDepth=0,!A.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(A.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,A){var n=this,r=dP(e,A);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,o=r.contentWindow,a=o.document,l=pP(r).then(function(){return Vt(n,void 0,void 0,function(){var d,c;return Dt(this,function(u){switch(u.label){case 0:return this.scrolledElements.forEach(mP),o&&(o.scrollTo(A.left,A.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==A.top||o.scrollX!==A.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-A.left,o.scrollY-A.top,0,0))),d=this.options.onclone,c=this.clonedReferenceElement,typeof c>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:u.sent(),u.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,hP(a)]:[3,4];case 3:u.sent(),u.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(a,c)}).then(function(){return r})]:[2,r]}})})});return a.open(),a.write(wP(document.doctype)+"<html></html>"),BP(this.referenceElement.ownerDocument,s,i),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},t.prototype.createElementClone=function(e){if(Zh(e,2))debugger;if(LF(e))return this.createCanvasClone(e);if(Gy(e))return this.createVideoClone(e);if(jy(e))return this.createStyleClone(e);var A=e.cloneNode(!1);return Ap(A)&&(Ap(e)&&e.currentSrc&&e.currentSrc!==e.src&&(A.src=e.currentSrc,A.srcset=""),A.loading==="lazy"&&(A.loading="eager")),zy(A)?this.createCustomElementClone(A):A},t.prototype.createCustomElementClone=function(e){var A=document.createElement("html2canvascustomelement");return pf(e.style,A),A},t.prototype.createStyleClone=function(e){try{var A=e.sheet;if(A&&A.cssRules){var n=[].slice.call(A.cssRules,0).reduce(function(s,i){return i&&typeof i.cssText=="string"?s+i.cssText:s},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var A;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),i=r.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(A=e.getContext("webgl2"))!==null&&A!==void 0?A:e.getContext("webgl");if(o){var a=o.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},t.prototype.createVideoClone=function(e){var A=e.ownerDocument.createElement("canvas");A.width=e.offsetWidth,A.height=e.offsetHeight;var n=A.getContext("2d");try{return n&&(n.drawImage(e,0,0,A.width,A.height),this.options.allowTaint||n.getImageData(0,0,A.width,A.height)),A}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},t.prototype.appendChildNode=function(e,A,n){(!Xs(A)||!aP(A)&&!A.hasAttribute(MF)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(A)))&&(!this.options.copyStyles||!Xs(A)||!jy(A))&&e.appendChild(this.cloneNode(A,n))},t.prototype.cloneChildNodes=function(e,A,n){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Xs(s)&&PF(s)&&typeof s.assignedNodes=="function"){var i=s.assignedNodes();i.length&&i.forEach(function(o){return r.appendChildNode(A,o,n)})}else this.appendChildNode(A,s,n)},t.prototype.cloneNode=function(e,A){if(HF(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Xs(e)&&(tp(e)||ql(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&tp(r)&&(this.clonedReferenceElement=r),dw(r)&&CP(r);var a=this.counters.parse(new xy(this.context,s)),l=this.resolvePseudoContent(e,r,i,ko.BEFORE);zy(e)&&(A=!0),Gy(e)||this.cloneChildNodes(e,r,A),l&&r.insertBefore(l,r.firstChild);var d=this.resolvePseudoContent(e,r,o,ko.AFTER);return d&&r.appendChild(d),this.counters.pop(a),(s&&(this.options.copyStyles||ql(e))&&!RF(e)||A)&&pf(s,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Au(e)||nu(e))&&(Au(r)||nu(r))&&(r.value=e.value),r}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,A,n,r){var s=this;if(n){var i=n.content,o=A.ownerDocument;if(!(!o||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new xy(this.context,n));var a=new r2(this.context,n),l=o.createElement("html2canvaspseudoelement");pf(n,l),a.content.forEach(function(c){if(c.type===0)l.appendChild(o.createTextNode(c.value));else if(c.type===22){var u=o.createElement("img");u.src=c.value,u.style.opacity="1",l.appendChild(u)}else if(c.type===18){if(c.name==="attr"){var p=c.values.filter(Re);p.length&&l.appendChild(o.createTextNode(e.getAttribute(p[0].value)||""))}else if(c.name==="counter"){var w=c.values.filter(Ei),m=w[0],I=w[1];if(m&&Re(m)){var B=s.counters.getCounterValue(m.value),h=I&&Re(I)?Jh.parse(s.context,I.value):3;l.appendChild(o.createTextNode(fa(B,h,!1)))}}else if(c.name==="counters"){var g=c.values.filter(Ei),m=g[0],v=g[1],I=g[2];if(m&&Re(m)){var E=s.counters.getCounterValues(m.value),y=I&&Re(I)?Jh.parse(s.context,I.value):3,Q=v&&v.type===0?v.value:"",F=E.map(function(P){return fa(P,y,!1)}).join(Q);l.appendChild(o.createTextNode(F))}}}else if(c.type===20)switch(c.value){case"open-quote":l.appendChild(o.createTextNode(Iy(a.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(Iy(a.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(c.value))}}),l.className=np+" "+rp;var d=r===ko.BEFORE?" "+np:" "+rp;return ql(A)?A.className.baseValue+=d:A.className+=d,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),ko;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(ko||(ko={}));var dP=function(t,e){var A=t.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=e.width.toString(),A.height=e.height.toString(),A.scrolling="no",A.setAttribute(MF,"true"),t.body.appendChild(A),A},fP=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},hP=function(t){return Promise.all([].slice.call(t.images,0).map(fP))},pP=function(t){return new Promise(function(e,A){var n=t.contentWindow;if(!n)return A("No window assigned for iframe");var r=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},gP=["all","d","content"],pf=function(t,e){for(var A=t.length-1;A>=0;A--){var n=t.item(A);gP.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},wP=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},BP=function(t,e,A){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||A!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,A)},mP=function(t){var e=t[0],A=t[1],n=t[2];e.scrollLeft=A,e.scrollTop=n},yP=":before",vP=":after",np="___html2canvas___pseudoelement_before",rp="___html2canvas___pseudoelement_after",qy=`{
    content: "" !important;
    display: none !important;
}`,CP=function(t){EP(t,"."+np+yP+qy+`
         .`+rp+vP+qy)},EP=function(t,e){var A=t.ownerDocument;if(A){var n=A.createElement("style");n.textContent=e,t.appendChild(n)}},KF=function(){function t(){}return t.getOrigin=function(e){var A=t._link;return A?(A.href=e,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),_P=function(){function t(e,A){this.context=e,this._options=A,this._cache={}}return t.prototype.addImage=function(e){var A=Promise.resolve();return this.has(e)||(wf(e)||IP(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),A},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Vt(this,void 0,void 0,function(){var A,n,r,s,i=this;return Dt(this,function(o){switch(o.label){case 0:return A=KF.isSameOrigin(e),n=!gf(e)&&this._options.useCORS===!0&&_t.SUPPORT_CORS_IMAGES&&!A,r=!gf(e)&&!A&&!wf(e)&&typeof this._options.proxy=="string"&&_t.SUPPORT_CORS_XHR&&!n,!A&&this._options.allowTaint===!1&&!gf(e)&&!wf(e)&&!r&&!n?[2]:(s=e,r?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(a,l){var d=new Image;d.onload=function(){return a(d)},d.onerror=l,(xP(s)||n)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return a(d)},500),i._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var A=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,i){var o=_t.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(o==="text")s(a.response);else{var c=new FileReader;c.addEventListener("load",function(){return s(c.result)},!1),c.addEventListener("error",function(u){return i(u)},!1),c.readAsDataURL(a.response)}else i("Failed to proxy resource "+r+" with status code "+a.status)},a.onerror=i;var l=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=o),A._options.imageTimeout){var d=A._options.imageTimeout;a.timeout=d,a.ontimeout=function(){return i("Timed out ("+d+"ms) proxying "+r)}}a.send()})},t}(),FP=/^data:image\/svg\+xml/i,QP=/^data:image\/.*;base64,/i,UP=/^data:image\/.*/i,IP=function(t){return _t.SUPPORT_SVG_DRAWING||!SP(t)},gf=function(t){return UP.test(t)},xP=function(t){return QP.test(t)},wf=function(t){return t.substr(0,4)==="blob"},SP=function(t){return t.substr(-3).toLowerCase()==="svg"||FP.test(t)},W=function(){function t(e,A){this.type=0,this.x=e,this.y=A}return t.prototype.add=function(e,A){return new t(this.x+e,this.y+A)},t}(),xs=function(t,e,A){return new W(t.x+(e.x-t.x)*A,t.y+(e.y-t.y)*A)},Il=function(){function t(e,A,n,r){this.type=1,this.start=e,this.startControl=A,this.endControl=n,this.end=r}return t.prototype.subdivide=function(e,A){var n=xs(this.start,this.startControl,e),r=xs(this.startControl,this.endControl,e),s=xs(this.endControl,this.end,e),i=xs(n,r,e),o=xs(r,s,e),a=xs(i,o,e);return A?new t(this.start,n,i,a):new t(a,o,s,this.end)},t.prototype.add=function(e,A){return new t(this.start.add(e,A),this.startControl.add(e,A),this.endControl.add(e,A),this.end.add(e,A))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),_A=function(t){return t.type===1},bP=function(){function t(e){var A=e.styles,n=e.bounds,r=fo(A.borderTopLeftRadius,n.width,n.height),s=r[0],i=r[1],o=fo(A.borderTopRightRadius,n.width,n.height),a=o[0],l=o[1],d=fo(A.borderBottomRightRadius,n.width,n.height),c=d[0],u=d[1],p=fo(A.borderBottomLeftRadius,n.width,n.height),w=p[0],m=p[1],I=[];I.push((s+a)/n.width),I.push((w+c)/n.width),I.push((i+m)/n.height),I.push((l+u)/n.height);var B=Math.max.apply(Math,I);B>1&&(s/=B,i/=B,a/=B,l/=B,c/=B,u/=B,w/=B,m/=B);var h=n.width-a,g=n.height-u,v=n.width-c,E=n.height-m,y=A.borderTopWidth,Q=A.borderRightWidth,F=A.borderBottomWidth,N=A.borderLeftWidth,D=Ge(A.paddingTop,e.bounds.width),P=Ge(A.paddingRight,e.bounds.width),Z=Ge(A.paddingBottom,e.bounds.width),X=Ge(A.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?Xe(n.left+N/3,n.top+y/3,s-N/3,i-y/3,Te.TOP_LEFT):new W(n.left+N/3,n.top+y/3),this.topRightBorderDoubleOuterBox=s>0||i>0?Xe(n.left+h,n.top+y/3,a-Q/3,l-y/3,Te.TOP_RIGHT):new W(n.left+n.width-Q/3,n.top+y/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?Xe(n.left+v,n.top+g,c-Q/3,u-F/3,Te.BOTTOM_RIGHT):new W(n.left+n.width-Q/3,n.top+n.height-F/3),this.bottomLeftBorderDoubleOuterBox=w>0||m>0?Xe(n.left+N/3,n.top+E,w-N/3,m-F/3,Te.BOTTOM_LEFT):new W(n.left+N/3,n.top+n.height-F/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?Xe(n.left+N*2/3,n.top+y*2/3,s-N*2/3,i-y*2/3,Te.TOP_LEFT):new W(n.left+N*2/3,n.top+y*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?Xe(n.left+h,n.top+y*2/3,a-Q*2/3,l-y*2/3,Te.TOP_RIGHT):new W(n.left+n.width-Q*2/3,n.top+y*2/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?Xe(n.left+v,n.top+g,c-Q*2/3,u-F*2/3,Te.BOTTOM_RIGHT):new W(n.left+n.width-Q*2/3,n.top+n.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=w>0||m>0?Xe(n.left+N*2/3,n.top+E,w-N*2/3,m-F*2/3,Te.BOTTOM_LEFT):new W(n.left+N*2/3,n.top+n.height-F*2/3),this.topLeftBorderStroke=s>0||i>0?Xe(n.left+N/2,n.top+y/2,s-N/2,i-y/2,Te.TOP_LEFT):new W(n.left+N/2,n.top+y/2),this.topRightBorderStroke=s>0||i>0?Xe(n.left+h,n.top+y/2,a-Q/2,l-y/2,Te.TOP_RIGHT):new W(n.left+n.width-Q/2,n.top+y/2),this.bottomRightBorderStroke=c>0||u>0?Xe(n.left+v,n.top+g,c-Q/2,u-F/2,Te.BOTTOM_RIGHT):new W(n.left+n.width-Q/2,n.top+n.height-F/2),this.bottomLeftBorderStroke=w>0||m>0?Xe(n.left+N/2,n.top+E,w-N/2,m-F/2,Te.BOTTOM_LEFT):new W(n.left+N/2,n.top+n.height-F/2),this.topLeftBorderBox=s>0||i>0?Xe(n.left,n.top,s,i,Te.TOP_LEFT):new W(n.left,n.top),this.topRightBorderBox=a>0||l>0?Xe(n.left+h,n.top,a,l,Te.TOP_RIGHT):new W(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?Xe(n.left+v,n.top+g,c,u,Te.BOTTOM_RIGHT):new W(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=w>0||m>0?Xe(n.left,n.top+E,w,m,Te.BOTTOM_LEFT):new W(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?Xe(n.left+N,n.top+y,Math.max(0,s-N),Math.max(0,i-y),Te.TOP_LEFT):new W(n.left+N,n.top+y),this.topRightPaddingBox=a>0||l>0?Xe(n.left+Math.min(h,n.width-Q),n.top+y,h>n.width+Q?0:Math.max(0,a-Q),Math.max(0,l-y),Te.TOP_RIGHT):new W(n.left+n.width-Q,n.top+y),this.bottomRightPaddingBox=c>0||u>0?Xe(n.left+Math.min(v,n.width-N),n.top+Math.min(g,n.height-F),Math.max(0,c-Q),Math.max(0,u-F),Te.BOTTOM_RIGHT):new W(n.left+n.width-Q,n.top+n.height-F),this.bottomLeftPaddingBox=w>0||m>0?Xe(n.left+N,n.top+Math.min(E,n.height-F),Math.max(0,w-N),Math.max(0,m-F),Te.BOTTOM_LEFT):new W(n.left+N,n.top+n.height-F),this.topLeftContentBox=s>0||i>0?Xe(n.left+N+X,n.top+y+D,Math.max(0,s-(N+X)),Math.max(0,i-(y+D)),Te.TOP_LEFT):new W(n.left+N+X,n.top+y+D),this.topRightContentBox=a>0||l>0?Xe(n.left+Math.min(h,n.width+N+X),n.top+y+D,h>n.width+N+X?0:a-N+X,l-(y+D),Te.TOP_RIGHT):new W(n.left+n.width-(Q+P),n.top+y+D),this.bottomRightContentBox=c>0||u>0?Xe(n.left+Math.min(v,n.width-(N+X)),n.top+Math.min(g,n.height+y+D),Math.max(0,c-(Q+P)),u-(F+Z),Te.BOTTOM_RIGHT):new W(n.left+n.width-(Q+P),n.top+n.height-(F+Z)),this.bottomLeftContentBox=w>0||m>0?Xe(n.left+N+X,n.top+E,Math.max(0,w-(N+X)),m-(F+Z),Te.BOTTOM_LEFT):new W(n.left+N+X,n.top+n.height-(F+Z))}return t}(),Te;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Te||(Te={}));var Xe=function(t,e,A,n,r){var s=4*((Math.sqrt(2)-1)/3),i=A*s,o=n*s,a=t+A,l=e+n;switch(r){case Te.TOP_LEFT:return new Il(new W(t,l),new W(t,l-o),new W(a-i,e),new W(a,e));case Te.TOP_RIGHT:return new Il(new W(t,e),new W(t+i,e),new W(a,l-o),new W(a,l));case Te.BOTTOM_RIGHT:return new Il(new W(a,e),new W(a,e+o),new W(t+i,l),new W(t,l));case Te.BOTTOM_LEFT:default:return new Il(new W(a,l),new W(a-i,l),new W(t,e+o),new W(t,e))}},ru=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},TP=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},su=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},DP=function(){function t(e,A,n){this.offsetX=e,this.offsetY=A,this.matrix=n,this.type=0,this.target=6}return t}(),xl=function(){function t(e,A){this.path=e,this.target=A,this.type=1}return t}(),NP=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),HP=function(t){return t.type===0},VF=function(t){return t.type===1},kP=function(t){return t.type===2},ev=function(t,e){return t.length===e.length?t.some(function(A,n){return A===e[n]}):!1},LP=function(t,e,A,n,r){return t.map(function(s,i){switch(i){case 0:return s.add(e,A);case 1:return s.add(e+n,A);case 2:return s.add(e+n,A+r);case 3:return s.add(e,A+r)}return s})},GF=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),jF=function(){function t(e,A){if(this.container=e,this.parent=A,this.effects=[],this.curves=new bP(this.container),this.container.styles.opacity<1&&this.effects.push(new NP(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new DP(n,r,s))}if(this.container.styles.overflowX!==0){var i=ru(this.curves),o=su(this.curves);ev(i,o)?this.effects.push(new xl(i,6)):(this.effects.push(new xl(i,2)),this.effects.push(new xl(o,4)))}}return t.prototype.getEffects=function(e){for(var A=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,r=this.effects.slice(0);n;){var s=n.effects.filter(function(a){return!VF(a)});if(A||n.container.styles.position!==0||!n.parent){if(r.unshift.apply(r,s),A=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=ru(n.curves),o=su(n.curves);ev(i,o)||r.unshift(new xl(o,6))}}else r.unshift.apply(r,s);n=n.parent}return r.filter(function(a){return ht(a.target,e)})},t}(),sp=function(t,e,A,n){t.container.elements.forEach(function(r){var s=ht(r.flags,4),i=ht(r.flags,2),o=new jF(r,t);ht(r.styles.display,2048)&&n.push(o);var a=ht(r.flags,8)?[]:n;if(s||i){var l=s||r.styles.isPositioned()?A:e,d=new GF(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var c=r.styles.zIndex.order;if(c<0){var u=0;l.negativeZIndex.some(function(w,m){return c>w.element.container.styles.zIndex.order?(u=m,!1):u>0}),l.negativeZIndex.splice(u,0,d)}else if(c>0){var p=0;l.positiveZIndex.some(function(w,m){return c>=w.element.container.styles.zIndex.order?(p=m+1,!1):p>0}),l.positiveZIndex.splice(p,0,d)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else r.styles.isFloating()?l.nonPositionedFloats.push(d):l.nonPositionedInlineLevel.push(d);sp(o,d,s?d:A,a)}else r.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),sp(o,e,A,a);ht(r.flags,8)&&zF(r,a)})},zF=function(t,e){for(var A=t instanceof ep?t.start:1,n=t instanceof ep?t.reversed:!1,r=0;r<e.length;r++){var s=e[r];s.container instanceof xF&&typeof s.container.value=="number"&&s.container.value!==0&&(A=s.container.value),s.listValue=fa(A,s.container.styles.listStyleType,!0),A+=n?-1:1}},RP=function(t){var e=new jF(t,null),A=new GF(e),n=[];return sp(e,A,A,n),zF(e.container,n),A},tv=function(t,e){switch(e){case 0:return xA(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return xA(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return xA(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return xA(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},PP=function(t,e){switch(e){case 0:return xA(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return xA(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return xA(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return xA(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},OP=function(t,e){switch(e){case 0:return xA(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return xA(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return xA(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return xA(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},MP=function(t,e){switch(e){case 0:return Sl(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Sl(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Sl(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Sl(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Sl=function(t,e){var A=[];return _A(t)?A.push(t.subdivide(.5,!1)):A.push(t),_A(e)?A.push(e.subdivide(.5,!0)):A.push(e),A},xA=function(t,e,A,n){var r=[];return _A(t)?r.push(t.subdivide(.5,!1)):r.push(t),_A(A)?r.push(A.subdivide(.5,!0)):r.push(A),_A(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),_A(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},WF=function(t){var e=t.bounds,A=t.styles;return e.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},iu=function(t){var e=t.styles,A=t.bounds,n=Ge(e.paddingLeft,A.width),r=Ge(e.paddingRight,A.width),s=Ge(e.paddingTop,A.width),i=Ge(e.paddingBottom,A.width);return A.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+r),-(e.borderTopWidth+e.borderBottomWidth+s+i))},KP=function(t,e){return t===0?e.bounds:t===2?iu(e):WF(e)},VP=function(t,e){return t===0?e.bounds:t===2?iu(e):WF(e)},Bf=function(t,e,A){var n=KP(Ds(t.styles.backgroundOrigin,e),t),r=VP(Ds(t.styles.backgroundClip,e),t),s=GP(Ds(t.styles.backgroundSize,e),A,n),i=s[0],o=s[1],a=fo(Ds(t.styles.backgroundPosition,e),n.width-i,n.height-o),l=jP(Ds(t.styles.backgroundRepeat,e),a,s,n,r),d=Math.round(n.left+a[0]),c=Math.round(n.top+a[1]);return[l,d,c,i,o]},Ss=function(t){return Re(t)&&t.value===oi.AUTO},bl=function(t){return typeof t=="number"},GP=function(t,e,A){var n=e[0],r=e[1],s=e[2],i=t[0],o=t[1];if(!i)return[0,0];if(at(i)&&o&&at(o))return[Ge(i,A.width),Ge(o,A.height)];var a=bl(s);if(Re(i)&&(i.value===oi.CONTAIN||i.value===oi.COVER)){if(bl(s)){var l=A.width/A.height;return l<s!=(i.value===oi.COVER)?[A.width,A.width/s]:[A.height*s,A.height]}return[A.width,A.height]}var d=bl(n),c=bl(r),u=d||c;if(Ss(i)&&(!o||Ss(o))){if(d&&c)return[n,r];if(!a&&!u)return[A.width,A.height];if(u&&a){var p=d?n:r*s,w=c?r:n/s;return[p,w]}var m=d?n:A.width,I=c?r:A.height;return[m,I]}if(a){var B=0,h=0;return at(i)?B=Ge(i,A.width):at(o)&&(h=Ge(o,A.height)),Ss(i)?B=h*s:(!o||Ss(o))&&(h=B/s),[B,h]}var g=null,v=null;if(at(i)?g=Ge(i,A.width):o&&at(o)&&(v=Ge(o,A.height)),g!==null&&(!o||Ss(o))&&(v=d&&c?g/n*r:A.height),v!==null&&Ss(i)&&(g=d&&c?v/r*n:A.width),g!==null&&v!==null)return[g,v];throw new Error("Unable to calculate background-size for element")},Ds=function(t,e){var A=t[e];return typeof A>"u"?t[0]:A},jP=function(t,e,A,n,r){var s=e[0],i=e[1],o=A[0],a=A[1];switch(t){case 2:return[new W(Math.round(n.left),Math.round(n.top+i)),new W(Math.round(n.left+n.width),Math.round(n.top+i)),new W(Math.round(n.left+n.width),Math.round(a+n.top+i)),new W(Math.round(n.left),Math.round(a+n.top+i))];case 3:return[new W(Math.round(n.left+s),Math.round(n.top)),new W(Math.round(n.left+s+o),Math.round(n.top)),new W(Math.round(n.left+s+o),Math.round(n.height+n.top)),new W(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new W(Math.round(n.left+s),Math.round(n.top+i)),new W(Math.round(n.left+s+o),Math.round(n.top+i)),new W(Math.round(n.left+s+o),Math.round(n.top+i+a)),new W(Math.round(n.left+s),Math.round(n.top+i+a))];default:return[new W(Math.round(r.left),Math.round(r.top)),new W(Math.round(r.left+r.width),Math.round(r.top)),new W(Math.round(r.left+r.width),Math.round(r.height+r.top)),new W(Math.round(r.left),Math.round(r.height+r.top))]}},zP="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Av="Hidden Text",WP=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,A){var n=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=A,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),r.src=zP,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=A,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Av)),n.appendChild(s),n.appendChild(r);var o=r.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(Av)),n.style.lineHeight="normal",r.style.verticalAlign="super";var a=r.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:a}},t.prototype.getMetrics=function(e,A){var n=e+" "+A;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,A)),this._data[n]},t}(),XF=function(){function t(e,A){this.context=e,this.options=A}return t}(),XP=1e4,YP=function(t){JA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new WP(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return e.prototype.applyEffects=function(A){for(var n=this;this._activeEffects.length;)this.popEffect();A.forEach(function(r){return n.applyEffect(r)})},e.prototype.applyEffect=function(A){this.ctx.save(),kP(A)&&(this.ctx.globalAlpha=A.opacity),HP(A)&&(this.ctx.translate(A.offsetX,A.offsetY),this.ctx.transform(A.matrix[0],A.matrix[1],A.matrix[2],A.matrix[3],A.matrix[4],A.matrix[5]),this.ctx.translate(-A.offsetX,-A.offsetY)),VF(A)&&(this.path(A.path),this.ctx.clip()),this._activeEffects.push(A)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(A){return Vt(this,void 0,void 0,function(){var n;return Dt(this,function(r){switch(r.label){case 0:return n=A.element.container.styles,n.isVisible()?[4,this.renderStackContent(A)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(A){return Vt(this,void 0,void 0,function(){return Dt(this,function(n){switch(n.label){case 0:if(ht(A.container.flags,16))debugger;return A.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(A)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(A)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(A,n,r){var s=this;if(n===0)this.ctx.fillText(A.text,A.bounds.left,A.bounds.top+r);else{var i=cw(A.text);i.reduce(function(o,a){return s.ctx.fillText(a,o,A.bounds.top+r),o+s.ctx.measureText(a).width},A.bounds.left)}},e.prototype.createFontStyle=function(A){var n=A.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),r=eO(A.fontFamily).join(", "),s=xa(A.fontSize)?""+A.fontSize.number+A.fontSize.unit:A.fontSize.number+"px";return[[A.fontStyle,n,A.fontWeight,s,r].join(" "),r,s]},e.prototype.renderTextNode=function(A,n){return Vt(this,void 0,void 0,function(){var r,s,i,o,a,l,d,c,u=this;return Dt(this,function(p){return r=this.createFontStyle(n),s=r[0],i=r[1],o=r[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(i,o),l=a.baseline,d=a.middle,c=n.paintOrder,A.textBounds.forEach(function(w){c.forEach(function(m){switch(m){case 0:u.ctx.fillStyle=gt(n.color),u.renderTextWithLetterSpacing(w,n.letterSpacing,l);var I=n.textShadow;I.length&&w.text.trim().length&&(I.slice(0).reverse().forEach(function(B){u.ctx.shadowColor=gt(B.color),u.ctx.shadowOffsetX=B.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=B.offsetY.number*u.options.scale,u.ctx.shadowBlur=B.blur.number,u.renderTextWithLetterSpacing(w,n.letterSpacing,l)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),n.textDecorationLine.length&&(u.ctx.fillStyle=gt(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(B){switch(B){case 1:u.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top+l),w.bounds.width,1);break;case 2:u.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top),w.bounds.width,1);break;case 3:u.ctx.fillRect(w.bounds.left,Math.ceil(w.bounds.top+d),w.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&w.text.trim().length&&(u.ctx.strokeStyle=gt(n.webkitTextStrokeColor),u.ctx.lineWidth=n.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(w.text,w.bounds.left,w.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(A,n,r){if(r&&A.intrinsicWidth>0&&A.intrinsicHeight>0){var s=iu(A),i=su(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,A.intrinsicWidth,A.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(A){return Vt(this,void 0,void 0,function(){var n,r,s,i,o,a,h,h,l,d,c,u,v,p,w,E,m,I,B,h,g,v,E;return Dt(this,function(y){switch(y.label){case 0:this.applyEffects(A.getEffects(4)),n=A.container,r=A.curves,s=n.styles,i=0,o=n.textNodes,y.label=1;case 1:return i<o.length?(a=o[i],[4,this.renderTextNode(a,s)]):[3,4];case 2:y.sent(),y.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof QF))return[3,8];y.label=5;case 5:return y.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return h=y.sent(),this.renderReplacedElement(n,r,h),[3,8];case 7:return y.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof UF&&this.renderReplacedElement(n,r,n.canvas),!(n instanceof IF))return[3,12];y.label=9;case 9:return y.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return h=y.sent(),this.renderReplacedElement(n,r,h),[3,12];case 11:return y.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof TF&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:d=y.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),y.label=14;case 14:if(n instanceof uw&&(c=Math.min(n.bounds.width,n.bounds.height),n.type===eu?n.checked&&(this.ctx.save(),this.path([new W(n.bounds.left+c*.39363,n.bounds.top+c*.79),new W(n.bounds.left+c*.16,n.bounds.top+c*.5549),new W(n.bounds.left+c*.27347,n.bounds.top+c*.44071),new W(n.bounds.left+c*.39694,n.bounds.top+c*.5649),new W(n.bounds.left+c*.72983,n.bounds.top+c*.23),new W(n.bounds.left+c*.84,n.bounds.top+c*.34085),new W(n.bounds.left+c*.39363,n.bounds.top+c*.79)]),this.ctx.fillStyle=gt(Vy),this.ctx.fill(),this.ctx.restore()):n.type===tu&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+c/2,n.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=gt(Vy),this.ctx.fill(),this.ctx.restore())),$P(n)&&n.value.length){switch(u=this.createFontStyle(s),v=u[0],p=u[1],w=this.fontMetrics.getMetrics(v,p).baseline,this.ctx.font=v,this.ctx.fillStyle=gt(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=ZP(n.styles.textAlign),E=iu(n),m=0,n.styles.textAlign){case 1:m+=E.width/2;break;case 2:m+=E.width;break}I=E.add(m,0,0,-E.height/2+1),this.ctx.save(),this.path([new W(E.left,E.top),new W(E.left+E.width,E.top),new W(E.left+E.width,E.top+E.height),new W(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ho(n.value,I),s.letterSpacing,w),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ht(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(B=n.styles.listStyleImage,B.type!==0)return[3,18];h=void 0,g=B.url,y.label=15;case 15:return y.trys.push([15,17,,18]),[4,this.context.cache.match(g)];case 16:return h=y.sent(),this.ctx.drawImage(h,n.bounds.left-(h.width+10),n.bounds.top),[3,18];case 17:return y.sent(),this.context.logger.error("Error loading list-style-image "+g),[3,18];case 18:return[3,20];case 19:A.listValue&&n.styles.listStyleType!==-1&&(v=this.createFontStyle(s)[0],this.ctx.font=v,this.ctx.fillStyle=gt(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new Mn(n.bounds.left,n.bounds.top+Ge(n.styles.paddingTop,n.bounds.width),n.bounds.width,Qy(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ho(A.listValue,E),s.letterSpacing,Qy(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),y.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(A){return Vt(this,void 0,void 0,function(){var n,r,B,s,i,B,o,a,B,l,d,B,c,u,B,p,w,B,m,I,B;return Dt(this,function(h){switch(h.label){case 0:if(ht(A.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(A.element)];case 1:h.sent(),n=0,r=A.negativeZIndex,h.label=2;case 2:return n<r.length?(B=r[n],[4,this.renderStack(B)]):[3,5];case 3:h.sent(),h.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(A.element)];case 6:h.sent(),s=0,i=A.nonInlineLevel,h.label=7;case 7:return s<i.length?(B=i[s],[4,this.renderNode(B)]):[3,10];case 8:h.sent(),h.label=9;case 9:return s++,[3,7];case 10:o=0,a=A.nonPositionedFloats,h.label=11;case 11:return o<a.length?(B=a[o],[4,this.renderStack(B)]):[3,14];case 12:h.sent(),h.label=13;case 13:return o++,[3,11];case 14:l=0,d=A.nonPositionedInlineLevel,h.label=15;case 15:return l<d.length?(B=d[l],[4,this.renderStack(B)]):[3,18];case 16:h.sent(),h.label=17;case 17:return l++,[3,15];case 18:c=0,u=A.inlineLevel,h.label=19;case 19:return c<u.length?(B=u[c],[4,this.renderNode(B)]):[3,22];case 20:h.sent(),h.label=21;case 21:return c++,[3,19];case 22:p=0,w=A.zeroOrAutoZIndexOrTransformedOrOpacity,h.label=23;case 23:return p<w.length?(B=w[p],[4,this.renderStack(B)]):[3,26];case 24:h.sent(),h.label=25;case 25:return p++,[3,23];case 26:m=0,I=A.positiveZIndex,h.label=27;case 27:return m<I.length?(B=I[m],[4,this.renderStack(B)]):[3,30];case 28:h.sent(),h.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(A){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(A.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(A){this.ctx.beginPath(),this.formatPath(A),this.ctx.closePath()},e.prototype.formatPath=function(A){var n=this;A.forEach(function(r,s){var i=_A(r)?r.start:r;s===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),_A(r)&&n.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(A,n,r,s){this.path(A),this.ctx.fillStyle=n,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},e.prototype.resizeImage=function(A,n,r){var s;if(A.width===n&&A.height===r)return A;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=i.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,r);var a=o.getContext("2d");return a.drawImage(A,0,0,A.width,A.height,0,0,n,r),o},e.prototype.renderBackgroundImage=function(A){return Vt(this,void 0,void 0,function(){var n,r,s,i,o,a;return Dt(this,function(l){switch(l.label){case 0:n=A.styles.backgroundImage.length-1,r=function(d){var c,u,p,D,j,oe,X,q,F,w,D,j,oe,X,q,m,I,B,h,g,v,E,y,Q,F,N,D,P,Z,X,q,M,j,oe,k,V,G,te,ae,$e,ee,Oe;return Dt(this,function(Ue){switch(Ue.label){case 0:if(d.type!==0)return[3,5];c=void 0,u=d.url,Ue.label=1;case 1:return Ue.trys.push([1,3,,4]),[4,s.context.cache.match(u)];case 2:return c=Ue.sent(),[3,4];case 3:return Ue.sent(),s.context.logger.error("Error loading background-image "+u),[3,4];case 4:return c&&(p=Bf(A,n,[c.width,c.height,c.width/c.height]),D=p[0],j=p[1],oe=p[2],X=p[3],q=p[4],F=s.ctx.createPattern(s.resizeImage(c,X,q),"repeat"),s.renderRepeat(D,F,j,oe)),[3,6];case 5:H4(d)?(w=Bf(A,n,[null,null,null]),D=w[0],j=w[1],oe=w[2],X=w[3],q=w[4],m=S4(d.angle,X,q),I=m[0],B=m[1],h=m[2],g=m[3],v=m[4],E=document.createElement("canvas"),E.width=X,E.height=q,y=E.getContext("2d"),Q=y.createLinearGradient(B,g,h,v),_y(d.stops,I).forEach(function(Ie){return Q.addColorStop(Ie.stop,gt(Ie.color))}),y.fillStyle=Q,y.fillRect(0,0,X,q),X>0&&q>0&&(F=s.ctx.createPattern(E,"repeat"),s.renderRepeat(D,F,j,oe))):k4(d)&&(N=Bf(A,n,[null,null,null]),D=N[0],P=N[1],Z=N[2],X=N[3],q=N[4],M=d.position.length===0?[ow]:d.position,j=Ge(M[0],X),oe=Ge(M[M.length-1],q),k=b4(d,j,oe,X,q),V=k[0],G=k[1],V>0&&G>0&&(te=s.ctx.createRadialGradient(P+j,Z+oe,0,P+j,Z+oe,V),_y(d.stops,V*2).forEach(function(Ie){return te.addColorStop(Ie.stop,gt(Ie.color))}),s.path(D),s.ctx.fillStyle=te,V!==G?(ae=A.bounds.left+.5*A.bounds.width,$e=A.bounds.top+.5*A.bounds.height,ee=G/V,Oe=1/ee,s.ctx.save(),s.ctx.translate(ae,$e),s.ctx.transform(1,0,0,ee,0,0),s.ctx.translate(-ae,-$e),s.ctx.fillRect(P,Oe*(Z-$e)+$e,X,q*Oe),s.ctx.restore()):s.ctx.fill())),Ue.label=6;case 6:return n--,[2]}})},s=this,i=0,o=A.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return i<o.length?(a=o[i],[5,r(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(A,n,r){return Vt(this,void 0,void 0,function(){return Dt(this,function(s){return this.path(tv(r,n)),this.ctx.fillStyle=gt(A),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(A,n,r,s){return Vt(this,void 0,void 0,function(){var i,o;return Dt(this,function(a){switch(a.label){case 0:return n<3?[4,this.renderSolidBorder(A,r,s)]:[3,2];case 1:return a.sent(),[2];case 2:return i=PP(s,r),this.path(i),this.ctx.fillStyle=gt(A),this.ctx.fill(),o=OP(s,r),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(A){return Vt(this,void 0,void 0,function(){var n,r,s,i,o,a,l,d,c=this;return Dt(this,function(u){switch(u.label){case 0:return this.applyEffects(A.getEffects(2)),n=A.container.styles,r=!_r(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=JP(Ds(n.backgroundClip,0),A.curves),r||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),_r(n.backgroundColor)||(this.ctx.fillStyle=gt(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(A.container)]):[3,2];case 1:u.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(p){c.ctx.save();var w=ru(A.curves),m=p.inset?0:XP,I=LP(w,-m+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(c.path(w),c.ctx.clip(),c.mask(I)):(c.mask(w),c.ctx.clip(),c.path(I)),c.ctx.shadowOffsetX=p.offsetX.number+m,c.ctx.shadowOffsetY=p.offsetY.number,c.ctx.shadowColor=gt(p.color),c.ctx.shadowBlur=p.blur.number,c.ctx.fillStyle=p.inset?gt(p.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),u.label=2;case 2:o=0,a=0,l=s,u.label=3;case 3:return a<l.length?(d=l[a],d.style!==0&&!_r(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,A.curves,2)]:[3,11]):[3,13];case 4:return u.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,A.curves,3)];case 6:return u.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,A.curves)];case 8:return u.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,A.curves)];case 10:u.sent(),u.label=11;case 11:o++,u.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(A,n,r,s,i){return Vt(this,void 0,void 0,function(){var o,a,l,d,c,u,p,w,m,I,B,h,g,v,E,y,E,y;return Dt(this,function(Q){return this.ctx.save(),o=MP(s,r),a=tv(s,r),i===2&&(this.path(a),this.ctx.clip()),_A(a[0])?(l=a[0].start.x,d=a[0].start.y):(l=a[0].x,d=a[0].y),_A(a[1])?(c=a[1].end.x,u=a[1].end.y):(c=a[1].x,u=a[1].y),r===0||r===2?p=Math.abs(l-c):p=Math.abs(d-u),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(a.slice(0,2)),w=n<3?n*3:n*2,m=n<3?n*2:n,i===3&&(w=n,m=n),I=!0,p<=w*2?I=!1:p<=w*2+m?(B=p/(2*w+m),w*=B,m*=B):(h=Math.floor((p+m)/(w+m)),g=(p-h*w)/(h-1),v=(p-(h+1)*w)/h,m=v<=0||Math.abs(m-g)<Math.abs(m-v)?g:v),I&&(i===3?this.ctx.setLineDash([0,w+m]):this.ctx.setLineDash([w,m])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=gt(A),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(_A(a[0])&&(E=a[3],y=a[0],this.ctx.beginPath(),this.formatPath([new W(E.end.x,E.end.y),new W(y.start.x,y.start.y)]),this.ctx.stroke()),_A(a[1])&&(E=a[1],y=a[2],this.ctx.beginPath(),this.formatPath([new W(E.end.x,E.end.y),new W(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(A){return Vt(this,void 0,void 0,function(){var n;return Dt(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=gt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=RP(A),[4,this.renderStack(n)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(XF),$P=function(t){return t instanceof bF||t instanceof SF?!0:t instanceof uw&&t.type!==tu&&t.type!==eu},JP=function(t,e){switch(t){case 0:return ru(e);case 2:return TP(e);case 1:default:return su(e)}},ZP=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},qP=["-apple-system","system-ui"],eO=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return qP.indexOf(e)===-1}):t},tO=function(t){JA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return e.prototype.render=function(A){return Vt(this,void 0,void 0,function(){var n,r;return Dt(this,function(s){switch(s.label){case 0:return n=qh(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,A),[4,AO(n)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=gt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(XF),AO=function(t){return new Promise(function(e,A){var n=new Image;n.onload=function(){e(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},nO=function(){function t(e){var A=e.id,n=e.enabled;this.id=A,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ll([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ll([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ll([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ll([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),rO=function(){function t(e,A){var n;this.windowBounds=A,this.instanceName="#"+t.instanceCount++,this.logger=new nO({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new _P(this,e)}return t.instanceCount=1,t}(),sO=function(t,e){return e===void 0&&(e={}),iO(t,e)};typeof window<"u"&&KF.setContext(window);var iO=function(t,e){return Vt(void 0,void 0,void 0,function(){var A,n,r,s,i,o,a,l,d,c,u,p,w,m,I,B,h,g,v,E,Q,y,Q,F,N,D,P,Z,X,q,M,j,oe,k,V,G,te,ae,$e,ee;return Dt(this,function(Oe){switch(Oe.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(A=t.ownerDocument,!A)throw new Error("Element is not attached to a Document");if(n=A.defaultView,!n)throw new Error("Document is not attached to a Window");return r={allowTaint:(F=e.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(N=e.imageTimeout)!==null&&N!==void 0?N:15e3,proxy:e.proxy,useCORS:(D=e.useCORS)!==null&&D!==void 0?D:!1},s=Rh({logging:(P=e.logging)!==null&&P!==void 0?P:!0,cache:e.cache},r),i={windowWidth:(Z=e.windowWidth)!==null&&Z!==void 0?Z:n.innerWidth,windowHeight:(X=e.windowHeight)!==null&&X!==void 0?X:n.innerHeight,scrollX:(q=e.scrollX)!==null&&q!==void 0?q:n.pageXOffset,scrollY:(M=e.scrollY)!==null&&M!==void 0?M:n.pageYOffset},o=new Mn(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),a=new rO(s,o),l=(j=e.foreignObjectRendering)!==null&&j!==void 0?j:!1,d={allowTaint:(oe=e.allowTaint)!==null&&oe!==void 0?oe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},a.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),c=new Zy(a,t,d),u=c.clonedReferenceElement,u?[4,c.toIFrame(A,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=Oe.sent(),w=dw(u)||oP(u)?Lk(u.ownerDocument):zu(a,u),m=w.width,I=w.height,B=w.left,h=w.top,g=oO(a,u,e.backgroundColor),v={canvas:e.canvas,backgroundColor:g,scale:(V=(k=e.scale)!==null&&k!==void 0?k:n.devicePixelRatio)!==null&&V!==void 0?V:1,x:((G=e.x)!==null&&G!==void 0?G:0)+B,y:((te=e.y)!==null&&te!==void 0?te:0)+h,width:(ae=e.width)!==null&&ae!==void 0?ae:Math.ceil(m),height:($e=e.height)!==null&&$e!==void 0?$e:Math.ceil(I)},l?(a.logger.debug("Document cloned, using foreign object rendering"),Q=new tO(a,v),[4,Q.render(u)]):[3,3];case 2:return E=Oe.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+B+","+h+" with size "+m+"x"+I+" using computed rendering"),a.logger.debug("Starting DOM parsing"),y=NF(a,u),g===y.styles.backgroundColor&&(y.styles.backgroundColor=Tn.TRANSPARENT),a.logger.debug("Starting renderer for element at "+v.x+","+v.y+" with size "+v.width+"x"+v.height),Q=new YP(a,v),[4,Q.render(y)];case 4:E=Oe.sent(),Oe.label=5;case 5:return(!((ee=e.removeContainer)!==null&&ee!==void 0)||ee)&&(Zy.destroy(p)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,E]}})})},oO=function(t,e,A){var n=e.ownerDocument,r=n.documentElement?Do(t,getComputedStyle(n.documentElement).backgroundColor):Tn.TRANSPARENT,s=n.body?Do(t,getComputedStyle(n.body).backgroundColor):Tn.TRANSPARENT,i=typeof A=="string"?Do(t,A):A===null?Tn.TRANSPARENT:4294967295;return e===n.documentElement?_r(r)?_r(s)?i:s:r:i};const Tl=(t,e)=>{if(!e)return!1;const A=e.split("+").map(i=>i.trim()),n=new Set;let r="";if(A.forEach(i=>{const o=i.toUpperCase();["CTRL","ALT","SHIFT","META"].includes(o)?n.add(o):r=i}),t.key!==r&&t.key.toUpperCase()!==r.toUpperCase())return!1;const s=t.ctrlKey||t.metaKey;if(s!==n.has("CTRL")&&s!==n.has("META")){if(n.has("CTRL")){if(!t.ctrlKey&&!t.metaKey)return!1}else if(t.ctrlKey||t.metaKey)return!1}return!(t.altKey!==n.has("ALT")||t.shiftKey!==n.has("SHIFT"))};function aO(){const[t,e]=x.useState(null),[A,n]=x.useState(!0),[r,s]=x.useState(null),[i,o]=x.useState("Untitled Board"),[a,l]=x.useState(null),[d,c]=x.useState([]),[u,p]=x.useState([]),[w,m]=x.useState("select"),[I,B]=x.useState({color:"#ffffff",size:5,eraserSize:10}),[h,g]=x.useState(null),[v,E]=x.useState([]),[y,Q]=x.useState([]),[F,N]=x.useState(null),[D,P]=x.useState(!1),[Z,X]=x.useState([]),[q,M]=x.useState(!1),[j,oe]=x.useState({pan:{keys:["Alt"],button:"Middle"},zoom:{keys:["Alt"],button:"Right"},zoomWheelModifier:"None",windowDrag:{keys:[],button:"Right"},alwaysOnTop:"CTRL+SHIFT+T",opacity:"CTRL+SHIFT+O",opacityDrag:{keys:["CTRL","ALT"],button:"Right"}}),[k,V]=x.useState(1),[G,te]=x.useState(!1),{showBreakReminder:ae,getRemainingWorkTime:$e}=kk(),{groups:ee,createGroup:Oe,updateGroup:Ue,updateGroupName:Ie,deleteGroup:DA,addItemToGroup:ZA,removeItemFromGroup:z,getItemGroup:we,setGroups:le}=Dk(r),{arrows:se,createArrow:Rt,deleteArrow:be,deleteArrowsForItem:Hr,setArrows:mA}=Nk(r),Li=Hk(),[Ri,kr]=x.useState([]),[ys,Sa]=x.useState({visible:!1,x:0,y:0}),[ba,Pi]=x.useState(null),[Ta,Vn]=x.useState(!1),[S,_e]=x.useState(!1),[ie,De]=x.useState(null),[ve,xe]=x.useState(!1),[Ne,ue]=x.useState(!1),ne=x.useRef({}),[fe,ce]=x.useState([]),[Me,ct]=x.useState(-1),$t=x.useRef(!1),Pt=x.useRef(null),[He,Ce]=x.useState(new Set),[qA,Gn]=x.useState(!1),NA=x.useCallback(()=>{if($t.current)return;const _={items:JSON.parse(JSON.stringify(d)),groups:JSON.parse(JSON.stringify(ee)),arrows:JSON.parse(JSON.stringify(se)),paths:JSON.parse(JSON.stringify(y))};ce(C=>{const b=C.slice(0,Me+1);return b.push(_),b.length>50&&b.shift(),b}),ct(C=>{const b=C+1;return Math.min(b,49)})},[d,ee,se,y,Me]),YF=x.useCallback(()=>{if(Me<0||fe.length===0)return;$t.current=!0;const _=fe[Me];_&&(c(_.items),le(_.groups),mA(_.arrows),Q(_.paths),ct(C=>C-1)),setTimeout(()=>{$t.current=!1},0)},[fe,Me]),$F=x.useCallback(()=>{if(Me>=fe.length-1)return;$t.current=!0;const _=fe[Me+1];_&&(c(_.items),le(_.groups),mA(_.arrows),Q(_.paths),ct(C=>C+1)),setTimeout(()=>{$t.current=!1},0)},[fe,Me]);x.useEffect(()=>{const _=K_(C=>{e(C),n(!1)});return()=>_()},[]);const Da=x.useCallback(async(_=!0)=>{if(!(!t||r===null)){if(d.length===0&&ee.length===0&&se.length===0&&y.length===0){console.log("Skipping save: board is empty");return}Gn(!0);try{const C=await Promise.all(d.map(async R=>{var $;if("src"in R&&(R.type==="image"||R.type==="video")){const K=R;if(($=K.fileName)!=null&&$.toLowerCase().endsWith(".psd")||K.originalFilePath){if(K.driveFileId)return{...K,src:void 0};if(typeof K.src=="string")try{let Be;if(K.src.startsWith("blob:")){const ut=await(await fetch(K.src)).blob();Be=await new Promise(yA=>{const Ot=new FileReader;Ot.onloadend=()=>yA(Ot.result),Ot.readAsDataURL(ut)})}else if(K.src.startsWith("data:"))Be=K.src;else return R;const he=(K.fileName||`psd-${K.id}.png`).replace(/\.psd$/i,".png"),Fe=await bs(Be,he,!0);return console.log("PSD PNG uploaded/updated to Drive:",Fe,he),{...K,driveFileId:Fe,src:void 0}}catch(Be){return console.error("Failed to upload PSD PNG to Drive:",Be),R}return R}if(K.driveFileId)return{...K,src:void 0};if(R.type==="video"&&typeof K.src=="string"&&K.src.startsWith("blob:"))try{const he=await(await fetch(K.src)).blob(),Fe=new File([he],K.fileName||`video-${K.id}.mp4`,{type:he.type}),de=K.fileName||`video-${K.id}.mp4`,ut=await jB(Fe,de,!1,!0);return console.log("Video uploaded to Drive during save:",ut),{...K,driveFileId:ut,src:void 0}}catch(Be){return console.error("Failed to upload video to Drive:",Be),R}if(R.type==="image"&&typeof K.src=="string")try{let Be;if(K.src.startsWith("blob:")){const ut=await(await fetch(K.src)).blob();Be=await new Promise(yA=>{const Ot=new FileReader;Ot.onloadend=()=>yA(Ot.result),Ot.readAsDataURL(ut)})}else if(K.src.startsWith("data:"))Be=K.src;else return R;const he=K.fileName||`image-${K.id}.png`,Fe=await zB(Be,he);return console.log("Image uploaded to Drive during save:",Fe),{...K,driveFileId:Fe,src:void 0}}catch(Be){if(console.error("Failed to upload image to Drive:",Be),K.src.startsWith("blob:"))try{const Fe=await(await fetch(K.src)).blob(),de=await new Promise(ut=>{const yA=new FileReader;yA.onloadend=()=>ut(yA.result),yA.readAsDataURL(Fe)});return{...K,src:de}}catch(he){return console.error("Failed to convert blob to base64:",he),R}return R}}return R})),b={version:"2.0",boardId:r,items:C,groups:ee,arrows:se,paths:y};let T;if(_)try{T=(await sO(document.body,{useCORS:!0,allowTaint:!0,scale:.2,backgroundColor:"#111827",ignoreElements:$=>!1})).toDataURL("image/jpeg",.6)}catch(R){console.error("Failed to generate thumbnail:",R)}const H=await GB(b,i,(r&&r!=="new"?r:a)||void 0,T);(!a||a!==H)&&(l(H),r==="new"&&s(H)),console.log("Board saved:",H,T?"(with thumbnail)":"(no thumbnail)")}catch(C){console.error("Failed to save:",C),alert(" : "+(C instanceof Error?C.message:String(C)))}finally{Gn(!1)}}},[d,ee,se,y,t,r,i,a]);x.useEffect(()=>{const _=C=>{(C.ctrlKey||C.metaKey)&&C.key==="s"&&(C.preventDefault(),console.log("Manual save triggered (Ctrl+S)"),Da(!1))};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[Da]),x.useEffect(()=>{const _=async C=>{if(D)return;const b=C.target;if(!(b&&(b.isContentEditable||b.tagName==="INPUT"||b.tagName==="TEXTAREA"))){if(j.alwaysOnTop&&Tl(C,j.alwaysOnTop)&&(C.preventDefault(),window.electronAPI)){const T=await window.electronAPI.toggleAlwaysOnTop();te(T)}j.opacity&&Tl(C,j.opacity)&&(C.preventDefault(),V(T=>{const U=T>=.9?.5:1;return window.electronAPI&&window.electronAPI.setOpacity(U),U}))}};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[j,D]),x.useEffect(()=>{const _=()=>{console.log("Google Auth error detected, forcing re-login..."),window.location.reload()};return window.addEventListener("google_auth_error",_),()=>window.removeEventListener("google_auth_error",_)},[]),x.useEffect(()=>{var _;return(_=window.electronAPI)!=null&&_.onPSDFileChanged&&window.electronAPI.onPSDFileChanged(async C=>{var H,R;console.log("PSD file changed event received:",C.path);const b=$=>$.replace(/\\/g,"/").toLowerCase(),T=b(C.path),U=d.find($=>{const K=$.originalFilePath;return K?b(K)===T:!1});if(U&&((H=U.fileName)!=null&&H.toLowerCase().endsWith(".psd"))){console.log("Found matching PSD item:",U.fileName,"Updating...");try{if(await new Promise($=>setTimeout($,500)),(R=window.electronAPI)!=null&&R.readPSDFile){const $=await window.electronAPI.readPSDFile(C.path);if($.success&&$.data){const K=new File([$.data],U.fileName||"image.psd",{type:"application/octet-stream"}),{convertPSDToImage:Be}=await qr(async()=>{const{convertPSDToImage:Fe}=await import("./psdParser-DX-W7wsa.js");return{convertPSDToImage:Fe}},[]),he=await Be(K);if(he){let Fe=U.driveFileId;try{const de=(U.fileName||`psd-${U.id}.png`).replace(/\.psd$/i,".png");Fe=await bs(he,de,!0),console.log("PSD PNG updated in Drive:",Fe,de)}catch(de){console.error("Failed to update PSD PNG in Drive:",de)}c(de=>de.map(ut=>{if(ut.id===U.id){const yA={...ut,src:he,driveFileId:Fe};return r&&r!=="new"&&ol(r,U.id,{src:he,driveFileId:Fe}),yA}return ut})),console.log("PSD file updated successfully:",U.fileName)}else console.warn("Failed to convert PSD to image")}else console.error("Failed to read PSD file:",$.error)}}catch($){console.error("Failed to update PSD file:",$)}}else console.warn("No matching PSD item found for path:",C.path)}),()=>{var C;(C=window.electronAPI)!=null&&C.removePSDFileChangedListener&&window.electronAPI.removePSDFileChangedListener()}},[d,r]),x.useEffect(()=>{async function _(){if(r&&r!=="new"){if(r===a)return;try{const C=await Yx(r);if(C.items){const b=await Promise.all(C.items.map(async T=>{const U={...T};if(U.src&&typeof U.src=="string"&&U.src.startsWith("blob:")&&(U.src=void 0),(U.type==="image"||U.type==="video")&&U.driveFileId)try{const H=await NC(U.driveFileId);return{...U,src:H}}catch(H){return console.error("Failed to load media from Drive:",{itemId:U.id,fileName:U.fileName,type:U.type,driveFileId:U.driveFileId,error:H instanceof Error?H.message:String(H)}),U}return U}));c(b)}if(C.groups){const b=C.groups.map(T=>({...T,childIds:Array.isArray(T.childIds)?T.childIds:[]}));le(b)}C.arrows&&mA(C.arrows),C.paths&&Q(C.paths),ce([]),ct(-1),C.name&&o(C.name),l(r),console.log("Board loaded:",C)}catch(C){console.error("Failed to load board:",C)}}else if(r==="new"){c([]),le([]),mA([]),Q([]),l(null);try{const b=await GB({version:"2.0",boardId:"new",items:[],groups:[],arrows:[],paths:[]},i,void 0);l(b),s(b),console.log("Empty board created and saved:",b)}catch(C){console.error("Failed to create empty board:",C)}}}_()},[r]),x.useEffect(()=>{if(!t||!r||r==="new")return;const _=Qk(r,X),C=Tk(r,T=>{c(U=>{const H=new Map(U.map(R=>[R.id,R]));return T.map(R=>{const $=H.get(R.id);return $&&"src"in $&&$.src&&!R.src?{...R,src:$.src}:R})})},T=>{const U=T.map(H=>({...H,childIds:Array.isArray(H.childIds)?H.childIds:[]}));le(U)},T=>mA(T),T=>Q(T));Uk(r,t.uid,t.displayName||"Unknown",t.email||"");const b=T=>{Ay(r,t.uid,t.displayName||"Unknown",t.email||"",T.clientX,T.clientY)};return window.addEventListener("mousemove",b),()=>{_(),C(),Ik(r),window.removeEventListener("mousemove",b)}},[t,r]);const en=x.useCallback(()=>{Sa({visible:!1,x:0,y:0})},[]),vs=async _=>{if(_.startsWith("data:"))return _;try{const b=await(await fetch(_)).blob();return new Promise((T,U)=>{const H=new FileReader;H.onloadend=()=>T(H.result),H.onerror=U,H.readAsDataURL(b)})}catch(C){return console.error("Failed to convert media to base64:",C),_}},fw=_=>{if(_.startsWith("blob:"))return _;if(_.startsWith("data:"))try{const C=_.match(/^data:([^;]+);base64,(.+)$/);if(C){const b=C[1],T=C[2],U=atob(T),H=new Array(U.length);for(let K=0;K<U.length;K++)H[K]=U.charCodeAt(K);const R=new Uint8Array(H),$=new Blob([R],{type:b});return URL.createObjectURL($)}}catch(C){console.error("Failed to convert base64 to blob URL:",C)}return _},Ad=x.useCallback(async()=>{var b;const C={version:"1.0",items:await Promise.all(d.map(async T=>{if(T.type==="image"||T.type==="video"){const U=await vs(T.src);return{...T,src:U}}return T})),groups:ee,arrows:se,paths:y,settings:j,penSettings:I};if((b=window.electronAPI)!=null&&b.saveFile){const T=await window.electronAPI.saveFile(C);T.success?(console.log("Board saved to:",T.path),r&&r!=="new"&&Sk(r,C)):T.canceled||console.error("Save failed:",T.error)}en()},[d,ee,se,y,j,I,en,r]),nd=x.useCallback(async()=>{var b;const C={version:"1.0",items:await Promise.all(d.map(async T=>{if(T.type==="image"||T.type==="video"){const U=await vs(T.src);return{...T,src:U}}return T})),groups:ee,arrows:se,paths:y,settings:j,penSettings:I};if((b=window.electronAPI)!=null&&b.saveFileAs){const T=await window.electronAPI.saveFileAs(C);T.success?console.log("Board saved to:",T.path):T.canceled||console.error("Save as failed:",T.error)}en()},[d,ee,se,y,j,I,en]),rd=x.useCallback(async()=>{var _;if((_=window.electronAPI)!=null&&_.openFile){const C=await window.electronAPI.openFile();if(C.success&&C.data){const b=C.data;if(b.items){const T=b.items.map(U=>(U.type==="image"||U.type==="video")&&U.src.startsWith("data:")?{...U,src:fw(U.src)}:U);c(T)}b.groups&&le(b.groups),b.arrows&&mA(b.arrows),b.paths&&Q(b.paths),b.settings&&oe(b.settings),b.penSettings&&B(b.penSettings),p([]),kr([]),console.log("Board loaded from:",C.path)}else C.canceled||console.error("Load failed:",C.error)}en()},[le,mA,en]),hw=x.useCallback(async _=>{try{const C=await _.text(),b=JSON.parse(C);if(b.items){const T=b.items.map(U=>(U.type==="image"||U.type==="video")&&U.src.startsWith("data:")?{...U,src:fw(U.src)}:U);c(T)}b.groups&&le(b.groups),b.arrows&&mA(b.arrows),b.paths&&Q(b.paths),b.settings&&oe(b.settings),b.penSettings&&B(b.penSettings),p([]),kr([]),console.log("Board loaded from file:",_.name)}catch(C){console.error("Failed to load board file:",C)}},[le,mA]),sd=x.useCallback(async()=>{if(v.length>0){const _=await Promise.all(v.map(async(C,b)=>{var U;const T={...C,id:`${C.type}-${Date.now()}-${b}`,x:C.x+20,y:C.y+20,zIndex:d.length+b+1};if(T.type==="image"){const H=T;if(H.originalFilePath=void 0,(U=H.fileName)!=null&&U.toLowerCase().endsWith(".psd")&&H.src&&typeof H.src=="string")try{let R;if(H.src.startsWith("blob:")){const he=await(await fetch(H.src)).blob();R=await new Promise(Fe=>{const de=new FileReader;de.onloadend=()=>Fe(de.result),de.readAsDataURL(he)})}else if(H.src.startsWith("data:"))R=H.src;else return T;const $=(H.fileName||`psd-${H.id}.png`).replace(/\.psd$/i,".png"),K=await bs(R,$,!1);return console.log("Pasted PSD PNG uploaded to Drive:",K,$),{...H,driveFileId:K,src:R}}catch(R){return console.error("Failed to upload pasted PSD PNG to Drive:",R),T}}return T}));NA(),c(C=>[...C,..._]),p(_.map(C=>C.id)),r&&r!=="new"&&ny(r,_),console.log("Pasted",_.length,"items")}en()},[v,d.length,en,r,NA]);x.useEffect(()=>{const _=C=>{if(console.log("Key:",C.key,"Ctrl:",C.ctrlKey,"Settings:",D,"Target:",C.target),D)return;const b=C.target;if(!(b&&(b.isContentEditable||b.tagName==="INPUT"||b.tagName==="TEXTAREA"))){if((C.ctrlKey||C.metaKey)&&(C.key==="s"||C.key==="S")&&!C.shiftKey){C.preventDefault(),C.stopPropagation(),Ad();return}if((C.ctrlKey||C.metaKey)&&C.shiftKey&&(C.key==="s"||C.key==="S")){C.preventDefault(),C.stopPropagation(),nd();return}if((C.ctrlKey||C.metaKey)&&(C.key==="o"||C.key==="O")){C.preventDefault(),C.stopPropagation(),rd();return}if((C.ctrlKey||C.metaKey)&&(C.key==="c"||C.key==="C")){if(C.preventDefault(),C.stopPropagation(),u.length>0){const T=d.filter(U=>u.includes(U.id));E(T),console.log("Copied",T.length,"items")}return}if((C.ctrlKey||C.metaKey)&&(C.key==="v"||C.key==="V")){C.preventDefault(),C.stopPropagation(),sd();return}if((C.ctrlKey||C.metaKey)&&(C.key==="z"||C.key==="Z")&&!C.shiftKey){C.preventDefault(),C.stopPropagation(),YF();return}if((C.ctrlKey||C.metaKey)&&(C.key==="y"||C.key==="Y"||C.shiftKey&&(C.key==="z"||C.key==="Z"))){C.preventDefault(),C.stopPropagation(),$F();return}if((C.ctrlKey||C.metaKey)&&(C.key==="g"||C.key==="G")){if(C.preventDefault(),C.stopPropagation(),u.length>=2){const T=d.filter(U=>u.includes(U.id));T.length>=2&&(Oe(u,T),p([]))}return}if(C.key==="Delete"||C.key==="Backspace"){u.length>0?(C.preventDefault(),C.stopPropagation(),NA(),d.filter(U=>u.includes(U.id)).forEach(U=>{if(U.type==="image"&&"driveFileId"in U&&U.driveFileId){const H=U.driveFileId;Zx(H).catch(R=>{console.error("Failed to delete image from Drive:",R)})}}),c(U=>U.filter(H=>!u.includes(H.id))),u.forEach(U=>{U.startsWith("group-")&&DA(U),Hr(U),r&&r!=="new"&&bk(r,U)}),p([])):Ri.length>0&&(C.preventDefault(),C.stopPropagation(),NA(),Ri.forEach(T=>be(T)),kr([]));return}if(w==="pen"||w==="eraser"){const T=j.brushSizeDecrease?Tl(C,j.brushSizeDecrease):C.key==="[",U=j.brushSizeIncrease?Tl(C,j.brushSizeIncrease):C.key==="]";if(T){C.preventDefault(),C.stopPropagation(),B(w==="pen"?H=>({...H,size:Math.max(1,H.size-1)}):H=>({...H,eraserSize:Math.max(1,H.eraserSize-1)}));return}if(U){C.preventDefault(),C.stopPropagation(),B(w==="pen"?H=>({...H,size:Math.min(50,H.size+1)}):H=>({...H,eraserSize:Math.min(50,H.eraserSize+1)}));return}}!C.ctrlKey&&!C.metaKey&&(C.key.toLowerCase()==="v"&&m("select"),C.key.toLowerCase()==="t"&&m("text"),C.key.toLowerCase()==="a"&&m("arrow"),C.key.toLowerCase()==="p"&&m("pen"),C.key.toLowerCase()==="e"&&m("eraser"))}};return document.addEventListener("keydown",_,!0),window.addEventListener("keydown",_,!0),()=>{document.removeEventListener("keydown",_,!0),window.removeEventListener("keydown",_,!0)}},[u,d,Oe,DA,Hr,D,v,Ad,nd,rd,sd,w,j]);const JF=x.useCallback(_=>{_.preventDefault(),_.stopPropagation();const C=Array.from(_.dataTransfer.files),b=C.filter(Fe=>Fe.name.endsWith(".refboard")||Fe.type==="application/json");if(b.length>0){hw(b[0]);return}const T=C.filter(Fe=>{const de=Fe.name.toLowerCase(),ut=Fe.type.startsWith("image/"),yA=Fe.type.startsWith("video/"),Ot=de.endsWith(".psd");return ut||yA||Ot});if(T.length===0)return;const U=Math.ceil(Math.sqrt(T.length)),H=300,R=200,$=0;let K,Be;_.canvasX!==void 0&&_.canvasY!==void 0?(K=_.canvasX,Be=_.canvasY):(K=_.clientX,Be=_.clientY),(async()=>{const Fe=await Promise.all(T.map(async(de,ut)=>{var Ew,_w,Fw;const Ot=de.name.toLowerCase().endsWith(".psd"),Cw=de.type.startsWith("image/")||Ot;let Rr=URL.createObjectURL(de),Bn;const Na=de.type.startsWith("video/");if((Cw||Na)&&!Ot&&t)try{if(Na){if(Bn=await jB(de,de.name,!1,!0),!Bn||Bn.trim()==="")throw new Error("Video upload failed: No file ID returned");console.log("Video uploaded to Drive:",Bn,"File:",de.name)}else{const Mt=await vs(Rr);Bn=await zB(Mt,de.name),console.log("Image uploaded to Drive:",Bn)}}catch(Mt){if(console.error("Failed to upload media to Drive:",Mt),!Na)try{Rr=await vs(Rr)}catch(mn){console.error("Failed to convert dropped file to base64:",mn)}}else if(!Ot&&!Na)try{Rr=await vs(Rr)}catch(Mt){console.error("Failed to convert dropped file to base64:",Mt)}let id;if(Ot){const Mt=de.path;if(Mt&&typeof Mt=="string")id=Mt,console.log("PSD file original path:",Mt),(Ew=window.electronAPI)!=null&&Ew.watchPSDFile&&await window.electronAPI.watchPSDFile(Mt);else if((_w=window.electronAPI)!=null&&_w.savePSDFile)try{const mn=await de.arrayBuffer(),aA=await window.electronAPI.savePSDFile(mn,de.name);aA.success&&aA.path?(id=aA.path,console.log("PSD file saved to temp:",aA.path,"for file:",de.name),(Fw=window.electronAPI)!=null&&Fw.watchPSDFile&&await window.electronAPI.watchPSDFile(aA.path)):console.error("Failed to save PSD file:",aA.error)}catch(mn){console.error("Failed to save PSD file:",mn)}else console.warn("PSD file detected but savePSDFile API not available")}if(Ot&&t)try{const{convertPSDToImage:Mt}=await qr(async()=>{const{convertPSDToImage:aA}=await import("./psdParser-DX-W7wsa.js");return{convertPSDToImage:aA}},[]),mn=await Mt(de);if(mn){Rr=mn;try{const aA=de.name.replace(/\.psd$/i,".png");Bn=await bs(mn,aA,!0),console.log("PSD converted to PNG and uploaded to Drive:",Bn,aA)}catch(aA){console.error("Failed to upload PSD PNG to Drive:",aA)}}}catch(Mt){console.error("Failed to convert PSD to image:",Mt)}const fQ=ut%U,hQ=Math.floor(ut/U),pQ=fQ*(H+$),gQ=hQ*(R+$);return{id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}-${ut}`,type:Cw?"image":"video",src:Rr,driveFileId:Bn,fileName:de.name,originalFilePath:id,x:K+pQ,y:Be+gQ,width:H,height:R,zIndex:d.length+ut+1,rotation:0,flipHorizontal:!1,flipVertical:!1}}));NA(),c(de=>[...de,...Fe]),r&&r!=="new"&&ny(r,Fe)})()},[d,hw,vs,r,NA]),ZF=_=>{if(w==="text"){let C,b;if(_.canvasX!==void 0&&_.canvasY!==void 0&&!isNaN(_.canvasX)&&!isNaN(_.canvasY))C=_.canvasX,b=_.canvasY;else{console.warn("Canvas click without transformed coordinates");const U=_.currentTarget.getBoundingClientRect();C=_.clientX-U.left,b=_.clientY-U.top}const T={id:`text-${Date.now()}`,type:"text",content:"",x:C,y:b,width:200,height:50,fontSize:16,color:"#ffffff",fontFamily:"Inter, sans-serif",zIndex:d.length+1};NA(),c(U=>[...U,T]),Ce(U=>new Set(U).add(T.id)),r&&r!=="new"&&ol(r,T.id,T),m("select")}},qF=_=>{if(!(isNaN(_.canvasX)||isNaN(_.canvasY))&&(w==="pen"||w==="eraser")){const C={id:Date.now().toString(),points:[{x:_.canvasX,y:_.canvasY,pressure:_.pressure}],color:I.color,size:w==="pen"?I.size:I.eraserSize,isEraser:w==="eraser"};N(C)}},eQ=_=>{isNaN(_.canvasX)||isNaN(_.canvasY)||(r&&r!=="new"&&t&&Ay(r,t.uid,t.displayName||"Anonymous",t.email||"anonymous@example.com",_.canvasX,_.canvasY),F&&N(C=>C?{...C,points:[...C.points,{x:_.canvasX,y:_.canvasY,pressure:_.pressure}]}:null))},tQ=()=>{if(F){if(F.isEraser){const _=F.size/2,C=y.filter(b=>!b.points.some(U=>F.points.some(H=>{const R=U.x-H.x,$=U.y-H.y;return Math.sqrt(R*R+$*$)<_+b.size/2})));NA(),Q(C),r&&r!=="new"&&$c(r,"paths",C)}else NA(),Q(_=>{const C=[..._,F];return r&&r!=="new"&&$c(r,"paths",C),C});N(null)}},wn=(_,C)=>{c(b=>b.map(T=>{if(T.id===_){const U={...T,...C};return r&&r!=="new"&&ol(r,_,C),U}return T}))},AQ=x.useCallback(async _=>{var b,T;const C=d.find(U=>U.id===_);if(!C||!((b=C.fileName)!=null&&b.toLowerCase().endsWith(".psd"))||!C.originalFilePath){console.warn("Cannot refresh: not a PSD file or no original path");return}try{if(console.log("Refreshing PSD file:",C.fileName),(T=window.electronAPI)!=null&&T.readPSDFile){const U=await window.electronAPI.readPSDFile(C.originalFilePath);if(U.success&&U.data){const H=new File([U.data],C.fileName||"image.psd",{type:"application/octet-stream"}),{convertPSDToImage:R}=await qr(async()=>{const{convertPSDToImage:K}=await import("./psdParser-DX-W7wsa.js");return{convertPSDToImage:K}},[]),$=await R(H);if($){let K=C.driveFileId;try{const Be=(C.fileName||`psd-${C.id}.png`).replace(/\.psd$/i,".png");K=await bs($,Be,!0),console.log("PSD PNG updated in Drive:",K,Be)}catch(Be){console.error("Failed to update PSD PNG in Drive:",Be);return}c(Be=>Be.map(he=>{if(he.id===_&&he.type!=="text"){const Fe={...he,src:"",driveFileId:K};return r&&r!=="new"&&ol(r,_,{driveFileId:K}),Fe}return he})),console.log("PSD file refreshed successfully:",C.fileName)}else console.warn("Failed to convert PSD to image")}else console.error("Failed to read PSD file:",U.error)}}catch(U){console.error("Failed to refresh PSD file:",U)}},[d,r]),[pw,gw]=x.useState(null),nQ=x.useCallback(_=>{const C=d.find(b=>b.id===_);!C||C.type!=="image"||(p([_]),gw(_),setTimeout(()=>{gw(null)},100))},[d]),Lr=x.useRef({}),rQ=x.useCallback(_=>{u.forEach(C=>{const b=d.find(T=>T.id===C);b&&(Lr.current[C]={x:b.x,y:b.y})}),Pt.current||(Pt.current={items:JSON.parse(JSON.stringify(d)),groups:JSON.parse(JSON.stringify(ee)),arrows:JSON.parse(JSON.stringify(se)),paths:JSON.parse(JSON.stringify(y))})},[u,d,ee,se,y]),sQ=x.useCallback((_,C)=>{const b=d.find(R=>R.id===_);if(!b)return;const T=Lr.current[_];if(!T){Lr.current[_]={x:b.x,y:b.y};return}const U=C.x-T.x,H=C.y-T.y;Ln.flushSync(()=>{c(R=>R.map($=>{if(!$||!$.id)return $;if(u.includes($.id)){const K=Lr.current[$.id];if(K){const Be=K.x+U,he=K.y+H;return isNaN(Be)||isNaN(he)?$:{...$,x:Be,y:he}}}return $}))})},[u,d]),ww=(_,C,b)=>{const T=d.find(R=>R.id===_);if(!T)return;const U=Lr.current[_];if(U&&u.length>1){const R=C-U.x,$=b-U.y;if(Pt.current&&(R!==0||$!==0)){const K=Pt.current;ce(Be=>{const he=Be.slice(0,Me+1);return he.push(K),he.length>50&&he.shift(),he}),ct(Be=>Math.min(Be+1,49)),Pt.current=null}u.forEach(K=>{if(!K)return;if(d.find(he=>he.id===K)){const he=Lr.current[K];if(he){const Fe=he.x+R,de=he.y+$;!isNaN(Fe)&&!isNaN(de)&&isFinite(Fe)&&isFinite(de)&&wn(K,{x:Fe,y:de})}}}),Lr.current={}}else wn(_,{x:C,y:b});const H=ee.find(R=>{if(!R.childIds||!Array.isArray(R.childIds))return!1;const $=C+T.width/2,K=b+T.height/2;return $>=R.x&&$<=R.x+R.width&&K>=R.y&&K<=R.y+R.height&&!R.childIds.includes(_)});if(H)ZA(H.id,_),console.log(`Added ${_} to group ${H.name}`);else{const R=we(_);if(R){const $=C+T.width/2,K=b+T.height/2;($<R.x||$>R.x+R.width||K<R.y||K>R.y+R.height)&&(z(_),console.log(`Removed ${_} from group ${R.name}`))}}},iQ=x.useCallback(_=>{const C=ee.find(T=>T.id===_);if(!C||!C.childIds||!Array.isArray(C.childIds)||C.childIds.length===0)return;const b={};d.forEach(T=>{C.childIds.includes(T.id)&&(b[T.id]={x:T.x,y:T.y})}),ne.current[_]={groupX:C.x,groupY:C.y,items:b}},[ee,d]),oQ=x.useCallback((_,C)=>{const b=ne.current[_];if(!b){const H=ee.find($=>$.id===_);if(!H||!H.childIds||!Array.isArray(H.childIds)||H.childIds.length===0)return;const R={};d.forEach($=>{H.childIds.includes($.id)&&(R[$.id]={x:$.x,y:$.y})}),ne.current[_]={groupX:H.x,groupY:H.y,items:R},le($=>$.map(K=>K.id===_?{...K,x:C.x,y:C.y}:K));return}const T=C.x-b.groupX,U=C.y-b.groupY;Ln.flushSync(()=>{le(H=>H.map(R=>R.id===_?{...R,x:C.x,y:C.y}:R)),c(H=>H.map(R=>{const $=b.items[R.id];return $?{...R,x:$.x+T,y:$.y+U}:R}))})},[ee,d,le]),aQ=(_,C)=>{const b=ee.find(T=>T.id===_);if(!b||!b.childIds||!Array.isArray(b.childIds)){Ue(_,C),delete ne.current[_];return}(C.x!==void 0||C.y!==void 0)&&b.childIds.forEach(T=>{const U=d.find(H=>H.id===T);U&&wn(T,{x:U.x,y:U.y})}),Ue(_,C),delete ne.current[_]},Bw=(_,C=!1)=>{if(w==="arrow"){h?h!==_&&(NA(),Rt(h,_),g(null),m("select")):g(_);return}kr([]),p(C?b=>b.includes(_)?b.filter(T=>T!==_):[...b,_]:[_])},lQ=_=>{p([]),kr([_])},cQ=_=>{const C=d.filter(b=>{const T=b.x+b.width,U=b.y+b.height,H=_.x+_.width,R=_.y+_.height;return!(b.x>H||T<_.x||b.y>R||U<_.y)});p(C.map(b=>b.id))},mw=()=>{if(u.length>=2){const _=d.filter(C=>u.includes(C.id));_.length>=2&&(NA(),Oe(u,_),p([]))}},yw=_=>{const C=d.find(b=>b.id===_);return C?{x:C.x,y:C.y,width:C.width,height:C.height}:null},uQ=x.useCallback(_=>{Sa({visible:!0,x:_.clientX,y:_.clientY})},[]),vw=Li.has("CTRL");if(A)return f.jsx("div",{className:"w-screen h-screen flex items-center justify-center bg-black text-white",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{children:"Loading..."})]})});const dQ=!!localStorage.getItem("google_access_token");return!t||!dQ?f.jsx(wS,{onLogin:()=>{window.location.reload()}}):r===null?f.jsx(vk,{onBoardSelect:(_,C)=>{s(_),C?o(C):_==="new"&&o(" ")}}):f.jsxs("div",{className:"w-screen h-screen overflow-hidden bg-black text-white",children:[ae&&f.jsx(hS,{showBreakReminder:ae}),ae&&f.jsx(pS,{getRemainingWorkTime:$e}),f.jsx(cS,{onBackToList:async()=>{await Da(!0),s(null)},onSave:()=>Da(!0),onShare:r&&r!=="new"?()=>M(!0):void 0,boardName:i,opacity:k,onOpacityChange:_=>{var C;V(_),(C=window.electronAPI)==null||C.setOpacity(_)},isAlwaysOnTop:G,onToggleAlwaysOnTop:async()=>{if(window.electronAPI){const _=await window.electronAPI.toggleAlwaysOnTop();te(_)}}}),f.jsx(uS,{activeTool:w,onToolChange:m,onSettingsClick:()=>P(!0)}),(w==="pen"||w==="eraser")&&f.jsx(fS,{color:I.color,size:w==="pen"?I.size:I.eraserSize,isEraser:w==="eraser",onColorChange:_=>B(C=>({...C,color:_})),onSizeChange:_=>B(C=>w==="pen"?{...C,size:_}:{...C,eraserSize:_})}),ba&&(()=>{var T;const _=ee.find(U=>U.id===ba);if(!_)return null;const C=[10,12,14,16,18,20,24,28,32],b=[{name:"Inter",value:"Inter, sans-serif"},{name:"Arial",value:"Arial, sans-serif"},{name:"Times New Roman",value:"Times New Roman, serif"},{name:"Courier New",value:"Courier New, monospace"},{name:"Georgia",value:"Georgia, serif"},{name:"Verdana",value:"Verdana, sans-serif"}];return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:()=>{Pi(null),Vn(!1),_e(!1)}}),f.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-gray-700 border border-gray-600 rounded-lg shadow-xl py-3 px-4 z-[10000] flex items-center gap-3",style:{position:"fixed",top:"1rem",left:"50%",transform:"translateX(-50%)"},onClick:U=>U.stopPropagation(),children:[f.jsxs("div",{className:"relative flex items-center gap-1",children:[f.jsx("input",{type:"number",value:_.fontSize||12,onChange:U=>{const H=parseInt(U.target.value);!isNaN(H)&&H>0&&H<=200&&Ue(_.id,{fontSize:H})},onFocus:U=>U.stopPropagation(),onClick:U=>U.stopPropagation(),onMouseDown:U=>U.stopPropagation(),onKeyDown:U=>U.stopPropagation(),className:"w-16 px-2 py-2 bg-gray-600 rounded-lg text-sm text-gray-300 font-medium hover:bg-gray-500 outline-none border border-gray-500 focus:border-gray-400",min:"1",max:"200"}),f.jsx("span",{className:"text-sm text-gray-300",children:"px"}),f.jsx("button",{onClick:U=>{U.stopPropagation(),Vn(!Ta),_e(!1)},className:"px-2 py-2 bg-gray-600 rounded-lg text-sm text-gray-300 font-medium hover:bg-gray-500",children:f.jsx("span",{className:"text-xs",children:""})}),Ta&&f.jsx("div",{className:"absolute top-full left-0 mt-1 bg-gray-700 border border-gray-600 rounded-lg shadow-lg py-1 z-[10001] min-w-[100px] max-h-48 overflow-y-auto",children:C.map(U=>f.jsxs("button",{onClick:()=>{Ue(_.id,{fontSize:U}),Vn(!1)},className:`w-full px-3 py-2 text-left text-sm text-gray-300 hover:bg-gray-600 font-medium ${(_.fontSize||12)===U?"bg-gray-600":""}`,children:[U,"px"]},U))})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:U=>{U.stopPropagation(),_e(!S),Vn(!1)},className:"px-3 py-2 bg-gray-600 rounded-lg text-sm text-gray-300 font-medium hover:bg-gray-500 flex items-center justify-between gap-2 min-w-[140px]",style:{fontFamily:_.fontFamily||"Inter, sans-serif"},children:[f.jsx("span",{children:((T=b.find(U=>U.value===(_.fontFamily||"Inter, sans-serif")))==null?void 0:T.name)||"Inter"}),f.jsx("span",{className:"text-xs text-gray-400",children:""})]}),S&&f.jsx("div",{className:"absolute top-full left-0 mt-1 bg-gray-700 border border-gray-600 rounded-lg shadow-lg py-1 z-[10001] min-w-[140px] max-h-48 overflow-y-auto",children:b.map(U=>f.jsx("button",{onClick:()=>{Ue(_.id,{fontFamily:U.value}),_e(!1)},className:`w-full px-3 py-2 text-left text-sm text-gray-300 hover:bg-gray-600 font-medium ${(_.fontFamily||"Inter, sans-serif")===U.value?"bg-gray-600":""}`,style:{fontFamily:U.value},children:U.name},U.value))})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"color",value:_.color||"#ffffff",onChange:U=>{Ue(_.id,{color:U.target.value})},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",style:{zIndex:1}}),f.jsxs("button",{className:"px-3 py-2 bg-gray-600 rounded-lg text-sm text-gray-300 font-medium hover:bg-gray-500 flex items-center gap-2 relative",children:[f.jsx("div",{className:"w-5 h-5 rounded border border-gray-500",style:{backgroundColor:_.color||"#ffffff"}}),f.jsx("span",{children:""})]})]}),f.jsx("button",{onClick:()=>{Pi(null),Vn(!1),_e(!1)},className:"px-3 py-2 bg-gray-600 rounded-lg text-sm text-gray-300 font-medium hover:bg-gray-500",children:""})]})]})})(),f.jsx(dS,{isOpen:D,onClose:()=>P(!1),settings:j,onSave:oe}),f.jsxs(jI,{selectedItemId:u[0]||null,getItemPosition:yw,onSelectionBox:cQ,onCanvasClick:ZF,onCanvasDrop:JF,panSettings:j.pan,windowDragSettings:j.windowDrag,zoomWheelModifier:j.zoomWheelModifier,activeTool:w,pressedKeys:Li,isEraser:w==="eraser",brushSize:w==="pen"?I.size:I.eraserSize,onContextMenu:uQ,opacity:k,onOpacityChange:_=>{var C;V(_),(C=window.electronAPI)==null||C.setOpacity(_)},opacityDragSettings:j.opacityDrag,onCanvasMouseDown:qF,onCanvasMouseMove:eQ,onCanvasMouseUp:tQ,zoomToFit:pw?{itemId:pw,padding:40}:null,children:[f.jsx("svg",{className:"absolute inset-0 pointer-events-auto",style:{width:"100%",height:"100%",zIndex:0,overflow:"visible"},children:se.map(_=>f.jsx(lS,{arrow:_,getItemPosition:yw,isSelected:Ri.includes(_.id),onSelect:lQ,items:d},_.id))}),ee.map(_=>f.jsx(oS,{group:_,isSelected:u.includes(_.id),onUpdate:aQ,onDragStart:iQ,onDrag:oQ,onSelect:C=>p([C]),onNameChange:Ie,onFormatMenuOpen:C=>Pi(C),onUngroup:DA,activeTool:w},_.id)),d.filter(_=>_&&_.id).map((_,C)=>{const b=_.id||`item-${C}`;return _.type==="text"?f.jsx(aS,{item:_,isSelected:u.includes(_.id),onUpdate:wn,onDragStop:ww,onSelect:(T,U)=>Bw(T,U),onGroup:mw,canGroup:u.length>=2&&u.includes(_.id),isCtrlPressed:vw,activeTool:w,isNewlyCreated:He.has(_.id),onEditStart:T=>{Ce(U=>{const H=new Set(U);return H.delete(T),H})},onFormatMenuOpen:T=>De(T)},b):f.jsx(iS,{item:_,isSelected:u.includes(_.id),onUpdate:wn,onDragStart:rQ,onDrag:sQ,onDragStop:ww,onSelect:(T,U)=>Bw(T,U),onGroup:mw,canGroup:u.length>=2&&u.includes(_.id),isCtrlPressed:vw,activeTool:w,onDoubleClick:nQ,onRefreshPSD:AQ},b)}),f.jsx(Ek,{cursors:Z}),f.jsx(gS,{paths:y,currentPath:F})]}),ie&&(()=>{var T;const _=d.find(U=>U.id===ie&&U.type==="text");if(!_)return null;const C=[10,12,14,16,18,20,24,28,32],b=[{name:"Inter",value:"Inter, sans-serif"},{name:"Arial",value:"Arial, sans-serif"},{name:"Times New Roman",value:"Times New Roman, serif"},{name:"Courier New",value:"Courier New, monospace"},{name:"Georgia",value:"Georgia, serif"},{name:"Verdana",value:"Verdana, sans-serif"}];return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:()=>{De(null),xe(!1),ue(!1)}}),f.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-gray-700 border border-gray-600 rounded-lg shadow-xl py-3 px-4 z-[10000] flex items-center gap-3",style:{position:"fixed",top:"1rem",left:"50%",transform:"translateX(-50%)"},onClick:U=>U.stopPropagation(),children:[f.jsxs("div",{className:"relative flex items-center gap-1",children:[f.jsx("input",{type:"number",value:_.fontSize,onChange:U=>{const H=parseInt(U.target.value);!isNaN(H)&&H>0&&H<=200&&wn(_.id,{fontSize:H})},onFocus:U=>U.stopPropagation(),onClick:U=>U.stopPropagation(),onMouseDown:U=>U.stopPropagation(),onKeyDown:U=>U.stopPropagation(),className:"w-16 px-2 py-2 bg-gray-600 rounded-lg text-sm text-gray-300 font-medium hover:bg-gray-500 outline-none border border-gray-500 focus:border-gray-400",min:"1",max:"200"}),f.jsx("span",{className:"text-sm text-gray-300",children:"px"}),f.jsx("button",{onClick:U=>{U.stopPropagation(),xe(!ve),ue(!1)},className:"px-2 py-2 bg-gray-600 rounded-lg text-sm text-gray-300 font-medium hover:bg-gray-500",children:f.jsx("span",{className:"text-xs",children:""})}),ve&&f.jsx("div",{className:"absolute top-full left-0 mt-1 bg-gray-700 border border-gray-600 rounded-lg shadow-lg py-1 z-[10001] min-w-[100px] max-h-48 overflow-y-auto",children:C.map(U=>f.jsxs("button",{onClick:()=>{wn(_.id,{fontSize:U}),xe(!1)},className:`w-full px-3 py-2 text-left text-sm text-gray-300 hover:bg-gray-600 font-medium ${_.fontSize===U?"bg-gray-600":""}`,children:[U,"px"]},U))})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:U=>{U.stopPropagation(),ue(!Ne),xe(!1)},className:"px-3 py-2 bg-gray-600 rounded-lg text-sm text-gray-300 font-medium hover:bg-gray-500 flex items-center justify-between gap-2 min-w-[140px]",style:{fontFamily:_.fontFamily},children:[f.jsx("span",{children:((T=b.find(U=>U.value===_.fontFamily))==null?void 0:T.name)||"Inter"}),f.jsx("span",{className:"text-xs text-gray-400",children:""})]}),Ne&&f.jsx("div",{className:"absolute top-full left-0 mt-1 bg-gray-700 border border-gray-600 rounded-lg shadow-lg py-1 z-[10001] min-w-[140px] max-h-48 overflow-y-auto",children:b.map(U=>f.jsx("button",{onClick:()=>{wn(_.id,{fontFamily:U.value}),ue(!1)},className:`w-full px-3 py-2 text-left text-sm text-gray-300 hover:bg-gray-600 font-medium ${_.fontFamily===U.value?"bg-gray-600":""}`,style:{fontFamily:U.value},children:U.name},U.value))})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"color",value:_.color,onChange:U=>{wn(_.id,{color:U.target.value})},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",style:{zIndex:1}}),f.jsxs("button",{className:"px-3 py-2 bg-gray-600 rounded-lg text-sm text-gray-300 font-medium hover:bg-gray-500 flex items-center gap-2 relative",children:[f.jsx("div",{className:"w-5 h-5 rounded border border-gray-500",style:{backgroundColor:_.color}}),f.jsx("span",{children:""})]})]}),f.jsx("button",{onClick:()=>{De(null),xe(!1),ue(!1)},className:"px-3 py-2 bg-gray-600 rounded-lg text-sm text-gray-300 font-medium hover:bg-gray-500",children:""})]})]})})(),d.length===0&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none text-gray-500",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xl mb-2",children:"Drag and drop images or videos here"}),f.jsx("p",{className:"text-sm",children:"Or press T for text, A for arrows"})]})}),w==="arrow"&&h&&f.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-blue-500 text-white px-4 py-2 rounded shadow-lg",children:"Click another item to create arrow"}),ys.visible&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:en,onContextMenu:_=>_.preventDefault()}),f.jsxs("div",{className:"fixed bg-gray-800 border border-gray-700 rounded-lg shadow-lg py-1 z-[9999] min-w-[200px]",style:{left:ys.x,top:ys.y},children:[f.jsxs("button",{onClick:Ad,className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-gray-700 flex items-center justify-between gap-4",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"text-xs text-gray-400",children:"Ctrl+S"})]}),f.jsxs("button",{onClick:nd,className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-gray-700 flex items-center justify-between gap-4",children:[f.jsx("span",{children:"  "}),f.jsx("span",{className:"text-xs text-gray-400",children:"Ctrl+Shift+S"})]}),f.jsxs("button",{onClick:rd,className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-gray-700 flex items-center justify-between gap-4",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"text-xs text-gray-400",children:"Ctrl+O"})]}),f.jsx("div",{className:"h-px bg-gray-700 my-1"}),f.jsxs("button",{onClick:()=>{if(u.length>0){const _=d.filter(C=>u.includes(C.id));E(_),console.log("Copied",_.length,"items")}en()},className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-gray-700 flex items-center justify-between gap-4",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"text-xs text-gray-400",children:"Ctrl+C"})]}),f.jsxs("button",{onClick:sd,className:"w-full px-4 py-2 text-left text-sm text-white hover:bg-gray-700 flex items-center justify-between gap-4",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"text-xs text-gray-400",children:"Ctrl+V"})]})]})]}),qA&&f.jsxs("div",{className:"fixed bottom-8 right-8 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 z-[10000]",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),f.jsx("span",{className:"font-medium",children:" ..."})]}),q&&r&&r!=="new"&&f.jsx(Ck,{boardId:r,boardName:i,items:d,onClose:()=>M(!1)})]})}mf.createRoot(document.getElementById("root")).render(f.jsx(Lo.StrictMode,{children:f.jsx(aO,{})}));
